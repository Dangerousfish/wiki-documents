"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[92320],{15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>p});var a=n(96540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=m(n),c=o,p=d["".concat(l,".").concat(c)]||d[c]||h[c]||i;return n?a.createElement(p,r(r({ref:t},u),{},{components:n})):a.createElement(p,r({ref:t},u))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,r[1]=s;for(var m=2;m<i;m++)r[m]=n[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},19365:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(96540),o=n(20053);const i={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.A)(i.tabItem,r),hidden:n},t)}},11470:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(9668),o=n(96540),i=n(20053),r=n(23104),s=n(56347),l=n(57485),m=n(31682),u=n(89466);function d(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:o}}=e;return{value:t,label:n,attributes:a,default:o}}))}function h(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,m.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function c(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(i),(0,o.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[r,s]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[l,m]=p({queryString:n,groupId:a}),[d,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Dv)(n);return[a,(0,o.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),y=(()=>{const e=l??d;return c({value:e,tabValues:i})?e:null})();(0,o.useLayoutEffect)((()=>{y&&s(y)}),[y]);return{selectedValue:r,selectValue:(0,o.useCallback)((e=>{if(!c({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);s(e),m(e),g(e)}),[m,g,i]),tabValues:i}}var y=n(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:n,selectedValue:s,selectValue:l,tabValues:m}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),h=e=>{const t=e.currentTarget,n=u.indexOf(t),a=m[n].value;a!==s&&(d(t),l(a))},c=e=>{let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},t)},m.map((e=>{let{value:t,label:n,attributes:r}=e;return o.createElement("li",(0,a.A)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>u.push(e),onKeyDown:c,onClick:h},r,{className:(0,i.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":s===t})}),n??t)})))}function w(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function b(e){const t=g(e);return o.createElement("div",{className:(0,i.A)("tabs-container",f.tabList)},o.createElement(v,(0,a.A)({},e,t)),o.createElement(w,(0,a.A)({},e,t)))}function A(e){const t=(0,y.A)();return o.createElement(b,(0,a.A)({key:String(t)},e))}},5186:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>m,toc:()=>d});var a=n(9668),o=(n(96540),n(15680)),i=n(11470),r=n(19365);const s={title:"MR60BHA2 Breath-Heartbeat Sensor with Home Assistant",description:"MR60BHA2 Heartbeat mmWave Sensor with Home Assistant\n",image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/ha_with_mr60bha2",keywords:["ESPHome"],sidebar_position:2,last_update:{date:"09/23/2024",author:"Spencer"}},l=void 0,m={unversionedId:"Sensor/mmWave_radar_sensor/mr60bha2-mmwave-kit/ha_with_mr60bha2",id:"Sensor/mmWave_radar_sensor/mr60bha2-mmwave-kit/ha_with_mr60bha2",title:"MR60BHA2 Breath-Heartbeat Sensor with Home Assistant",description:"MR60BHA2 Heartbeat mmWave Sensor with Home Assistant\n",source:"@site/docs/Sensor/mmWave_radar_sensor/mr60bha2-mmwave-kit/ha_with_mr60bha2.md",sourceDirName:"Sensor/mmWave_radar_sensor/mr60bha2-mmwave-kit",slug:"/ha_with_mr60bha2",permalink:"/ha_with_mr60bha2",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/mmWave_radar_sensor/mr60bha2-mmwave-kit/ha_with_mr60bha2.md",tags:[],version:"current",lastUpdatedBy:"Spencer",lastUpdatedAt:1727049600,formattedLastUpdatedAt:"Sep 23, 2024",sidebarPosition:2,frontMatter:{title:"MR60BHA2 Breath-Heartbeat Sensor with Home Assistant",description:"MR60BHA2 Heartbeat mmWave Sensor with Home Assistant\n",image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/ha_with_mr60bha2",keywords:["ESPHome"],sidebar_position:2,last_update:{date:"09/23/2024",author:"Spencer"}},sidebar:"ProductSidebar",previous:{title:"Getting started with MR60BHA2",permalink:"/getting_started_with_mr60bha2_mmwave_kit"},next:{title:"24GHz mmWave Human Static Presence Lite",permalink:"/Radar_MR24HPC1"}},u={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Product Overview",id:"product-overview",level:2},{value:"MR60BHA2 mmWave Sensor with XIAO ESP32C6",id:"mr60bha2-mmwave-sensor-with-xiao-esp32c6",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Step 1: Setting Up Home Assistant",id:"setting-up-home-assistant",level:3},{value:"Step 2: Preparing the Kit",id:"step-2-preparing-the-kit",level:3},{value:"Connect to the kit&#39;s hotspot",id:"connect-to-the-kits-hotspot",level:4},{value:"Step 3: Discovering and Adding the Device in Home Assistant",id:"discovering-and-adding-the-device-in-home-assistant",level:3},{value:"Monitoring and Control",id:"monitoring-and-control",level:2},{value:"Sensor data Monitoring",id:"sensor-data-monitoring",level:3},{value:"RGB light Controlling",id:"rgb-light-controlling",level:3},{value:"Next Steps",id:"next-steps",level:3},{value:"Implementing Automation in Home Assistant",id:"implementing-automation-in-home-assistant",level:4},{value:"Modifying the Firmware with ESPHome",id:"modifying-the-firmware-with-esphome",level:2},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],h={toc:d},c="wrapper";function p(e){let{components:t,...n}=e;return(0,o.yg)(c,(0,a.A)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("h2",{id:"introduction"},"Introduction"),(0,o.yg)("p",null,"The MR60BHA2 is a 60GHz mmWave Breathing and Heartbeat Detection Sensor module designed for integration with the XIAO ESP32C6 microcontroller. This advanced sensor utilizes millimeter-wave technology to provide non-invasive monitoring of vital signs and presence detection."),(0,o.yg)("p",null,"This guide aims to provide a clear and comprehensive walkthrough for integrating the MR60BHA2 mmWave Sensor with Home Assistant using the XIAO ESP32C6 microcontroller. By following this guide, users will learn how to set up the sensor for heartbeat detection, connect it to their Home Assistant environment, and utilize ESPHome to manage and monitor the device effectively."),(0,o.yg)("p",null,"This integration empowers users to enhance their smart home systems with advanced sensing capabilities, enabling automated responses and real-time monitoring for various applications."),(0,o.yg)("div",null,(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-sensor-light-on.jpg",style:{"border-radius":"6px"}})),(0,o.yg)("h2",{id:"product-overview"},"Product Overview"),(0,o.yg)("div",{class:"table-center"},(0,o.yg)("table",{align:"center"},(0,o.yg)("tr",null,(0,o.yg)("th",null,"MR60BHA2 mmWave Sensor")),(0,o.yg)("tr",null,(0,o.yg)("td",null,(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/2-mmWave-45font.jpg",style:{width:360,height:"auto","border-radius":"6px"}})))),(0,o.yg)("tr",null,(0,o.yg)("td",null,(0,o.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,o.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/MR60BHA2-60GHz-mmWave-Sensor-Breathing-and-Heartbeat-Module-p-5945.html?utm_source=wiki"},(0,o.yg)("strong",null,(0,o.yg)("span",null,(0,o.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,o.yg)("h3",{id:"mr60bha2-mmwave-sensor-with-xiao-esp32c6"},"MR60BHA2 mmWave Sensor with XIAO ESP32C6"),(0,o.yg)("p",null,"To effectively integrate the MR60BHA2 mmWave Sensor with Home Assistant using the XIAO ESP32C6, follow these essential steps:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"#setting-up-home-assistant"},"Set Up Home Assistant")),": Begin by installing and configuring Home Assistant to manage your smart home devices, ensuring a seamless connection with the sensor."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"#discovering-and-adding-the-device-in-home-assistant"},"Connect the MR60BHA2 Sensor")),": Learn how to discover and add the MR60BHA2 Sensor to your Home Assistant setup, enabling real-time monitoring of vital signs."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"#sensor-data-monitoring"},"Monitor Sensor Data")),": Once integrated, you can monitor sensor data effectively, allowing for insights into heart rate and breathing patterns."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"#implementing-automation-in-home-assistant"},"Implement Automation")),": Explore the powerful automation features of Home Assistant to create responsive actions based on the sensor data, enhancing your smart home environment."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"#modifying-the-firmware-with-esphome"},"Modify Firmware with ESPHome")),": Utilize ESPHome to customize the sensor's functionality, tailoring it to meet your specific needs for greater flexibility and control.")),(0,o.yg)("p",null,"These steps will guide you through the integration process, helping you make the most of your MR60BHA2 mmWave Sensor and XIAO ESP32C6 setup."),(0,o.yg)("h2",{id:"getting-started"},"Getting Started"),(0,o.yg)("admonition",{title:"Attention",type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Please note that when we refer to firmware updates or modifications, we are specifically addressing the firmware on the XIAO ESP32C6.")),(0,o.yg)("p",null,"To successfully integrate the MR60BHA2 mmWave Sensor with Home Assistant, you will need the following components:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Home Assistant"),": A smart home platform that will manage the sensor data."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"ESPHome Add-on"),": Firmware that enables easy configuration and management of ESP32 devices.")),(0,o.yg)("h3",{id:"setting-up-home-assistant"},"Step 1: Setting Up Home Assistant"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Installation"),": For optimal performance, it's recommended to install ",(0,o.yg)("a",{parentName:"li",href:"https://www.home-assistant.io/installation/"},"Home Assistant OS")," on a Virtual Machine or Raspberry Pi. Follow the official installation guide on the Home Assistant website."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Enabling ESPHome Add-on"),":",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Access the Home Assistant dashboard."),(0,o.yg)("li",{parentName:"ul"},'Navigate to the "Add-ons" section and search for the ESPHome add-on.'),(0,o.yg)("li",{parentName:"ul"},'Click "Install" and then "Start" to enable it.'),(0,o.yg)("li",{parentName:"ul"},"Once installed, configure the add-on to ensure proper communication with the XIAO ESP32C6.")))),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave_kit/2.png",style:{width:1e3,height:"auto"}})),(0,o.yg)("p",null,"By gathering the necessary components and setting up Home Assistant with the ESPHome add-on, you'll be ready to proceed with the integration of the MR60BHA2 mmWave Sensor."),(0,o.yg)("admonition",{title:"install Home Assistant",type:"tip"},(0,o.yg)("p",{parentName:"admonition"},"We have also written how to install Home Assistant for some of Seeed Studio products, please refer to them."),(0,o.yg)("ul",{parentName:"admonition"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"/ODYSSEY-X86-Home-Assistant"},"Getting Started with Home Assistant on ODYSSEY-X86")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"/reTerminal_Home_Assistant"},"Getting Started with Home Assistant on reTerminal")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"/h68k-ha-esphome"},"Getting Started with Home Assistant on LinkStar H68K/reRouter CM4")))),(0,o.yg)("h3",{id:"step-2-preparing-the-kit"},"Step 2: Preparing the Kit"),(0,o.yg)("p",null,"By default, your device (XIAO ESP32C6) comes pre-flashed with firmware for breathing and heart rate detection. However, there are two scenarios where you may need to update the firmware:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Re-flashing the Firmware"),": If the existing firmware is corrupted or you need to start fresh."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Upgrading the Firmware"),": If there is a newer version of the firmware with improved functionality.")),(0,o.yg)("p",null,"There are two simple methods for flashing the firmware:"),(0,o.yg)(i.A,{mdxType:"Tabs"},(0,o.yg)(r.A,{value:"Web Tool",mdxType:"TabItem"},(0,o.yg)("p",null,"You can use this ",(0,o.yg)("a",{parentName:"p",href:"https://limengdu.github.io/MR60BHA2_ESPHome_external_components/"},"Web Tool")," for an easy and direct method to flash your firmware. Simply follow the on-screen instructions."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Click the ",(0,o.yg)("inlineCode",{parentName:"li"},"CONNECT")," button to initiate the connection. The tool will automatically update the firmware.")),(0,o.yg)("p",null,"If something goes wrong, follow the on-screen troubleshooting steps or switch to the ",(0,o.yg)("inlineCode",{parentName:"p"},"ESPHome Web")," method to complete the process.")),(0,o.yg)(r.A,{value:"ESPHome Web",mdxType:"TabItem"},(0,o.yg)("p",null,"For this method, you'll need to download the ",(0,o.yg)("inlineCode",{parentName:"p"},"bin")," firmware file from ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/limengdu/MR60BHA2_ESPHome_external_components/releases"},"here"),"(you'll need to unzip the downloaded file)."),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Connect the sensor kit to your PC."),(0,o.yg)("li",{parentName:"ol"},"Visit the ",(0,o.yg)("a",{parentName:"li",href:"https://web.esphome.io/"},"ESPHome Web")," page."),(0,o.yg)("li",{parentName:"ol"},"Select the firmware file with the ",(0,o.yg)("inlineCode",{parentName:"li"},"*.factory.bin")," suffix.")),(0,o.yg)("p",null,"Watch the following video for a detailed walkthrough of flashing the firmware via ESPHome Web:"),(0,o.yg)("iframe",{class:"youtube-video-r",src:"https://www.youtube.com/embed/J3AVeZCoLK8?si=1AeNTsdmbTvMl0Nq",title:"Install firmware via ESPHome Web",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}))),(0,o.yg)("p",null,"With either method, you'll have your firmware updated and ready for integration with Home Assistant."),(0,o.yg)("h4",{id:"connect-to-the-kits-hotspot"},"Connect to the kit's hotspot"),(0,o.yg)("p",null,"With the firmware, you could power on the sensor kit, and a Wi-Fi access point will appear: ",(0,o.yg)("inlineCode",{parentName:"p"},"seeedstudio-mr60bha2"),"."),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/hotspot-name.png",style:{width:360,height:"auto","border-radius":"15px"}})),(0,o.yg)("p",null,"Navigate to ",(0,o.yg)("inlineCode",{parentName:"p"},"192.168.4.1")," to configure your Home Assistant server's local network settings."),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/opt-for-wifi-ap.jpg",style:{width:360,height:"auto","border-radius":"15px"}})),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-enter-psw.JPEG",style:{width:360,height:"auto","border-radius":"15px"}})),(0,o.yg)("h3",{id:"discovering-and-adding-the-device-in-home-assistant"},"Step 3: Discovering and Adding the Device in Home Assistant"),(0,o.yg)("p",null,"In this section, we'll go through the process using the Home Assistant app, where the logic is the same as on the web."),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Open the App"),": Once you launch the app, select your Home Assistant server. The app will automatically find your server."),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-server-option.JPG",style:{width:360,height:"auto","border-radius":"15px"}}))),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Create an Account"),": If you haven't created an account, you'll need to do so. After that, log in with your credentials."),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-login.JPG",style:{width:360,height:"auto","border-radius":"15px"}}))),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Navigate to the Integration Page"),': Once logged in, go to the "Integrations" page in Home Assistant. If you have installed the ESPHome add-on and both the XIAO ESP32C6 and your Home Assistant server are on the same network, you should see the device ',(0,o.yg)("inlineCode",{parentName:"p"},"Seeed Studio MR60BHA2 Kit {device-mac-address}")," appear under discovered devices.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Add the Device"),": Click to add the device to your Home Assistant setup."),(0,o.yg)("div",{class:"img-container",align:"center"},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-device-find.JPG",alt:"find device"}),(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-device-submit.JPG",alt:"submit a device"}),(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-device-add.JPG",alt:"area"}),(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-addon-device.JPG",alt:"addon"})),(0,o.yg)("p",{parentName:"li"},"Click the ",(0,o.yg)("inlineCode",{parentName:"p"},"CONFIGURE")," button, confirm by pressing the ",(0,o.yg)("inlineCode",{parentName:"p"},"SUBMIT")," button, and assign the device to your preferred area (e.g., Bedroom). After this, the device will be managed through your ESPHome integration, enabling full control and monitoring in Home Assistant."))),(0,o.yg)("h2",{id:"monitoring-and-control"},"Monitoring and Control"),(0,o.yg)("p",null,"By following the steps above, you'll have successfully discovered and added the MR60BHA2 Sensor to your Home Assistant, enabling real-time monitoring and control."),(0,o.yg)("h3",{id:"sensor-data-monitoring"},"Sensor data Monitoring"),(0,o.yg)("p",null,'Now that the sensor is added to the "Bedroom," navigate to the "Overview" tab. You will see the mmWave card displayed in the Bedroom section.'),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-sensor-data.jpg",style:{width:680,height:"auto","border-radius":"15px"}})),(0,o.yg)("h3",{id:"rgb-light-controlling"},"RGB light Controlling"),(0,o.yg)("p",null,"In this section, we will explore how to control an RGB light."),(0,o.yg)("div",{class:"img-container"},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-sensor-light-on.jpg",style:{"border-radius":"6px"}}),(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/light-on.jpg",style:{"border-radius":"6px"}})),(0,o.yg)("p",null,"Click on the corresponding box to directly control the RGB light:"),(0,o.yg)("div",{style:{textAlign:"center"}},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-light-panel.jpg",style:{width:680,height:"auto","border-radius":"15px"}})),(0,o.yg)("iframe",{class:"video-mp4",src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/mr60/mr60bha2/ha-control-light.mp4",title:"Home Assistant Control RGB Light",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",allowfullscreen:!0}),(0,o.yg)("h3",{id:"next-steps"},"Next Steps"),(0,o.yg)("p",null,"Now that you have successfully integrated the MR60BHA2 mmWave Sensor with the XIAO ESP32C6 and Home Assistant, you can explore further enhancements to make the most out of your setup. Here are two essential avenues to consider:"),(0,o.yg)("h4",{id:"implementing-automation-in-home-assistant"},"Implementing Automation in Home Assistant"),(0,o.yg)("p",null,"Home Assistant's powerful automation features allow you to create a more responsive smart home environment based on the data collected from your MR60BHA2 Sensor. This means you can set up actions that occur automatically based on specific triggers related to motion or heartbeat detection."),(0,o.yg)("p",null,"Here's how to implement automations step-by-step:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Navigate to the Automations Section"),': In your Home Assistant dashboard, find and click on the "Automations" tab. This area is dedicated to creating and managing automated actions within your home.'),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Create a New Automation"),': Click on the "Add Automation" button. Home Assistant offers a user-friendly wizard that guides you through the process of setting up an automation.'),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Define the Trigger"),": Choose a trigger based on the MR60BHA2 Sensor's data. For example, you can set the automation to trigger when the sensor detects motion or a specific heartbeat pattern. This means your automation can respond immediately to the sensor's readings."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Set Conditions (Optional)"),": Conditions allow you to refine when the automation should execute. For instance, you might want the lights to turn on only when it's dark outside or if a specific user is home."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Determine the Action"),": Specify what action should occur when the trigger conditions are met. Actions can include turning on lights, sending notifications, or even adjusting thermostat settings. For example, you could create an action that turns on an RGB light when motion is detected, enhancing both security and comfort."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Save and Test"),": After configuring your automation, save it and test its functionality. Walk past the sensor to see if the lights turn on as expected. If any issues arise, you can return to the automation settings to troubleshoot and adjust.")),(0,o.yg)("p",null,"By leveraging Home Assistant's automation capabilities, you can create a truly smart environment that responds to your movements and health metrics, ensuring that your living space adapts to your lifestyle seamlessly."),(0,o.yg)("h2",{id:"modifying-the-firmware-with-esphome"},"Modifying the Firmware with ESPHome"),(0,o.yg)("p",null,"One of the significant advantages of using the XIAO ESP32C6 is its compatibility with ESPHome, a powerful tool for managing and customizing your microcontroller firmware. With ESPHome, you can directly modify the firmware to tailor the functionality of the MR60BHA2 mmWave Sensor to your specific needs."),(0,o.yg)("p",null,"To get started with ESPHome, follow these steps:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Access the ESPHome Dashboard"),": In Home Assistant, navigate to the ESPHome add-on. You should see your XIAO ESP32C6 listed among the devices.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Create a New Configuration"),": Click on the device to open its configuration. Here, you can adjust settings such as the sensor's sensitivity, reporting intervals, and output formats. ESPHome uses a YAML configuration format, which is user-friendly and allows you to define various parameters. You can use the following template YAML file as a starting point for your configuration, which is designed specifically for the MR60BHA2 Sensor:"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-yaml",metastring:"showLineNumbers title=example/mr60bha2.yaml",showLineNumbers:!0,title:"example/mr60bha2.yaml"},'# template from https://github.com/limengdu/MR60BHA2_ESPHome_external_components\n\nsubstitutions:\n  name: "seeedstudio-mr60bha2-kit"\n  friendly_name: "Seeed Studio MR60BHA2 Kit"\n\nesphome:\n  name: "${name}"\n  friendly_name: "${friendly_name}"\n  name_add_mac_suffix: true\n  project:\n    name: "seeedstudio.mr60bha2_kit"\n    version: "1.0"\n  platformio_options:\n    board_upload.maximum_size: 4194304\n  min_version: "2024.3.2" # Fix logger compile error on ESP32-C6\n\nesp32:\n  board: esp32-c6-devkitc-1\n  variant: esp32c6\n  flash_size: 4MB # upload.flash_size\n  framework:\n    type: esp-idf\n    platform_version: 6.5.0 # Minimum version required for ESP32-C6\n\nexternal_components:\n  - source:\n      type: git\n      url: https://github.com/ssieb/esphome\n      ref: adc\n    components: [ adc ]\n    refresh: 1min\n  - source:\n      type: git\n      url: https://github.com/limengdu/MR60BHA2_ESPHome_external_components\n      ref: main\n    components: [ seeed_mr60bha2 ]\n    refresh: 0s\n\nlogger:\n  hardware_uart: USB_SERIAL_JTAG\n  level: DEBUG\n\napi:\n\nota:\n- platform: esphome\n\nwifi:\n  ap:\n    ssid: "seeedstudio-mr60bha2"\n\nlight:\n  - platform: esp32_rmt_led_strip\n    id: led_ring\n    name: "Seeed MR60BHA2 RGB Light"\n    pin: GPIO1\n    num_leds: 1\n    rmt_channel: 0\n    rgb_order: GRB\n    chipset: ws2812\n\ni2c:\n  sda: GPIO22\n  scl: GPIO23\n  scan: true\n  id: bus_a\n\nuart:\n  id: uart_bus\n  baud_rate: 115200\n  rx_pin: 17\n  tx_pin: 16\n  parity: NONE\n  stop_bits: 1\n\nseeed_mr60bha2:\n  id: my_seeed_mr60bha2\n\nsensor:\n  - platform: bh1750\n    name: "Seeed MR60BHA2 Illuminance"\n    address: 0x23\n    update_interval: 1s\n  - platform: seeed_mr60bha2\n    breath_rate:\n      name: "Real-time respiratory rate"\n    heart_rate:\n      name: "Real-time heart rate"\n    distance:\n      name: "Distance to detection object"\n'))),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Customize Functionality"),": You can enhance the sensor's capabilities by exploring various features available in ESPHome, allowing for flexible adjustments to suit your specific needs.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Upload the Updated Firmware"),": After making your modifications, save the configuration. The ESPHome dashboard allows you to upload the firmware directly over the air. Simply click the ",(0,o.yg)("inlineCode",{parentName:"p"},"Upload")," button, and follow the prompts to complete the process. This streamlined method makes it easy to keep your firmware up to date.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Test and Iterate"),": Once the upload is complete, test your changes in real-time. Monitor the sensor's performance to ensure it operates as expected. If you encounter any issues, revisit the ESPHome dashboard to refine your settings. This iterative approach enables you to continually improve your firmware, ensuring it meets your requirements effectively."))),(0,o.yg)("p",null,"By utilizing ESPHome, you empower yourself to make ongoing improvements to your sensor setup, adapting it to suit your evolving needs. This capability not only enhances your project's functionality but also provides a platform for learning and experimentation with IoT development."),(0,o.yg)("p",null,"Through these steps, you can maximize the functionality of your MR60BHA2 mmWave Sensor and XIAO ESP32C6 setup, transforming it into a highly customized and responsive smart home system tailored to your preferences and needs."),(0,o.yg)("h2",{id:"resources"},"Resources"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://esphome.io/"},"ESPHome \u2014 ESPHome")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://www.home-assistant.io/installation/"},"Installation - Home Assistant")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://github.com/limengdu/MR60BHA2_ESPHome_external_components"},"limengdu/MR60BHA2_ESPHome_external_components"))),(0,o.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,o.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,o.yg)("div",{class:"table-center"},(0,o.yg)("div",{class:"button_tech_support_container"},(0,o.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,o.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,o.yg)("div",{class:"button_tech_support_container"},(0,o.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,o.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"}))))}p.isMDXComponent=!0}}]);