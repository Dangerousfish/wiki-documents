"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2115],{15680:(e,t,r)=>{r.d(t,{xA:()=>c,yg:()=>m});var o=r(96540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=o.createContext({}),p=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(r),d=n,m=u["".concat(l,".").concat(d)]||u[d]||g[d]||i;return r?o.createElement(m,a(a({ref:t},c),{},{components:r})):o.createElement(m,a({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,a[1]=s;for(var p=2;p<i;p++)a[p]=r[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}d.displayName="MDXCreateElement"},6810:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var o=r(9668),n=(r(96540),r(15680));const i={description:"Discover how the 4G LTE HAT for Raspberry Pi and MQTT protocol enable efficient, real-time communication for IoT and IIoT applications. Simplify remote connectivity with AT commands for scalable, high-speed data transmission and remote management.",title:"Setting Up 4G LTE Connectivity for IIoT with MQTT",keywords:["Raspberry Pi Hat","Getting started","IIoT","IoT","MQTT","Edge Computing"],image:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/sms_setup.png",slug:"/mqtt_raspberry_pi_4g_lte_hat",last_update:{date:"12/18/2024",author:"Kasun Thushara"}},a=void 0,s={unversionedId:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/mqtt_on_rpi_4g_lte_hat",id:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/mqtt_on_rpi_4g_lte_hat",title:"Setting Up 4G LTE Connectivity for IIoT with MQTT",description:"Discover how the 4G LTE HAT for Raspberry Pi and MQTT protocol enable efficient, real-time communication for IoT and IIoT applications. Simplify remote connectivity with AT commands for scalable, high-speed data transmission and remote management.",source:"@site/docs/Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/mqtt_on_rpi_4g_lte_hat.md",sourceDirName:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications",slug:"/mqtt_raspberry_pi_4g_lte_hat",permalink:"/mqtt_raspberry_pi_4g_lte_hat",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/mqtt_on_rpi_4g_lte_hat.md",tags:[],version:"current",lastUpdatedBy:"Kasun Thushara",lastUpdatedAt:173448e4,formattedLastUpdatedAt:"Dec 18, 2024",frontMatter:{description:"Discover how the 4G LTE HAT for Raspberry Pi and MQTT protocol enable efficient, real-time communication for IoT and IIoT applications. Simplify remote connectivity with AT commands for scalable, high-speed data transmission and remote management.",title:"Setting Up 4G LTE Connectivity for IIoT with MQTT",keywords:["Raspberry Pi Hat","Getting started","IIoT","IoT","MQTT","Edge Computing"],image:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/sms_setup.png",slug:"/mqtt_raspberry_pi_4g_lte_hat",last_update:{date:"12/18/2024",author:"Kasun Thushara"}},sidebar:"ProductSidebar",previous:{title:"Connect and Transfer- FTP on Your Raspberry Pi 4G LTE HAT",permalink:"/ftp_with_raspberry_pi_4g_lte_hat"},next:{title:"Rockchip-Powered Network Solutions",permalink:"/Rockchip_network_solutions"}},l={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:3},{value:"Software Requirements",id:"software-requirements",level:3},{value:"Communication drivers and tools",id:"communication-drivers-and-tools",level:4},{value:"Mosquitto Explorer",id:"mosquitto-explorer",level:4},{value:"Using AT commands Let&#39;s connect to MQTT Broker",id:"using-at-commands-lets-connect-to-mqtt-broker",level:2},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],c={toc:p},u="wrapper";function g(e){let{components:t,...r}=e;return(0,n.yg)(u,(0,o.A)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"The 4G LTE HAT for Raspberry Pi provides reliable, high-speed cellular connectivity, making it essential for remote and industrial IoT (IIoT) applications. With MQTT, a lightweight messaging protocol, devices can communicate efficiently over cellular networks, even in isolated locations. Using AT commands for configuration, it simplifies the process of connecting IoT devices to the network. This combination of 4G LTE and MQTT enhances real-time data transmission, enabling scalable IIoT solutions with remote management capabilities."),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("h3",{id:"hardware-requirements"},"Hardware Requirements"),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{align:"center"},(0,n.yg)("tr",null,(0,n.yg)("th",null,"Raspberry Pi 5"),(0,n.yg)("th",null,"Raspberry Pi 4G LTE CAT4 HAT")),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/-/1-102110919-raspberry-pi-5-8gb-45font.jpg",style:{width:250,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/_/1_23_1.jpg",style:{width:250,height:"auto"}})))),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Raspberry-Pi-5-8GB-p-5810.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/LTE-CAT-4-EG25-GL-HAT-for-Raspberry-Pi-p-6325.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,n.yg)("h3",{id:"software-requirements"},"Software Requirements"),(0,n.yg)("h4",{id:"communication-drivers-and-tools"},"Communication drivers and tools"),(0,n.yg)("p",null,"If you have not installed relevant drivers and communication tools, please check the ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/getting_started_raspberry_pi_4g_lte_hat/#software-preparation"},"guide")," first"),(0,n.yg)("h4",{id:"mosquitto-explorer"},"Mosquitto Explorer"),(0,n.yg)("p",null,"We will be using the Mosquitto broker, specifically the test broker available at ",(0,n.yg)("strong",{parentName:"p"},(0,n.yg)("a",{parentName:"strong",href:"https://test.mosquitto.org"},"https://test.mosquitto.org"))," , which ",(0,n.yg)("inlineCode",{parentName:"p"},"does not require a username or password"),". For convenience, it is recommended to ",(0,n.yg)("a",{parentName:"p",href:"https://mqtt-explorer.com/"},"install Mosquitto")," directly on your PC for testing purposes."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/mqtt_ex.PNG",style:{width:500}})),(0,n.yg)("h2",{id:"using-at-commands-lets-connect-to-mqtt-broker"},"Using AT commands Let's connect to MQTT Broker"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 1: Configure receiving mode")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTCFG="recv/mode",0,0,1\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 2: Open a network for MQTT client")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTOPEN=0,"test.mosquitto.org",1883\n\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 3: Check MQTT connection status (optional)")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"AT+QMTOPEN?\n")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 4: Connect a client to the Mosquitto MQTT server")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTCONN=0,"clientExample"\n')),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Note that the client ID must be unique, so ensure you generate a highly unique one. Mosquitto's public broker does not require a username or password for access.")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 5: Publish a message to a topic")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTPUBEX=0,0,0,0,"test/topic",30 \n\n')),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"}," when ",(0,n.yg)("inlineCode",{parentName:"p"},">")," appear type the massage and press ctrl+z")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"> This is test data, hello MQTT.\n")),(0,n.yg)("p",null,"Open Mosquitto Explorer and enter the topic you published to. You will see the updates appear there."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/mqtt_pub.PNG",style:{width:500}})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 6: Subscribe to a topic")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTSUB=0,1,"test/topic",2\n')),(0,n.yg)("p",null,"Open Mosquitto Explorer and enter the topic  and massage you want to publish to from the 4G module."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/mqtt_sub_2.PNG",style:{width:500}})),(0,n.yg)("p",null,"You will then see the published message successfully subscribed to at the 4G module's end."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/mqtt_sub_1.PNG",style:{width:500}})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 7: Unsubscribe from a topic")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QMTUNS=0,2,"test/topic"\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 8:  Disconnect the client from the MQTT server")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"AT+QMTDISC=0\n")),(0,n.yg)("h2",{id:"resources"},"Resources"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"[PDF Book]")," ",(0,n.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/Quectel_LTE_Standard_MQTT_Application_Note_V1.2.pdf"},"MQTT Application Guide"))),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}g.isMDXComponent=!0}}]);