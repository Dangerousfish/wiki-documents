"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[70866],{15680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>g});var a=r(96540);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,i=e.mdxType,n=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=d(r),m=i,g=u["".concat(s,".").concat(m)]||u[m]||c[m]||n;return r?a.createElement(g,o(o({ref:t},p),{},{components:r})):a.createElement(g,o({ref:t},p))}));function g(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=r.length,o=new Array(n);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<n;d++)o[d]=r[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},18747:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>n,metadata:()=>l,toc:()=>d});var a=r(9668),i=(r(96540),r(15680));const n={description:"XIAO MG24 Example - Matter",title:"Seeed Studio XIAO MG24 Example - Matter",image:"https://files.seeedstudio.com/wiki/XIAO_MG24/Getting_Start/top.jpg",slug:"/xiao_mg24_matter",sidebar_position:1,last_update:{date:new Date("2024-11-07T06:43:35.000Z"),author:"Spencer"}},o=void 0,l={unversionedId:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_MG24/XIAO-MG24-Example-Matter",id:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_MG24/XIAO-MG24-Example-Matter",title:"Seeed Studio XIAO MG24 Example - Matter",description:"XIAO MG24 Example - Matter",source:"@site/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_MG24/XIAO-MG24-Example-Matter.md",sourceDirName:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_MG24",slug:"/xiao_mg24_matter",permalink:"/xiao_mg24_matter",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_MG24/XIAO-MG24-Example-Matter.md",tags:[],version:"current",lastUpdatedBy:"Spencer",lastUpdatedAt:1730961815,formattedLastUpdatedAt:"Nov 7, 2024",sidebarPosition:1,frontMatter:{description:"XIAO MG24 Example - Matter",title:"Seeed Studio XIAO MG24 Example - Matter",image:"https://files.seeedstudio.com/wiki/XIAO_MG24/Getting_Start/top.jpg",slug:"/xiao_mg24_matter",sidebar_position:1,last_update:{date:"2024-11-07T06:43:35.000Z",author:"Spencer"}},sidebar:"ProductSidebar",previous:{title:"Getting Started with Seeed Studio XIAO MG24",permalink:"/xiao_mg24_getting_started"},next:{title:"Pin Multiplexing with Seeed Studio XIAO MG24",permalink:"/xiao_mg24_pin_multiplexing"}},s={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Software",id:"software",level:3},{value:"Quick Started with Matter Bulb Example",id:"quick-started-with-matter-bulb-example",level:2},{value:"Flashing the Firmware",id:"flashing-the-firmware",level:3},{value:"QR Code for Commissioning",id:"qr-code-for-commissioning",level:3},{value:"Testing the Device",id:"testing-the-device",level:3},{value:"Reference &amp; Resources",id:"reference--resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},u="wrapper";function c(e){let{components:t,...r}=e;return(0,i.yg)(u,(0,a.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"introduction"},"Introduction"),(0,i.yg)("p",null,"Matter is an ",(0,i.yg)("strong",{parentName:"p"},"open-source, unified standard")," for smart home technology that promotes interoperability across devices and ecosystems. Developed by the Connectivity Standards Alliance (CSA), it enables seamless communication between devices from various manufacturers without requiring internet connectivity. Matter supports native compatibility with platforms such as Apple HomeKit, Google Home, and Amazon Alexa, making it easier to integrate devices across smart home setups. For a deeper understanding of Matter, refer to the ",(0,i.yg)("a",{parentName:"p",href:"https://project-chip.github.io/connectedhomeip-doc/index.html"},"official Matter documentation"),"."),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"In 2024",(0,i.yg)("sup",{parentName:"p",id:"fnref-1"},(0,i.yg)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),", Silicon Labs and Arduino joined forces to lower barriers to Matter adoption, providing a development path that simplifies using Matter with the Arduino ecosystem. This collaboration aims to make Matter development more accessible, helping Arduino developers overcome typical challenges and adopt Matter seamlessly.")),(0,i.yg)("p",null,"Matter operates efficiently over local networks, offering reliable, low-latency communication without needing internet access. This feature significantly improves both security and device performance."),(0,i.yg)("p",null,"This documentation will guide you through the steps to develop a Matter application on the XIAO MG24, using Arduino."),(0,i.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.yg)("p",null,"To begin developing a Matter application on the XIAO MG24, ensure that the following hardware and software components are prepared and ready."),(0,i.yg)("h3",{id:"hardware"},"Hardware"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Seeed Studio XIAO MG24")," board."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Supported Matter Hub")," (e.g., Apple HomePod mini) to connect to the Matter network."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Matter Controller")," (e.g., Apple HomeKit App) to manage and interact with your Matter-enabled device.")),(0,i.yg)("p",null,"The following table",(0,i.yg)("sup",{parentName:"p",id:"fnref-2"},(0,i.yg)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," provides examples of Matter-compatible hubs across various ecosystems:"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Manufacturer / Ecosystem"),(0,i.yg)("th",{parentName:"tr",align:null},"Device"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Google Home"),(0,i.yg)("td",{parentName:"tr",align:null},"Nest Hub Gen2")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Apple HomeKit"),(0,i.yg)("td",{parentName:"tr",align:null},"HomePod Gen2, HomePod mini")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Amazon Alexa"),(0,i.yg)("td",{parentName:"tr",align:null},"Echo Gen4")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Raspberry Pi OTBR"),(0,i.yg)("td",{parentName:"tr",align:null},"Raspberry Pi")))),(0,i.yg)("p",null,"By default, it is assumed you have at least one ",(0,i.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Matter_(standard)#Supported_ecosystems_and_hubs"},"Matter Hub")," and one Matter Controller (e.g., an iPhone with HomeKit installed) ready for testing."),(0,i.yg)("h3",{id:"software"},"Software"),(0,i.yg)("p",null,"The required software includes the ",(0,i.yg)("strong",{parentName:"p"},"Arduino IDE with Silicon Labs' Arduino Core"),":"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"If not already installed, download and set up the ",(0,i.yg)("a",{parentName:"li",href:"https://github.com/SiliconLabs/arduino"},"Silicon Labs Arduino Core")," for compatibility with the XIAO MG24."),(0,i.yg)("li",{parentName:"ul"},"For detailed setup instructions, refer to the ",(0,i.yg)("a",{parentName:"li",href:"/xiao_mg24_getting_started/#add-board"},"Getting Started Guide"),".")),(0,i.yg)("p",null,"Be sure to opt for the Matter Protocol stack:"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-arduino-tool-option.png",style:{width:480,height:"auto","border-radius":"12.8px"}})),(0,i.yg)("h2",{id:"quick-started-with-matter-bulb-example"},"Quick Started with Matter Bulb Example"),(0,i.yg)("p",null,"The ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/Silabs/arduino-matter/tree/main/examples/MatterLightBulb"},"Matter Light Bulb Example")," demonstrates a simple Matter application, allowing control of the ",(0,i.yg)("inlineCode",{parentName:"p"},"built-in LED")," via a Matter network. This example serves as a practical starting point for developers new to Matter integration on the XIAO MG24."),(0,i.yg)("p",null,"To access the example in the Arduino IDE:"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-bulb-example.png",style:{width:480,height:"auto","border-radius":"12.8px"}})),(0,i.yg)("p",null,"For convenience, modifications to the device name in the example code are provided below to allow for personalized setup."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-cpp"},'/*\n   Matter lightbulb example\n\n   The example shows how to create a simple on/off lightbulb with the Arduino Matter API.\n\n   The example lets users control the onboard LED through Matter.\n   The device has to be commissioned to a Matter hub first.\n\n   Author: Tamas Jozsi (Silicon Labs)\n   Modified by: Spencer Y (Seeed Studio)\n */\n#include <Matter.h>\n#include <MatterLightbulb.h>\n\nMatterLightbulb matter_bulb;\n\nvoid setup()\n{\n  Serial.begin(115200);\n  Matter.begin();\n  matter_bulb.begin();\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, LED_BUILTIN_INACTIVE);\n\n  Serial.println("Matter lightbulb");\n\n  matter_bulb.set_device_name("XIAO MG24 bulb");    // Customize the default device name\n  matter_bulb.set_vendor_name("Seeed Studio");      // Set the vendor name\n  matter_bulb.set_product_name("Seeed Matter Lightbulb"); // Define the product name\n\n  if (!Matter.isDeviceCommissioned()) {\n    Serial.println("Matter device is not commissioned");\n    Serial.println("Commission it to your Matter hub with the manual pairing code or QR code");\n    Serial.printf("Manual pairing code: %s\\n", Matter.getManualPairingCode().c_str());\n    Serial.printf("QR code URL: %s\\n", Matter.getOnboardingQRCodeUrl().c_str());\n  }\n  while (!Matter.isDeviceCommissioned()) {\n    delay(200);\n  }\n\n  Serial.println("Waiting for Thread network...");\n  while (!Matter.isDeviceThreadConnected()) {\n    delay(200);\n  }\n  Serial.println("Connected to Thread network");\n\n  Serial.println("Waiting for Matter device discovery...");\n  while (!matter_bulb.is_online()) {\n    delay(200);\n  }\n  Serial.println("Matter device is now online");\n}\n\nvoid loop()\n{\n  static bool matter_lightbulb_last_state = false;\n  bool matter_lightbulb_current_state = matter_bulb.get_onoff();\n\n  // Turn on the LED if the state is ON and the previous state was OFF\n  if (matter_lightbulb_current_state && !matter_lightbulb_last_state) {\n    matter_lightbulb_last_state = matter_lightbulb_current_state;\n    digitalWrite(LED_BUILTIN, LED_BUILTIN_ACTIVE);\n    Serial.println("Bulb ON");\n  }\n\n  // Turn off the LED if the state is OFF and the previous state was ON\n  if (!matter_lightbulb_current_state && matter_lightbulb_last_state) {\n    matter_lightbulb_last_state = matter_lightbulb_current_state;\n    digitalWrite(LED_BUILTIN, LED_BUILTIN_INACTIVE);\n    Serial.println("Bulb OFF");\n  }\n}\n')),(0,i.yg)("h3",{id:"flashing-the-firmware"},"Flashing the Firmware"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Copy the code into the Arduino IDE and upload it to the XIAO MG24 board."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-lightbulb-flash.png",style:{width:480,height:"auto","border-radius":"12.8px"}}))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"After flashing the firmware, press the ",(0,i.yg)("inlineCode",{parentName:"p"},"RESET")," button or reconnect the XIAO MG24 to restart the board.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Open the Serial Monitor to confirm the setup. You should see output similar to this:"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-qr-url.png",style:{width:480,height:"auto","border-radius":"12.8px"}})))),(0,i.yg)("h3",{id:"qr-code-for-commissioning"},"QR Code for Commissioning"),(0,i.yg)("p",null,"The serial monitor will display a URL to generate a QR code, required for device commissioning. Copy the URL, paste it into a browser, and scan the resulting QR code with your Matter controller(e.g., HomeKit)."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-qr-scan.png",style:{width:480,height:"auto","border-radius":"12.8px"}})),(0,i.yg)("h3",{id:"testing-the-device"},"Testing the Device"),(0,i.yg)("p",null,"After scanning the QR code, the Matter controller(HomeKit) will prompt you to confirm the device\u2019s identity. Once confirmed, the device will be visible in the app. You can now control the XIAO MG24\u2019s built-in LED and test its responsiveness directly from the app interface."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/matter-device-online.png",style:{width:480,height:"auto","border-radius":"12.8px"}})),(0,i.yg)("iframe",{class:"youtube-video-r",src:"https://youtube.com/embed/tmCpIWuRojQ",title:"MG24 Matter Lightbulb Example",width:"560",height:"315",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,i.yg)("h2",{id:"reference--resources"},"Reference & Resources"),(0,i.yg)("p",null,"If you're new to Matter, the following resources provide foundational knowledge and development support for working within the Matter ecosystem:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"https://docs.silabs.com/matter/2.2.0/matter-fundamentals/"},"Quick-Start Guides")),": An ideal starting point to learn the fundamentals of Matter, covering essential concepts and components of the ecosystem."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"https://www.silabs.com/wireless/matter/matter-developer-journey"},"Matter Developer Journey")),": A comprehensive guide through the Matter development process, including necessary tools, resources, and best practices for effective implementation."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"https://csa-iot.org/developer-resource/specifications-download-request/"},"Matter Specifications")),": Technical specifications for the Matter protocol and its components. This is the primary resource for understanding the protocol\u2019s capabilities and operational details."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"https://developers.home.google.com/matter/primer/device-data-model"},"The Device Data Model - Google Home Developers")),": An in-depth explanation of the device data model, which standardizes how device features and capabilities are represented in the Matter ecosystem."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"/matter_development_framework"},"Matter Development Framework Overview")),": A guide specifically tailored to the Matter Development Framework for the XIAO ESP32C6, offering an alternative approach for Matter device development.")),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/kpY74apCWj",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})),(0,i.yg)("div",{className:"footnotes"},(0,i.yg)("hr",{parentName:"div"}),(0,i.yg)("ol",{parentName:"div"},(0,i.yg)("li",{parentName:"ol",id:"fn-1"},(0,i.yg)("a",{parentName:"li",href:"https://news.silabs.com/2024-02-06-Silicon-Labs-and-Arduino-Partner-to-Democratize-Matter"},"Silicon Labs and Arduino Partner to Democratize Matter - Feb 6, 2024"),(0,i.yg)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,i.yg)("li",{parentName:"ol",id:"fn-2"},(0,i.yg)("a",{parentName:"li",href:"https://github.com/SiliconLabs/arduino/blob/main/libraries/Matter/readme.md"},"README - Arduino Matter library"),(0,i.yg)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}c.isMDXComponent=!0}}]);