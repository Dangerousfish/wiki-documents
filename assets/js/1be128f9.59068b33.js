"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9129],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>h});var a=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},g=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),u=p(n),y=i,h=u["".concat(s,".").concat(y)]||u[y]||d[y]||o;return n?a.createElement(h,r(r({ref:t},g),{},{components:n})):a.createElement(h,r({ref:t},g))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=y;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},46364:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(9668),i=(n(96540),n(15680));const o={description:"Single Channel LoraWAN Gateway based on XIAO ESP32S3 & Wio-SX1262 Kit",title:"Single Channel LoRaWAN Gateway",keywords:["XIAO ESP32S3","LoRa","Wio SX1262","Single Channel Gateway"],image:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/2.png",slug:"/wio_sx1262_xiao_esp32s3_for_single_channel_gateway",sidebar_position:3,last_update:{date:"10/09/2024",author:"Evelyn Chen"}},r="**Configuring XIAO ESP32S3 & Wio-SX1262 Kit as Single Chanel LoRaWAN Gateway**",l={unversionedId:"Network/LoRa_Wio_Series/Wio_SX1262/Wio_SX1262_with_XIAO_ESP32S3_Kit/Single_Channel_LoRaWAN_Gateway",id:"Network/LoRa_Wio_Series/Wio_SX1262/Wio_SX1262_with_XIAO_ESP32S3_Kit/Single_Channel_LoRaWAN_Gateway",title:"Single Channel LoRaWAN Gateway",description:"Single Channel LoraWAN Gateway based on XIAO ESP32S3 & Wio-SX1262 Kit",source:"@site/docs/Network/LoRa_Wio_Series/Wio_SX1262/Wio_SX1262_with_XIAO_ESP32S3_Kit/Single_Channel_LoRaWAN_Gateway.md",sourceDirName:"Network/LoRa_Wio_Series/Wio_SX1262/Wio_SX1262_with_XIAO_ESP32S3_Kit",slug:"/wio_sx1262_xiao_esp32s3_for_single_channel_gateway",permalink:"/wio_sx1262_xiao_esp32s3_for_single_channel_gateway",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Network/LoRa_Wio_Series/Wio_SX1262/Wio_SX1262_with_XIAO_ESP32S3_Kit/Single_Channel_LoRaWAN_Gateway.md",tags:[],version:"current",lastUpdatedBy:"Evelyn Chen",lastUpdatedAt:1728432e3,formattedLastUpdatedAt:"Oct 9, 2024",sidebarPosition:3,frontMatter:{description:"Single Channel LoraWAN Gateway based on XIAO ESP32S3 & Wio-SX1262 Kit",title:"Single Channel LoRaWAN Gateway",keywords:["XIAO ESP32S3","LoRa","Wio SX1262","Single Channel Gateway"],image:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/2.png",slug:"/wio_sx1262_xiao_esp32s3_for_single_channel_gateway",sidebar_position:3,last_update:{date:"10/09/2024",author:"Evelyn Chen"}},sidebar:"ProductSidebar",previous:{title:"Get Started for Meshtastic",permalink:"/wio_sx1262_xiao_esp32s3_for_meshtastic"},next:{title:"LoRaWAN Sensor Node",permalink:"/wio_sx1262_xiao_esp32s3_for_lora_sensor_node"}},s={},p=[{value:"Flash Firmware",id:"flash-firmware",level:2},{value:"Flash with esp-idf",id:"flash-with-esp-idf",level:3},{value:"Flash with esptool",id:"flash-with-esptool",level:3},{value:"Flash with esptool-JS",id:"flash-with-esptool-js",level:3},{value:"Configuration via Sensecraft APP",id:"configuration-via-sensecraft-app",level:2},{value:"WiFi &amp; LoRaWAN Configuration",id:"wifi--lorawan-configuration",level:3},{value:"Configuration via ESP BLE prov",id:"configuration-via-esp-ble-prov",level:2},{value:"Wi-Fi Configuration",id:"wi-fi-configuration",level:3},{value:"LoRaWAN Configuration",id:"lorawan-configuration",level:3},{value:"Customize and build firmware",id:"customize-and-build-firmware",level:2},{value:"Setup environment",id:"setup-environment",level:3},{value:"Get ESP-IDF",id:"get-esp-idf",level:4},{value:"Set up Tools",id:"set-up-tools",level:4},{value:"Installation of One Channel Hub",id:"installation-of-one-channel-hub",level:3},{value:"Build Firmware",id:"build-firmware",level:3},{value:"Resource",id:"resource",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],g={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,i.yg)(u,(0,a.A)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"configuring-xiao-esp32s3--wio-sx1262-kit-as-single-chanel-lorawan-gateway"},(0,i.yg)("strong",{parentName:"h1"},"Configuring XIAO ESP32S3 & Wio-SX1262 Kit as Single Chanel LoRaWAN Gateway")),(0,i.yg)("p",null,"Single channel gateways(called One-Channel Hub) are low-cost tools that enable users to begin exploring the LoRa realm. These gateways can receive LoRa packets on a specific spreading factor and channel and facilitate the exchange of these packets with the network. Due to their affordability, many users have embarked on building their own single-channel gateways to experiment with LoRa."),(0,i.yg)("p",null,"The XIAO ESP32S3 as host MCU and Wio-SX1262 LoRa radio kit can be configured to function as single channel gateway. This kit offers a practical solution for those interested in delving into LoRa technology and establishing connections to LNS(lora network server)."),(0,i.yg)("p",null,"This is the github project: ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/one_channel_hub/tree/xiao-esp32s3-sx1262-bt-config"},"One Channel Hub"),"."),(0,i.yg)("h2",{id:"flash-firmware"},"Flash Firmware"),(0,i.yg)("p",null,"The firmware is prepared for installation which is pre-flashed to XIAO ESP32S3 & Wio-SX1262 Kit with 3D case. If you want to flash XIAO ESP32S3 & Wio-SX1262 Kit as Single Channel LoRaWAN Gateway, simply download from ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/one_channel_hub/tree/xiao-esp32s3-sx1262-bt-config/bin"},"bin library"),"."),(0,i.yg)("admonition",{type:"note"},(0,i.yg)("p",{parentName:"admonition"},"This firmware build with:"),(0,i.yg)("ul",{parentName:"admonition"},(0,i.yg)("li",{parentName:"ul"},"Select Seeed XIAO ESP32S3 Gateway board"),(0,i.yg)("li",{parentName:"ul"},"Modify the Flash size to 8 MB"),(0,i.yg)("li",{parentName:"ul"},"Enable Get config from flash"),(0,i.yg)("li",{parentName:"ul"},"Disable Wi-Fi provisionning"),(0,i.yg)("li",{parentName:"ul"},"Disable OLED Display")),(0,i.yg)("p",{parentName:"admonition"},"Usage:"),(0,i.yg)("ul",{parentName:"admonition"},(0,i.yg)("li",{parentName:"ul"},"Enable/disable config through user button"),(0,i.yg)("li",{parentName:"ul"},'Bluetooth broadcast name by "GW-XIAO-ESP32S3"'),(0,i.yg)("li",{parentName:"ul"},"Connect through SenseCraft APP and config Wi-Fi/LoRa"))),(0,i.yg)("p",null,"If you don't use the complete ESP-IDF environment, it is also possible to flash the provided binary files using the ",(0,i.yg)("strong",{parentName:"p"},"esptool")," utility."),(0,i.yg)("p",null,"Click to download the firmware:"),(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/seeed_xiao_esp32s3_one_chanel_hub_2024120201.zip"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Download \u23ec "))))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 1"),": Download Esptool, for more information please refer to the ",(0,i.yg)("a",{parentName:"p",href:"https://docs.espressif.com/projects/esptool/en/latest/esp32/"},"Esptool documentation"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"$ pip install esptool\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 2"),": Connect the XIAO ESP32S3 to your PC."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 3"),": Navigate to the downloaded file and open the terminal/Command, then run ",(0,i.yg)("strong",{parentName:"p"},"esptool.py")," commands. "),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For Linux/macOS")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-linux"},"esptool.py --chip esp32s3 -p port -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 80m --flash_size 8MB 0x0 seeed_xiao_esp32s3_devkit_bootloader.bin 0x10000 seeed_xiao_esp32s3_devkit_lorahub.bin 0x8000 seeed_xiao_esp32s3_devkit_partition-table.bin\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For Windows")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-linux"},"py -m esptool --chip esp32s3 -p COM14 -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 80m --flash_size 8MB 0x0 seeed_xiao_esp32s3_devkit_bootloader.bin 0x10000 seeed_xiao_esp32s3_devkit_lorahub.bin 0x8000 seeed_xiao_esp32s3_devkit_partition-table.bin\n")),(0,i.yg)("p",null,"Replace ",(0,i.yg)("inlineCode",{parentName:"p"},"port")," with the name of used serial port. If connection fails, see ",(0,i.yg)("a",{parentName:"p",href:"https://docs.espressif.com/projects/esptool/en/latest/esp32/troubleshooting.html#troubleshooting"},"Troubleshooting"),"."),(0,i.yg)("h3",{id:"flash-with-esp-idf"},"Flash with esp-idf"),(0,i.yg)("p",null,"Identify the serial device associated to the One-Channel Hub to be flashed.\nFor linux and mac, can check the serial port by"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"ls /dev/cu*\n")),(0,i.yg)("p",null,"then flash using ",(0,i.yg)("inlineCode",{parentName:"p"},"idf.py"),", replace the ",(0,i.yg)("strong",{parentName:"p"},"port")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py -p port flash\n")),(0,i.yg)("p",null,"If a ",(0,i.yg)("strong",{parentName:"p"},"permission error")," is returned, check that the current user is part of the dialout group. If not, do the following, reboot the linux machine and try again:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"sudo usermod -a -G dialout $USERNAME\n")),(0,i.yg)("p",null,"On a ",(0,i.yg)("strong",{parentName:"p"},"Windows")," setup, let's suppose that the device is mounted as COM14, the above command would be like:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py -p COM14 flash\n")),(0,i.yg)("p",null,"Launch the monitor console to see logs (optional)."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py -p port monitor\n")),(0,i.yg)("h3",{id:"flash-with-esptool"},"Flash with esptool"),(0,i.yg)("p",null,"If not using the complete ESP-IDF environment, can just download the provided binary files following ",(0,i.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/wio_sx1262_xiao_esp32s3_for_single_channel_gateway/#flash-firmware"},"the first section"),". "),(0,i.yg)("h3",{id:"flash-with-esptool-js"},"Flash with esptool-JS"),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://espressif.github.io/esptool-js/"},"Online esptool")," is recommended for flashing. "),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step1"),": Set Baud rate to 115200 and connect to correct port."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step2"),": Choose bin file and fill in coresponding flash address."),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"th"},"Flash Address")),(0,i.yg)("th",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"th"},"File")))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"0x0"),(0,i.yg)("td",{parentName:"tr",align:null},"seeed_xiao_esp32s3_devkit_bootloader.bin")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"0x10000"),(0,i.yg)("td",{parentName:"tr",align:null},"seeed_xiao_esp32s3_devkit_lorahub.bin")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"0x8000"),(0,i.yg)("td",{parentName:"tr",align:null},"seeed_xiao_esp32s3_devkit_partition-table.bin")))),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/70.png",alt:"pir",width:600,height:"auto"})),(0,i.yg)("h2",{id:"configuration-via-sensecraft-app"},"Configuration via Sensecraft APP"),(0,i.yg)("h3",{id:"wifi--lorawan-configuration"},"WiFi & LoRaWAN Configuration"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 1"),": Download ",(0,i.yg)("inlineCode",{parentName:"p"},"SenseCraft")," App: ",(0,i.yg)("a",{parentName:"p",href:"https://sensecap-mate-download.seeed.cn/"},"Download Link")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 2"),": Connect the XIAO ESP32S3 & Wio-SX1262 Kit to power."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 3"),": Follow the instructions in the app to configure the WiFi and LoRaWAN."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Register and Login SenseCraft APP"),(0,i.yg)("li",{parentName:"ul"},"Navigate to ",(0,i.yg)("inlineCode",{parentName:"li"},"User")," -> ",(0,i.yg)("inlineCode",{parentName:"li"},"Device Bluetooth Configuration")),(0,i.yg)("li",{parentName:"ul"},"Select ",(0,i.yg)("inlineCode",{parentName:"li"},"XIAO ESP32S3 & Wio-SX1262 Kit")),(0,i.yg)("li",{parentName:"ul"},"Click ",(0,i.yg)("inlineCode",{parentName:"li"},"Device is ready for configuration")),(0,i.yg)("li",{parentName:"ul"},"Press the kit botton once, When the LED starts to blink, it will enter the Bluetooth pairing mode.")),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/APPOperation.gif",alt:"pir",width:300,height:"auto"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 4"),": Resigter the LoRaWAN Gateway on The Things Network(TTN)."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"create an account and login to ",(0,i.yg)("a",{parentName:"li",href:"https://eu1.cloud.thethings.network/"},"https://eu1.cloud.thethings.network/"),"."),(0,i.yg)("li",{parentName:"ul"},"Register gateway."),(0,i.yg)("li",{parentName:"ul"},"Copy the correct ",(0,i.yg)("inlineCode",{parentName:"li"},"gateway EUI")," to TTN, and also fill in correct ",(0,i.yg)("inlineCode",{parentName:"li"},"frequency plan")," and ",(0,i.yg)("inlineCode",{parentName:"li"},"gateway ID"),"."),(0,i.yg)("li",{parentName:"ul"},"Reboot your gateway module and wait for about 2 mins. Then can check the gateway status of connected.")),(0,i.yg)("h2",{id:"configuration-via-esp-ble-prov"},"Configuration via ESP BLE prov"),(0,i.yg)("admonition",{type:"note"},(0,i.yg)("p",{parentName:"admonition"},"If you want to configure Wi-Fi using ",(0,i.yg)("strong",{parentName:"p"},"ESP BLE prov")," and configure LoRaWAN using ",(0,i.yg)("strong",{parentName:"p"},"web client"),", you need to flash ",(0,i.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/seeed_xiao_esp32s3_one_chanel_hub_20241016.zip"},"this firmware"),". Please note that it is not the same firmware as the one used for configuration via the SenseCraft app. Besides, you can configure ",(0,i.yg)("inlineCode",{parentName:"p"},"Enable Wi-Fi provisioning")," following ",(0,i.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/wio_sx1262_xiao_esp32s3_for_single_channel_gateway/#customize-and-build-firmware"},"Customize and Build Firmware"),".")),(0,i.yg)("h3",{id:"wi-fi-configuration"},"Wi-Fi Configuration"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 1"),": Download ",(0,i.yg)("inlineCode",{parentName:"p"},"ESP BLE prov")," App:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://play.google.com/store/apps/details?id=com.espressif.provble"},"for Android")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://apps.apple.com/in/app/esp-ble-provisioning/id1473590141"},"for IOS"))),(0,i.yg)("p",null,"Press the ",(0,i.yg)("inlineCode",{parentName:"p"},"RST")," button on the board, and then press the ",(0,i.yg)("inlineCode",{parentName:"p"},"BOOT")," button, the LED will be on. "),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 2"),": Connect the XIAO to your PC and open a serial port tool, like PuTTY, COMTOOL, or any other tools you prefered. "),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 3"),": Open terminal communication"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For ",(0,i.yg)("inlineCode",{parentName:"li"},"COMTOOL"),":")),(0,i.yg)("p",null,"(1). Select correct serial port and set baudrate to ",(0,i.yg)("strong",{parentName:"p"},"115200")),(0,i.yg)("p",null,"(2). Go to Terminal and open communication"),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/23.png",alt:"pir",width:500,height:"auto"})),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For ",(0,i.yg)("inlineCode",{parentName:"li"},"PuTTY"),":")),(0,i.yg)("p",null,"(1). Select correct serial line and set baudrate to ",(0,i.yg)("strong",{parentName:"p"},"115200")),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/25.png",alt:"pir",width:500,height:"auto"})),(0,i.yg)("p",null,"(2). Go to Terminal and click 'Implicit CR in every LF'"),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/26.png",alt:"pir",width:500,height:"auto"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 4"),": Click 'Provison Device' on ESP BLE prov app"),(0,i.yg)("p",null,"Once connected successfully, The wifi connection information and lora gateway ID will show up on terminal. "),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("iframe",{width:"700",height:"600",src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/wifi.mp4",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"false"}," ")),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"Please take the notes, it is useful for Lora configuration."),(0,i.yg)("ol",{parentName:"admonition"},(0,i.yg)("li",{parentName:"ol"},"IP address: 192.168.1.44"),(0,i.yg)("li",{parentName:"ol"},"Port: 8000"),(0,i.yg)("li",{parentName:"ol"},"Gateway EUI: 0xF09E9EFFFE20D02C"))),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/24.png",alt:"pir",width:600,height:"auto"})),(0,i.yg)("p",null,"The lora package forwarder's message which in Json format can be checked on Terminal."),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/27.png",alt:"pir",width:400,height:"auto"})),(0,i.yg)("h3",{id:"lorawan-configuration"},"LoRaWAN Configuration"),(0,i.yg)("p",null,"As the IP address and port we taken down, the web interface is available at: ",(0,i.yg)("inlineCode",{parentName:"p"},"http://ip_address:8000"),", and open it on browser. "),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/28.png",alt:"pir",width:400,height:"auto"})),(0,i.yg)("p",null,"The web interface allows to configure the following parameters:"),(0,i.yg)("p",null,"Channel parameters: "),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Frequency"),(0,i.yg)("li",{parentName:"ul"},"Spreading Factor"),(0,i.yg)("li",{parentName:"ul"},"Bandwidth")),(0,i.yg)("p",null,"LoRaWAN network server: "),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Address"),(0,i.yg)("li",{parentName:"ul"},"Port")),(0,i.yg)("p",null,"SNTP server address: to get UTC time"),(0,i.yg)("p",null,"There are 2 buttons at the bottom of the configuration form:"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"Configure"),": when pressed, the parameters set in the HTML form are written to flash memory (NVS).",(0,i.yg)("br",null),"\n",(0,i.yg)("inlineCode",{parentName:"p"},"Reboot"),": when pressed, a reboot command is triggered, the LoRaHub will restart and the new configuration is applied."),(0,i.yg)("admonition",{type:"note"},(0,i.yg)("p",{parentName:"admonition"},"Note that the configuration written in flash memory is only taken into account on the next reboot.")),(0,i.yg)("p",null,"All are set down. Now we can connect the XIAO ESP32S3 & SX1262 Kit lora kit to Lora Network Server like TTN(The things network) and Chirpstack."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/wio_sx1262_xiao_esp32s3_LNS_TTN/"},"Connect to TTN")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/wio_sx1262_xiao_esp32s3_LNS_Chirpstack/"},"Connect to Chirpstack"))),(0,i.yg)("h2",{id:"customize-and-build-firmware"},"Customize and build firmware"),(0,i.yg)("p",null,"If you want to reset the configuration, the following instruction can help you build the firmware by yourself under ESP-IDF environment."),(0,i.yg)("h3",{id:"setup-environment"},"Setup environment"),(0,i.yg)("p",null,"This project is based on the Espressif ESP-IDF development, check this ",(0,i.yg)("a",{parentName:"p",href:"https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/index.html#installation"},"guide")," to setup the environment."),(0,i.yg)("h4",{id:"get-esp-idf"},"Get ESP-IDF"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-linux"},"mkdir -p ~/esp\ncd ~/esp\ngit clone -b v5.2.1 --recursive https://github.com/espressif/esp-idf.git\n")),(0,i.yg)("h4",{id:"set-up-tools"},"Set up Tools"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-linux"},"cd esp-idf/\n./install.sh\n")),(0,i.yg)("h3",{id:"installation-of-one-channel-hub"},"Installation of One Channel Hub"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 1"),": Clone the hub to local repository. And navigate to the project path."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-linux"},"git clone https://github.com/Seeed-Studio/one_channel_hub.git\n\ncd ~/this_project_directory\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 2"),": Install required driver"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"SX126x driver(sx1261, sx1262, sx1268):")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"git clone -b v2.3.2 https://github.com/Lora-net/sx126x_driver.git sx126x_driver\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"llcc68 driver:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"git clone -b v2.3.2 https://github.com/Lora-net/llcc68_driver.git llcc68_driver\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"lr11xx driver(lr1121):")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"git clone -b v2.4.1 https://github.com/Lora-net/SWDR001.git lr11xx_driver\n")),(0,i.yg)("h3",{id:"build-firmware"},"Build Firmware"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Step 1"),": Enter the lorahub directory."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"cd lorahub\n")),(0,i.yg)("p",null,"Prepare your Linux/MAC terminal for building with ESP-IDF from the command line. This step can be skipped on Windows as the installed 'ESP-IDF x.x CMD' tool will prepare the environment automatically."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},". ~/esp/esp-idf/export.sh\n")),(0,i.yg)("p",null,"Configure the ESP32 target to build for."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py set-target esp32s3\n")),(0,i.yg)("p",null,"Customize the build if necessary:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py menuconfig\n")),(0,i.yg)("p",null,"(1) Set ",(0,i.yg)("strong",{parentName:"p"},"board type"),":"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"LoRaWAN 1-CH HUB Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Hardware Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Board type")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Seeed XIAO ESP32S3 Gateway")),(0,i.yg)("p",null,"The default setting of Lora radio type is ",(0,i.yg)("inlineCode",{parentName:"p"},"sx1262"),"."),(0,i.yg)("p",null,"Don't forget to disable the OLED Display."),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/21.png",alt:"pir",width:800,height:"auto"})),(0,i.yg)("p",null,"(2) Set ",(0,i.yg)("strong",{parentName:"p"},"flash size"),":"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"Serial flasher config")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Flash size")," -> for XIAO ESP32S3 is ",(0,i.yg)("inlineCode",{parentName:"p"},"8MB"),"."),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/22.png",alt:"pir",width:800,height:"auto"})),(0,i.yg)("p",null," (3) Set ",(0,i.yg)("strong",{parentName:"p"},"Wi-Fi Provisionning"),":"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Set the Wi-Fi Provisionning via ",(0,i.yg)("strong",{parentName:"p"},"SenseCraft APP"),":\n",(0,i.yg)("inlineCode",{parentName:"p"},"LoRaWAN 1-CH HUB Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"WiFi Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Disable WiFi Provisionning over BLE")," ")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Set the Wi-Fi Provisionning via ",(0,i.yg)("strong",{parentName:"p"},"ESP BLE prov"),":\n",(0,i.yg)("inlineCode",{parentName:"p"},"LoRaWAN 1-CH HUB Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"WiFi Configuration")," -> ",(0,i.yg)("inlineCode",{parentName:"p"},"Enable WiFi Provisionning over BLE")," "),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/100.png",alt:"pir",width:800,height:"auto"})))),(0,i.yg)("p",null,"Build the project:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"idf.py all\n")),(0,i.yg)("h2",{id:"resource"},"Resource"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/seeed_xiao_esp32s3_one_chanel_hub_2024120201.zip"},"One Channel Hub Firmware for XIAO ESP32S3 & Wio-SX1262 Kit via SenseCraft APP")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/XIAO_ESP32S3_for_Meshtastic_LoRa/seeed_xiao_esp32s3_one_chanel_hub_20241016.zip"},"One Channel Hub Firmware for XIAO ESP32S3 & Wio-SX1262 Kit via ESP BLE prov ")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/one_channel_hub/tree/xiao-esp32s3-sx1262-bt-config"},"Github Repository"))),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"}))))}d.isMDXComponent=!0}}]);