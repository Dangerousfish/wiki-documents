"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[66376],{15680:(e,a,t)=>{t.d(a,{xA:()=>p,yg:()=>m});var n=t(96540);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=n.createContext({}),d=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=d(e.components);return n.createElement(s.Provider,{value:a},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},g=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=d(t),g=i,m=u["".concat(s,".").concat(g)]||u[g]||c[g]||r;return t?n.createElement(m,o(o({ref:a},p),{},{components:t})):n.createElement(m,o({ref:a},p))}));function m(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=g;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=t[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}g.displayName="MDXCreateElement"},28933:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=t(9668),i=(t(96540),t(15680));const r={description:"XIAO Communcate with RS485 Expansion Board",title:"RS485 Expansion Board for XIAO",keywords:["xiao"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/XIAO-RS485-Expansion-Board",last_update:{date:"11/20/2024",author:"Jason"}},o="Getting Started with Seeed Studio XIAO-RS485-Expansion-Board",l={unversionedId:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_Expansion_board/XIAO-RS485-Expansion-Board",id:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_Expansion_board/XIAO-RS485-Expansion-Board",title:"RS485 Expansion Board for XIAO",description:"XIAO Communcate with RS485 Expansion Board",source:"@site/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_Expansion_board/XIAO-RS485-Expansion-Board.md",sourceDirName:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_Expansion_board",slug:"/XIAO-RS485-Expansion-Board",permalink:"/XIAO-RS485-Expansion-Board",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_Expansion_board/XIAO-RS485-Expansion-Board.md",tags:[],version:"current",lastUpdatedBy:"Jason",lastUpdatedAt:1732060800,formattedLastUpdatedAt:"Nov 20, 2024",frontMatter:{description:"XIAO Communcate with RS485 Expansion Board",title:"RS485 Expansion Board for XIAO",keywords:["xiao"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/XIAO-RS485-Expansion-Board",last_update:{date:"11/20/2024",author:"Jason"}},sidebar:"ProductSidebar",previous:{title:"XIAO eInk Expansion Board",permalink:"/XIAO-eInk-Expansion-Board"},next:{title:"Developed on XIAO using Espressif ESP-IDF",permalink:"/xiao_idf"}},s={},d=[{value:"Hardware Overview",id:"hardware-overview",level:2},{value:"prepared material",id:"prepared-material",level:3},{value:"Pinout Diagram",id:"pinout-diagram",level:3},{value:"Connection Schematic",id:"connection-schematic",level:3},{value:"Software Overview",id:"software-overview",level:2},{value:"Sender Code",id:"sender-code",level:3},{value:"Receiver Code",id:"receiver-code",level:3},{value:"RS485 Transmission Result",id:"rs485-transmission-result",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},u="wrapper";function c(e){let{components:a,...t}=e;return(0,i.yg)(u,(0,n.A)({},p,t,{components:a,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"getting-started-with-seeed-studio-xiao-rs485-expansion-board"},"Getting Started with Seeed Studio XIAO-RS485-Expansion-Board"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/top.jpg",style:{width:600,height:"auto"}})),(0,i.yg)("h2",{id:"hardware-overview"},"Hardware Overview"),(0,i.yg)("h3",{id:"prepared-material"},"prepared material"),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("table",{align:"center"},(0,i.yg)("tr",null,(0,i.yg)("th",null,"Seeed Studio XIAO RS485-Expansion-Board"),(0,i.yg)("th",null,"Seeed Studio XIAO ESP32-C3")),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/hadware.jpg",style:{width:250,height:"auto"}}))),(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/esp32.jpg",style:{width:250,height:"auto"}})))),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/RS485-Breakout-Board-for-XIAO-p-6306.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,i.yg)("td",null,(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/seeed-xiao-esp32c3-p-5431.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,i.yg)("h3",{id:"pinout-diagram"},"Pinout Diagram"),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("table",{align:"center"},(0,i.yg)("tr",null,(0,i.yg)("th",null,"XIAO RS485 Expansion indication diagram")),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/pinlist.png",style:{width:700,height:"auto"}})))))),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"5V OUT/IN SWITCH : One is the input and output of the 5V port, when the slave set the IN file, as the input, when the host set the OUT file, this port is discharged externally, can be connected to the sensor to the sensor power supply.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"120R SWITCH : The 120R switch is used to determine whether the 120 ohm resistor is accessible or not. 485 needs to add a 120 ohm resistor at the beginning and end of long wiring environments to do the matching and ensure communication.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"INT : Reserved interrupt port."))),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"When it is used as an input mode, you need to turn the switch to IN, and if it is used as an output mode, you need to turn the switch to OUT to prevent burning out.")),(0,i.yg)("h3",{id:"connection-schematic"},"Connection Schematic"),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("table",{align:"center"},(0,i.yg)("tr",null,(0,i.yg)("th",null,"Two RS485 expansion board connections")),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/connect1.png",style:{width:700,height:"auto"}})))))),(0,i.yg)("h2",{id:"software-overview"},"Software Overview"),(0,i.yg)("h3",{id:"sender-code"},"Sender Code"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-cpp"},"#include <SoftwareSerial.h> // Include the SoftwareSerial library\n\n// Create a SoftwareSerial object using D5 and D4 pins\nSoftwareSerial mySerial(D5, D4);\n#define enable_pin D2 // Define the enable pin as D2\n\nvoid setup() {\n  Serial.begin(115200); // Initialize the hardware serial with a baud rate of 115200\n  mySerial.begin(115200); // Initialize the software serial with a baud rate of 115200\n  \n  // Wait for the software serial to be ready\n  while(!mySerial);\n  // Wait for the hardware serial to be ready\n  while(!Serial);\n\n  pinMode(enable_pin, OUTPUT); // Set the enable pin as an output\n  digitalWrite(enable_pin, HIGH); // Set the enable pin to high\n}\n\nvoid loop() {\n  // Check if there is data available from the hardware serial\n  if (Serial.available()) {\n    char data = Serial.read(); // Read the data from the hardware serial\n    \n    // If the received data is not a newline character\n    if (data != '\\n' && data != '\\r') {\n      Serial.println(\"send successfully\"); // Print a success message\n      mySerial.print(\"Master send information is: \"); // Send a prompt message to the software serial\n      mySerial.println(data); // Send the received data to the software serial\n    }\n  }\n  delay(1000); // Delay for 1 second\n}\n\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"SoftwareSerial Library:")," Allows the creation of additional serial ports on ESP32, typically used for communication with devices (such as sensors or modules).")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"SoftwareSerial mySerial(D5, D4)"),": Defines a SoftwareSerial object named mySerial, using D5 and D4 as the receive and transmit pins.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"#define enable_pin D2"),": Defines an enable pin used to control the sending and receiving state of the RS485 module.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"setup()"),"\uff1a"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"while(!mySerial)"),": Waits until the software serial is ready for communication."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"while(!Serial)"),": Waits until the hardware serial is ready for communication."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"pinMode(enable_pin, OUTPUT)"),": Configures the enable_pin as an output pin to control the RS485 module."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"digitalWrite(enable_pin, HIGH)"),": Sets the enable_pin to HIGH, configuring the RS485 module for sending mode."))),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"loop():")),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"if (mySerial.available())"),": Checks if there is any data available to read from the software serial port."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"char data = mySerial.read()"),": Reads a single character from the software serial port and stores it in the variable data."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"if(data != '\\n' && data != '\\r')"),": Checks if the received data is not a newline (\\n) or carriage return (\\r) character."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},'Serial.println("send successfully")'),": Print a success message."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},'mySerial.print("Master send information is: ")'),": Send a prompt message to the software serial."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"mySerial.println(data)")," :Send the data you need to an RS485 expansion board.")))),(0,i.yg)("h3",{id:"receiver-code"},"Receiver Code"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-cpp"},"#include <SoftwareSerial.h> // Include the SoftwareSerial library\n\nSoftwareSerial mySerial(D5, D4); // Create a SoftwareSerial object; D5 is RX and D4 is TX\n#define enable_pin D2 // Define the enable pin as D2\n\nvoid setup() {\n  Serial.begin(115200); // Initialize the hardware serial with a baud rate of 115200\n  mySerial.begin(115200); // Initialize the software serial with a baud rate of 115200\n  \n  // Wait for the hardware serial to be ready\n  while(!Serial);\n  // Wait for the software serial to be ready\n  while(!mySerial);\n  \n  pinMode(enable_pin, OUTPUT); // Set the enable pin as an output\n  digitalWrite(enable_pin, LOW); // Set the enable pin to low\n}\n\nvoid loop() {\n  // Check if there is data available from the software serial\n  if (mySerial.available()) {\n    char data = mySerial.read(); // Read the data from the software serial\n    \n    // If the received data is not a newline character\n    if(data != '\\n' && data != '\\r'){\n      Serial.println(\"receiver information\"); // Print a message indicating that data is received\n      mySerial.println(data); // Echo the received data back to the software serial\n    }\n  }\n}\n\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"SoftwareSerial Library:")," Allows the creation of additional serial ports on ESP32, typically used for communication with devices (such as sensors or modules).")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"SoftwareSerial mySerial(D5, D4)"),": Defines a SoftwareSerial object named mySerial, using D5 as RX and D4 as TX.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"define enable_pin D2"),": Defines an enable pin used to control the sending and receiving state of the RS485 module.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"setup()"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"Serial.begin(115200"),": Initializes the hardware serial port with a baud rate of 115200."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"mySerial.begin(115200)"),": Initializes the software serial port with a baud rate of 115200."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"while(!Serial)"),": Waits until the hardware serial port is ready for communication."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"while(!mySerial)"),": Waits until the software serial port is ready for communication."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"pinMode(enable_pin, OUTPUT)"),": Configures the enable_pin as an output pin to control the RS485 module."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"digitalWrite(enable_pin, LOW)"),": Sets the enable_pin to low, configuring the RS485 module for receiving mode."))),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"loop()"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"if (mySerial.available())"),": Checks if there is any data available to read from the software serial port."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"char data = mySerial.read()"),": Reads a single character from the software serial port and stores it in the variable data."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"if(data != '\\n' && data != '\\r')"),": Checks if the received data is not a newline (\\n) or carriage return (\\r) character."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},'Serial.println("receiver information")'),": Prints a message to the hardware serial indicating that data has been received."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"mySerial.println(data)"),": Print the data sent to the receiver RS485.")))),(0,i.yg)("h2",{id:"rs485-transmission-result"},"RS485 Transmission Result"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/rs485_ExpansionBoard/result.png",style:{width:900,height:"auto"}})),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);