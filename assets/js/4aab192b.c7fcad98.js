"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[72493],{15680:(e,t,r)=>{r.d(t,{xA:()=>g,yg:()=>y});var i=r(96540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=i.createContext({}),p=function(e){var t=i.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},g=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),c=p(r),d=n,y=c["".concat(l,".").concat(d)]||c[d]||u[d]||a;return r?i.createElement(y,s(s({ref:t},g),{},{components:r})):i.createElement(y,s({ref:t},g))}));function y(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:n,s[1]=o;for(var p=2;p<a;p++)s[p]=r[p];return i.createElement.apply(null,s)}return i.createElement.apply(null,r)}d.displayName="MDXCreateElement"},33533:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var i=r(9668),n=(r(96540),r(15680));const a={description:"Enjoy reliable internet access anywhere with a Raspberry Pi 5, OpenWrt, and a 4G LTE HAT. Learn how to create a high-performance portable hotspot for home, travel, and remote locations.",title:"Setting Up OpenWrt on Raspberry Pi 5 with a 4G LTE Module",keywords:["Raspberry Pi Hat","Getting started","Hotspot","Mobile Data","4G LTE","OpenWRT"],image:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/1-114993408-LTE-CAT-4-EG25-GL-4G-HAT-for-Raspberry-Pi.webp",slug:"/4g_lte_hat_and_raspberry_pi_router_with_openwrt",last_update:{date:"12/25/2024",author:"Kasun Thushara"}},s=void 0,o={unversionedId:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/4g_lte_rpi_hat_openwrt",id:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/4g_lte_rpi_hat_openwrt",title:"Setting Up OpenWrt on Raspberry Pi 5 with a 4G LTE Module",description:"Enjoy reliable internet access anywhere with a Raspberry Pi 5, OpenWrt, and a 4G LTE HAT. Learn how to create a high-performance portable hotspot for home, travel, and remote locations.",source:"@site/docs/Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/4g_lte_rpi_hat_openwrt.md",sourceDirName:"Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications",slug:"/4g_lte_hat_and_raspberry_pi_router_with_openwrt",permalink:"/4g_lte_hat_and_raspberry_pi_router_with_openwrt",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Network/RaspberryPi_Devices/LTE_CAT_4_EG25_GL_4G_HAT_for_Raspberry_Pi/Applications/4g_lte_rpi_hat_openwrt.md",tags:[],version:"current",lastUpdatedBy:"Kasun Thushara",lastUpdatedAt:1735084800,formattedLastUpdatedAt:"Dec 25, 2024",frontMatter:{description:"Enjoy reliable internet access anywhere with a Raspberry Pi 5, OpenWrt, and a 4G LTE HAT. Learn how to create a high-performance portable hotspot for home, travel, and remote locations.",title:"Setting Up OpenWrt on Raspberry Pi 5 with a 4G LTE Module",keywords:["Raspberry Pi Hat","Getting started","Hotspot","Mobile Data","4G LTE","OpenWRT"],image:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/1-114993408-LTE-CAT-4-EG25-GL-4G-HAT-for-Raspberry-Pi.webp",slug:"/4g_lte_hat_and_raspberry_pi_router_with_openwrt",last_update:{date:"12/25/2024",author:"Kasun Thushara"}},sidebar:"ProductSidebar",previous:{title:"4G LTE HAT on Raspberry Pi- TCP/IP Networking Explained",permalink:"/tcp_ip_raspberry_pi_4g_lte_hat"},next:{title:"Rockchip-Powered Network Solutions",permalink:"/Rockchip_network_solutions"}},l={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:3},{value:"Choose the OpenWrt Snapshot",id:"choose-the-openwrt-snapshot",level:2},{value:"Build a Custom OpenWrt Image",id:"build-a-custom-openwrt-image",level:2},{value:"Steps to Build",id:"steps-to-build",level:3},{value:"Install OpenWrt on Raspberry Pi 5",id:"install-openwrt-on-raspberry-pi-5",level:2},{value:"Check Device Connection",id:"check-device-connection",level:2},{value:"Verify Device Details:",id:"verify-device-details",level:3},{value:"Configure the LTE Module",id:"configure-the-lte-module",level:2},{value:"Use Minicom to Adjust Settings",id:"use-minicom-to-adjust-settings",level:3},{value:"Enable ECM / Dial-Up Mode:",id:"enable-ecm--dial-up-mode",level:3},{value:"Add a New Network Interface",id:"add-a-new-network-interface",level:2},{value:"Set Up a Wireless Access Point",id:"set-up-a-wireless-access-point",level:2},{value:"Test the Wireless Network:",id:"test-the-wireless-network",level:2},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],g={toc:p},c="wrapper";function u(e){let{components:t,...r}=e;return(0,n.yg)(c,(0,i.A)({},g,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"The Raspberry Pi 5, paired with ",(0,n.yg)("strong",{parentName:"p"},"OpenWrt")," and a 4G LTE HAT , offers a powerful and flexible solution for creating a portable hotspot. This setup is ideal for providing internet access in remote locations, supporting IoT devices, or creating a personal wireless network on the go. OpenWrt\u2019s customizability ensures seamless integration with 4G LTE modules, allowing users to harness the full potential of Raspberry Pi 5 as a reliable and high-performance wireless router. Whether for home, travel, or professional use, this guide will help you transform your Raspberry Pi 5 into a fully functional hotspot powered by OpenWrt and 4G LTE connectivity."),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("h3",{id:"hardware-requirements"},"Hardware Requirements"),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{align:"center"},(0,n.yg)("tr",null,(0,n.yg)("th",null,"Raspberry Pi 5"),(0,n.yg)("th",null,"Raspberry Pi 4G LTE CAT4 HAT")),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/-/1-102110919-raspberry-pi-5-8gb-45font.jpg",style:{width:250,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/_/1_23_1.jpg",style:{width:250,height:"auto"}})))),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Raspberry-Pi-5-8GB-p-5810.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/LTE-CAT-4-EG25-GL-HAT-for-Raspberry-Pi-p-6325.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,n.yg)("h2",{id:"choose-the-openwrt-snapshot"},"Choose the OpenWrt Snapshot"),(0,n.yg)("p",null,"To work with a 4G LTE module, certain dependencies are required. The OpenWrt Firmware Selector provides the flexibility to include these dependencies during the image creation process, allowing you to compile a customized firmware. Without this approach, you would need an alternative internet source to install the dependencies on the Raspberry Pi after setup. Therefore, it is recommended to build a firmware image that already includes the necessary dependencies."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Go to the ",(0,n.yg)("a",{parentName:"strong",href:"https://firmware-selector.openwrt.org/?version=SNAPSHOT&target=bcm27xx%2Fbcm2712&id=rpi-5"},"OpenWrt firmware selector")," and choose the snapshot version."))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Snapshots are updated frequently and are ideal for advanced users.")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Click the ",(0,n.yg)("inlineCode",{parentName:"p"},"Customize installed packages and/or first boot script"),"."))),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-build-1.PNG",style:{width:500}})),(0,n.yg)("h2",{id:"build-a-custom-openwrt-image"},"Build a Custom OpenWrt Image"),(0,n.yg)("p",null,"Ensure the following packages are included during the custom build process:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"kmod-usb-net-cdc-ether"),(0,n.yg)("li",{parentName:"ul"},"kmod-usb-serial-option"),(0,n.yg)("li",{parentName:"ul"},"picocom"),(0,n.yg)("li",{parentName:"ul"},"minicom")),(0,n.yg)("h3",{id:"steps-to-build"},"Steps to Build"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Add the required packages to your configuration file."),(0,n.yg)("li",{parentName:"ul"},"Compile the OpenWrt firmware."),(0,n.yg)("li",{parentName:"ul"},"Download the generated factory image after compilation.")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-build.PNG",style:{width:500}})),(0,n.yg)("h2",{id:"install-openwrt-on-raspberry-pi-5"},"Install OpenWrt on Raspberry Pi 5"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Burn the compiled image to an SD card using tools like ",(0,n.yg)("strong",{parentName:"li"},"Balena Etcher"),"."),(0,n.yg)("li",{parentName:"ul"},"Insert the SD card into the Raspberry Pi 5."),(0,n.yg)("li",{parentName:"ul"},"Connect your Raspberry Pi to a 4G LTE modul")),(0,n.yg)("h2",{id:"check-device-connection"},"Check Device Connection"),(0,n.yg)("p",null,"Access the Raspberry Pi using SSH:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"ssh root@192.168.1.1\n")),(0,n.yg)("h3",{id:"verify-device-details"},"Verify Device Details:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Use dmesg to check for connected devices:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"dmesg | grep usb\n")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-dmsg.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"View USB details:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"cat/sys/kernel/debug/usb/devices\n")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"This will display information about the manufacturer, product, and other device-specific details.Please ensure the module is powered on.")),(0,n.yg)("h2",{id:"configure-the-lte-module"},"Configure the LTE Module"),(0,n.yg)("h3",{id:"use-minicom-to-adjust-settings"},"Use Minicom to Adjust Settings"),(0,n.yg)("p",null,"Open ",(0,n.yg)("strong",{parentName:"p"},"Minicom")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"minicom -s\n")),(0,n.yg)("p",null,"You will be find this kind of interface . Select Serial port setup by arrow keys "),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-minicom-serial.PNG",style:{width:500}})),(0,n.yg)("p",null,"Configure settings:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Set the baud rate to match your 4G module (e.g., 9600)."),(0,n.yg)("li",{parentName:"ul"},"Select the correct COM port (e.g., /dev/ttyUSB2).")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-minicom.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"And Save setup as default ")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-minicom-save.PNG",style:{width:500}})),(0,n.yg)("h3",{id:"enable-ecm--dial-up-mode"},"Enable ECM / Dial-Up Mode:"),(0,n.yg)("p",null,"Send the following AT commands to configure the USB networking mode:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"minicom -D /dev/ttyUSB2\n")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'AT+QCFG="usbnet"\nAT+QCFG="usbnet",1 \n')),(0,n.yg)("h2",{id:"add-a-new-network-interface"},"Add a New Network Interface"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Log in to the OpenWrt LuCI web interface via web browser ",(0,n.yg)("strong",{parentName:"li"},"192.168.1.1"),"."),(0,n.yg)("li",{parentName:"ul"},"Go to ",(0,n.yg)("strong",{parentName:"li"},"Network > Interfaces > Add New Interface"),"."),(0,n.yg)("li",{parentName:"ul"},"Set up the interface:",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Select the detected device (",(0,n.yg)("strong",{parentName:"li"},"eth1")," or ",(0,n.yg)("strong",{parentName:"li"},"usb0"),")."),(0,n.yg)("li",{parentName:"ul"},"Use the ",(0,n.yg)("strong",{parentName:"li"},"DHCP Client")," protocol."),(0,n.yg)("li",{parentName:"ul"},"Name the interface (e.g., ",(0,n.yg)("strong",{parentName:"li"},"USB_Modem"),").")))),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-new-interface.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Configure firewall settings:",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Assign the interface to the WAN zone.")))),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-firewall-interface.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Under DHCP Server, enable Ignore Interface.")),(0,n.yg)("h2",{id:"set-up-a-wireless-access-point"},"Set Up a Wireless Access Point"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"In the LuCI web interface, navigate to ",(0,n.yg)("strong",{parentName:"li"},"Network > Wireless > Add"),".")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-wireless.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Configure the new wireless interface:",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"SSID"),": Keep the default or customize it."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Mode"),": Access Point."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Network"),": LAN.")))),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-wireless-settings.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"For ",(0,n.yg)("strong",{parentName:"li"},"Wireless Security"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Set encryption to ",(0,n.yg)("strong",{parentName:"li"},"WPA2"),"."),(0,n.yg)("li",{parentName:"ul"},"Create a strong password.")))),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-password-wireless.PNG",style:{width:500}})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Reboot the device.")),(0,n.yg)("h2",{id:"test-the-wireless-network"},"Test the Wireless Network:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Your wireless SSID should now be visible on nearby devices."),(0,n.yg)("li",{parentName:"ul"},"Connect using the configured password to access the 4G LTE internet.")),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/openwrt-connection.PNG",style:{width:500}})),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/4g_hat_raspberry_pi_eg25_gl/mobile-cop.png",style:{width:500}})),(0,n.yg)("h2",{id:"resources"},"Resources"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[Web Page]")," ",(0,n.yg)("a",{parentName:"p",href:"https://www.quectel.com/product/lte-eg25-g/"},"LTE EG25-G"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[Web Page]")," ",(0,n.yg)("a",{parentName:"p",href:"https://openwrt.org/docs/guide-user/network/wan/wwan/ethernetoverusb_cdc"},"OpenWRT Uses cdc_ether driver based dongles for WAN connection")))),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}u.isMDXComponent=!0}}]);