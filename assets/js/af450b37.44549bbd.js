"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[85391],{15680:(e,t,o)=>{o.d(t,{xA:()=>d,yg:()=>g});var n=o(96540);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(o),m=r,g=p["".concat(l,".").concat(m)]||p[m]||c[m]||i;return o?n.createElement(g,a(a({ref:t},d),{},{components:o})):n.createElement(g,a({ref:t},d))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,a[1]=s;for(var u=2;u<i;u++)a[u]=o[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},49759:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var n=o(9668),r=(o(96540),o(15680));const i={description:"This article mainly introduces how to use the 485 communication function of reComputer R1000, and tests the rs485 and Modbus communication functions.",title:"How to use rs485 and modbus with reComputer R1000",keywords:["Edge","reComputer R1000","Modbus RTU","rs485"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/r1000_connection_1.webp",slug:"/recomputer_r1000_use_rs485_modbus_rtu",last_update:{date:"12/20/2024",author:"Jiahao Li"}},a=void 0,s={unversionedId:"Edge/Raspberry_Pi_Devices/reComputer_R1000/recomputer_r1000_how_to_use_rs485_modbus",id:"Edge/Raspberry_Pi_Devices/reComputer_R1000/recomputer_r1000_how_to_use_rs485_modbus",title:"How to use rs485 and modbus with reComputer R1000",description:"This article mainly introduces how to use the 485 communication function of reComputer R1000, and tests the rs485 and Modbus communication functions.",source:"@site/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/recomputer_r1000_how_to_use_rs485_modbus.md",sourceDirName:"Edge/Raspberry_Pi_Devices/reComputer_R1000",slug:"/recomputer_r1000_use_rs485_modbus_rtu",permalink:"/recomputer_r1000_use_rs485_modbus_rtu",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/recomputer_r1000_how_to_use_rs485_modbus.md",tags:[],version:"current",lastUpdatedBy:"Jiahao Li",lastUpdatedAt:1734652800,formattedLastUpdatedAt:"Dec 20, 2024",frontMatter:{description:"This article mainly introduces how to use the 485 communication function of reComputer R1000, and tests the rs485 and Modbus communication functions.",title:"How to use rs485 and modbus with reComputer R1000",keywords:["Edge","reComputer R1000","Modbus RTU","rs485"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/r1000_connection_1.webp",slug:"/recomputer_r1000_use_rs485_modbus_rtu",last_update:{date:"12/20/2024",author:"Jiahao Li"}},sidebar:"ProductSidebar",previous:{title:"recomputer_r1000 Warranty",permalink:"/recomputer_r1000_warranty"},next:{title:"reComputer R1000 use bacnet MS/TP",permalink:"/reComputer_r1000_use_bacnet_mstp"}},l={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Start",id:"getting-start",level:2},{value:"Hardware Preparation",id:"hardware-preparation",level:3},{value:"Software",id:"software",level:3},{value:"Hardware Configuration",id:"hardware-configuration",level:3},{value:"Configure minicom on reComputer R1000v1.1",id:"configure-minicom-on-recomputer-r1000v11",level:2},{value:"First, install minicom",id:"first-install-minicom",level:3},{value:"Second, configure your minicom as follows:",id:"second-configure-your-minicom-as-follows",level:3},{value:"Action required for reComputer R1000 v1.0",id:"action-required-for-recomputer-r1000-v10",level:2},{value:"Kernel module solution (recommended)",id:"kernel-module-solution-recommended",level:3},{value:"Installation",id:"installation",level:4},{value:"Load the kernel module",id:"load-the-kernel-module",level:4},{value:"Unload the kernel module",id:"unload-the-kernel-module",level:4},{value:"Add the module with DKMS",id:"add-the-module-with-dkms",level:4},{value:"Application layer solution",id:"application-layer-solution",level:3},{value:"Using script",id:"using-script",level:4},{value:"Manual setup",id:"manual-setup",level:4},{value:"Steps to use Modbus RTU testing",id:"steps-to-use-modbus-rtu-testing",level:2},{value:"Steps to use the  Modbus TCP testing",id:"steps-to-use-the--modbus-tcp-testing",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],d={toc:u},p="wrapper";function c(e){let{components:t,...o}=e;return(0,r.yg)(p,(0,n.A)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"introduction"},"Introduction"),(0,r.yg)("p",null,"This article mainly introduces how to use the 485 communication function of reComputer R1000, and tests the RS485 and Modbus communication functions."),(0,r.yg)("h2",{id:"getting-start"},"Getting Start"),(0,r.yg)("p",null,"Before you start this project, you may need to prepare your hardware and software in advance as described here."),(0,r.yg)("h3",{id:"hardware-preparation"},"Hardware Preparation"),(0,r.yg)("div",{class:"table-center"},(0,r.yg)("table",{class:"table-nobg"},(0,r.yg)("tr",{class:"table-trnobg"},(0,r.yg)("th",{class:"table-trnobg"},"reComputer R1000")),(0,r.yg)("tr",{class:"table-trnobg"}),(0,r.yg)("tr",{class:"table-trnobg"},(0,r.yg)("td",{class:"table-trnobg"},(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",style:{width:300,height:"auto"}})))),(0,r.yg)("tr",{class:"table-trnobg"}),(0,r.yg)("tr",{class:"table-trnobg"},(0,r.yg)("td",{class:"table-trnobg"},(0,r.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,r.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reComputer-R1025-10-p-5895.html"},(0,r.yg)("strong",null,(0,r.yg)("span",null,(0,r.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,r.yg)("h3",{id:"software"},"Software"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Using ",(0,r.yg)("a",{parentName:"li",href:"https://www.modbustools.com/modbus_poll.html"},"modbus poll")," on your W10 PC.You can also use other modbus testing tools"),(0,r.yg)("li",{parentName:"ul"},"Using ",(0,r.yg)("a",{parentName:"li",href:"https://modbusmechanic.scifidryer.com/"},"modbusmechanic")," on reComputer R1000 and W10 PC.You can also use other modbus testing tools"),(0,r.yg)("li",{parentName:"ul"},"Using ",(0,r.yg)("a",{parentName:"li",href:"https://mobaxterm.mobatek.net/"},"mobaxterm")," on your W10 PC.You can also use other serial port testing tools"),(0,r.yg)("li",{parentName:"ul"},"You need to download the ",(0,r.yg)("strong",{parentName:"li"},"minicom")," tool using the following command on the reComputer R1000:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get install minicom\n")),(0,r.yg)("h3",{id:"hardware-configuration"},"Hardware Configuration"),(0,r.yg)("p",null,"This test uses an RS485 to USB module to connect reComputer R1000 and W10 PC."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/hardwareconnection.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"For ModbusTCP, we use Ethernet cables to connect the W10 PC and reComputer R1000 to a switch to ensure that they are on the same network segment."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/r1000_connection.png",alt:"pir",width:"500",height:"auto"})),(0,r.yg)("h2",{id:"configure-minicom-on-recomputer-r1000v11"},"Configure minicom on reComputer R1000v1.1"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"NOTE:")," Before you use RS485 with minicom please install r1000 drivers like ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/recomputer_r1000_flash_OS/#install-drivers"},"this"),"."),(0,r.yg)("h3",{id:"first-install-minicom"},"First, install minicom"),(0,r.yg)("p",null,"Install minicom on both your host computer and reComputer r1000 with command below:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"sudo apt install minicom\n")),(0,r.yg)("h3",{id:"second-configure-your-minicom-as-follows"},"Second, configure your minicom as follows:"),(0,r.yg)("p",null,"Open a terminal with ",(0,r.yg)("inlineCode",{parentName:"p"},"Ctrl+Alt+T"),", and input command like below:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"sudo minicom -D /dev/ttyAMA*\n")),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"ttyAMA*")," should be ",(0,r.yg)("inlineCode",{parentName:"p"},"ttyAMA2, ttyAMA3 or ttyAMA4")," depends on which RS485 you use."),(0,r.yg)("p",null,"And then type ",(0,r.yg)("inlineCode",{parentName:"p"},"Ctal+A")," then type ",(0,r.yg)("inlineCode",{parentName:"p"},"C")," you will see minicom like below:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/minicom0.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Type ",(0,r.yg)("inlineCode",{parentName:"p"},"o")," to configure minicom, and select ",(0,r.yg)("inlineCode",{parentName:"p"},"Serial port setup")," you will see like below:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/minicom1.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"And the type ",(0,r.yg)("inlineCode",{parentName:"p"},"F")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"H")," to make minicom to RS485 model, the result will show as below:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/minicom2.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Finally, select ",(0,r.yg)("inlineCode",{parentName:"p"},"Exit")," and type ",(0,r.yg)("inlineCode",{parentName:"p"},"Enter")," to exit configure, like below: "),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/minicom3.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("h2",{id:"action-required-for-recomputer-r1000-v10"},"Action required for reComputer R1000 v1.0"),(0,r.yg)("p",null,"For reComputer R1000 v1.0, the DE pin of the built-in 485 transceiver is out of control by default, which means the interfaces can only transmit data unidirectionally (receive or send only)."),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("p",{parentName:"admonition"},"To distinguish between the hardware revision (v1.0 and v1.1), you can refer to ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/recomputer_r1000_v1_1_description/"},"reComputer R1000 V1.1 Product change details"),".")),(0,r.yg)("p",null,"We now have two solutions, one is to ",(0,r.yg)("strong",{parentName:"p"},"load a kernel module that hooks the UART driver, which we recommend you to use"),", and the other is an application layer based solution that simply calls the ",(0,r.yg)("inlineCode",{parentName:"p"},"libgpiod")," to control the DE pins. You can choose one based on your needs."),(0,r.yg)("h3",{id:"kernel-module-solution-recommended"},"Kernel module solution (recommended)"),(0,r.yg)("h4",{id:"installation"},"Installation"),(0,r.yg)("p",null,"Firstly, you need to download the source code of the kernel module. It's a standalone repository, so you can directly clone it."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/bclswl0827/r1000v1-rs485-autoflow\ncd r1000v1-rs485-autoflow\n")),(0,r.yg)("p",null,"Next, you need to compile the kernel module."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"make\n")),(0,r.yg)("p",null,"If you are getting errors while compiling, you may need to install the kernel headers corresponding to your current running kernel. We assume that you are using Raspberry Pi OS, so you can use the following command to install the kernel headers."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo apt-get install linux-headers-$(uname -r)\n")),(0,r.yg)("p",null,"After that, you can compile the kernel module again."),(0,r.yg)("h4",{id:"load-the-kernel-module"},"Load the kernel module"),(0,r.yg)("p",null,"After it's got compiled, you can load the kernel module by running the following command."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo insmod r1000v1-rs485-autoflow.ko\n")),(0,r.yg)("p",null,"If the kernel module loaded successfully, you should see the following message in the kernel log, check it with ",(0,r.yg)("inlineCode",{parentName:"p"},"dmesg")," command."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"[  256.037465] r1000v1_rs485_autoflow: RS-485 interface has been hooked successfully\n")),(0,r.yg)("p",null,"Now, you can use the ",(0,r.yg)("inlineCode",{parentName:"p"},"minicom")," tool to test the RS485 communication. You can also use other serial port testing tools (e.g., ",(0,r.yg)("inlineCode",{parentName:"p"},"picocom"),")."),(0,r.yg)("p",null,"To load the kernel at boot time, you can add this module to the ",(0,r.yg)("inlineCode",{parentName:"p"},"/etc/modules")," file using the following command."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'echo "r1000v1_rs485_autoflow" | sudo tee -a /etc/modules\n')),(0,r.yg)("p",null,"After the module is registered, you need to reboot the system to make the changes take effect."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo reboot\n")),(0,r.yg)("h4",{id:"unload-the-kernel-module"},"Unload the kernel module"),(0,r.yg)("p",null,"To unload the kernel module, you can run the following command, and the built-in RS485 interface will return to receive-only mode."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo rmmod r1000v1-rs485-autoflow\n")),(0,r.yg)("h4",{id:"add-the-module-with-dkms"},"Add the module with DKMS"),(0,r.yg)("p",null,"DKMS (Dynamic Kernel Module Support) is a system that automates the building and installation of kernel modules, making it useful for managing modules across multiple kernel versions. By using DKMS, you can ensure that your modules remain compatible even after a kernel update."),(0,r.yg)("p",null,"To add this kernel module with DKMS, use the following command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo make dkms_install\n")),(0,r.yg)("p",null,"This command will register the module with DKMS, compile it, and install it for the current kernel version. When the kernel is upgraded in the future, DKMS will automatically rebuild and install the module for the new version, so you don't need to manually recompile it."),(0,r.yg)("h3",{id:"application-layer-solution"},"Application layer solution"),(0,r.yg)("h4",{id:"using-script"},"Using script"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"In addition to the methods mentioned in this article, we also provide a script that you can execute using the following command. This script can automatically create a new /dev/ttyx and then use the newly created device number to perform rs485/modbus rtu communication is enough",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"curl -sSL https://raw.githubusercontent.com/Seeed-Projects/R1000-RS485-Util/main/setup_rs485.sh | sudo bash\n")))),(0,r.yg)("h4",{id:"manual-setup"},"Manual setup"),(0,r.yg)("p",null,"First, you need to download the ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/seeed-linux-dtoverlays/tree/master/tools/rs485_control_DE"},(0,r.yg)("strong",{parentName:"a"},"C program"))," provided by us, and then refer to the contents of the ReadMe. Compile and run. "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/Seeed-Studio/seeed-linux-dtoverlays\ncd seeed-linux-dtoverlays/tools/rs485_control_DE/\nsudo apt-get install libgpiod-dev\ngcc -o rs485_DE rs485_DE.c -lgpiod\nsudo ./rs485_DE /dev/ttyAMA2 /dev/gpiochip0 6 /dev/ttyAMA10 \n")),(0,r.yg)("p",null,"This program will create a new ttyAMAx device, where the device number depends on the parameters you enter when running the program."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/cfg_c.gif"})),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"The above example shows how to use one RS485 interface. If you want to use three 485 interfaces, you can use the following script to achieve it:")),(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo ./rs485_DE /dev/ttyAMA2 /dev/gpiochip0 6 /dev/ttyAMA10 &\nsudo ./rs485_DE /dev/ttyAMA3 /dev/gpiochip0 17 /dev/ttyAMA11 &\nsudo ./rs485_DE /dev/ttyAMA5 /dev/gpiochip0 24 /dev/ttyAMA12 &\n")),(0,r.yg)("p",{parentName:"admonition"},"ttyAMA10~ttyAMA12 corresponds to ttyAMA2~ttyAMA5 one-to-one. Use ttyAMA10~ttyAMA12 in your application for normal communication (ttyAMA2~ttyAMA5 cannot be used, you need to use the device number newly created by the script)")),(0,r.yg)("h2",{id:"steps-to-use-modbus-rtu-testing"},"Steps to use Modbus RTU testing"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Enter the following script on reComputer R1000 to open the minicom software"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"minicom -D /dev/ttyAMAx -b 9600\n")),(0,r.yg)("p",null,"Among them, ",(0,r.yg)("inlineCode",{parentName:"p"},"-D")," is followed by the device number you want to open, ",(0,r.yg)("inlineCode",{parentName:"p"},"-b")," refers to the baud rate, and the device number needs to be the newly created device number in the first step.Then open MobaXterm on the W10 PC, create a new serial port terminal, select the serial port number, and the baud rate is 9600; finally, you can perform two-way communication with RS485. As shown in the figure, the content entered on the reComputer R1000 can be sent to via RS485. In W10 PC, the content entered on W10 PC can also be sent to reComputer R1000, and the two-way communication is normal."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/RS485_test.gif"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),": After testing the RS485 function, you can perform the Modbus function test. This step allows the reComputer R1000 to be tested as a Modbus slave.Open the ModbusMechanic software on reComputer R1000, select the device number and baud rate, then click on the simulated slave function in the upper left corner to add two coils; then open Modbus poll in W10 as the master station to read the coils of the slave station. Then open the display window of Modbus poll, and you can see that the sending and receiving messages of Modbus RTU are normal."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/Modbus_RTU_test.gif"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3"),":This step allows the reComputer R1000 to be tested as a Modbus master. Open the ModbusMechanic software on both reComputer R1000 and W10 PC, and select the device number and baud rate. W10 PC refers to the third step of setting. Select ",(0,r.yg)("inlineCode",{parentName:"p"},"Read Coils(0x01)")," on reComputer R1000 to read the coil of the slave, set ",(0,r.yg)("inlineCode",{parentName:"p"},"Slave Node")," to 1, ",(0,r.yg)("inlineCode",{parentName:"p"},"Register")," select the address you want to read, and finally click ",(0,r.yg)("inlineCode",{parentName:"p"},"Transmit packet"),"."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/RS485_fix/Modbus_master_test.gif"})),(0,r.yg)("h2",{id:"steps-to-use-the--modbus-tcp-testing"},"Steps to use the  Modbus TCP testing"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Open modbusmechanic on Win10 PC and R1000"),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/modbusmac_two.png"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),": R1000 acts as the modbus TCP host. Click ",(0,r.yg)("inlineCode",{parentName:"p"},"Tool => Start Slave Simulator")," on W10 PC, select ",(0,r.yg)("inlineCode",{parentName:"p"},"TCP")," for TYPE, select ",(0,r.yg)("inlineCode",{parentName:"p"},"1")," for Slave ID, and then add ",(0,r.yg)("inlineCode",{parentName:"p"},"Coils"),"; then enter ",(0,r.yg)("inlineCode",{parentName:"p"},"IP")," in R1000, and select ",(0,r.yg)("inlineCode",{parentName:"p"},"Read Coil")," for Scan group. Enter ",(0,r.yg)("inlineCode",{parentName:"p"},"Slave Node")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"Register"),", and finally click ",(0,r.yg)("inlineCode",{parentName:"p"},"Transmit packet"),". You can see that the slave data has been successfully read."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/R1000_MASTER_MODBUS_TCP.gif"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3"),": R1000 acts as a modbus TCP slave. Refer to the second step for configuration. You can see that R1000 can read data normally as a slave."),(0,r.yg)("center",null,(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/R1000_SLAVE_MODBUS_TCP.gif"})),(0,r.yg)("p",null,"Running the Modbus TCP slave program in R1000 needs to listen to the ",(0,r.yg)("inlineCode",{parentName:"p"},"502")," port, which may require ",(0,r.yg)("inlineCode",{parentName:"p"},"sudo")," permissions. If your application cannot listen to the ",(0,r.yg)("inlineCode",{parentName:"p"},"502")," port, please try to add permissions to it."),(0,r.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,r.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,r.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,r.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);