"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[10771],{15680:(e,t,a)=>{a.d(t,{xA:()=>g,yg:()=>h});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},g=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,g=s(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,h=d["".concat(l,".").concat(c)]||d[c]||u[c]||i;return a?n.createElement(h,o(o({ref:t},g),{},{components:a})):n.createElement(h,o({ref:t},g))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},19365:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(96540),r=a(20053);const i={tabItem:"tabItem_Ymn6"};function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,o),hidden:a},t)}},11470:(e,t,a)=>{a.d(t,{A:()=>N});var n=a(9668),r=a(96540),i=a(20053),o=a(23104),s=a(56347),l=a(57485),p=a(31682),g=a(89466);function d(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function u(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??d(a);return function(e){const t=(0,p.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function y(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,i=u(e),[o,s]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[l,p]=h({queryString:a,groupId:n}),[d,y]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,g.Dv)(a);return[n,(0,r.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:n}),m=(()=>{const e=l??d;return c({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{m&&s(m)}),[m]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!c({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);s(e),p(e),y(e)}),[p,y,i]),tabValues:i}}var m=a(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function w(e){let{className:t,block:a,selectedValue:s,selectValue:l,tabValues:p}=e;const g=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.a_)(),u=e=>{const t=e.currentTarget,a=g.indexOf(t),n=p[a].value;n!==s&&(d(t),l(n))},c=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const a=g.indexOf(e.currentTarget)+1;t=g[a]??g[0];break}case"ArrowLeft":{const a=g.indexOf(e.currentTarget)-1;t=g[a]??g[g.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.A)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>g.push(e),onKeyDown:c,onClick:u},o,{className:(0,i.A)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":s===t})}),a??t)})))}function b(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function v(e){const t=y(e);return r.createElement("div",{className:(0,i.A)("tabs-container",f.tabList)},r.createElement(w,(0,n.A)({},e,t)),r.createElement(b,(0,n.A)({},e,t)))}function N(e){const t=(0,m.A)();return r.createElement(v,(0,n.A)({key:String(t)},e))}},84168:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>g,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var n=a(9668),r=(a(96540),a(15680)),i=a(11470),o=a(19365);const s={description:"This tutorial mainly introduces the hardware connection configuration of M.2 Hat and dual Hat and how to make the Raspberry Pi boot from the SSD.",title:"Raspberry Pi 5 uses PCIe hat/dual hat",keywords:["M.2 hat","dual hat","Raspberry Pi"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/raspberry_pi_5_uses_pcie_hat_dual_hat",last_update:{date:"12/24/2024",author:"Jiahaoli"}},l=void 0,p={unversionedId:"Edge/M_2_Hat/m_2_hat_start_with_pi5",id:"Edge/M_2_Hat/m_2_hat_start_with_pi5",title:"Raspberry Pi 5 uses PCIe hat/dual hat",description:"This tutorial mainly introduces the hardware connection configuration of M.2 Hat and dual Hat and how to make the Raspberry Pi boot from the SSD.",source:"@site/docs/Edge/M_2_Hat/m_2_hat_start_with_pi5.md",sourceDirName:"Edge/M_2_Hat",slug:"/raspberry_pi_5_uses_pcie_hat_dual_hat",permalink:"/raspberry_pi_5_uses_pcie_hat_dual_hat",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/M_2_Hat/m_2_hat_start_with_pi5.md",tags:[],version:"current",lastUpdatedBy:"Jiahaoli",lastUpdatedAt:1734998400,formattedLastUpdatedAt:"Dec 24, 2024",frontMatter:{description:"This tutorial mainly introduces the hardware connection configuration of M.2 Hat and dual Hat and how to make the Raspberry Pi boot from the SSD.",title:"Raspberry Pi 5 uses PCIe hat/dual hat",keywords:["M.2 hat","dual hat","Raspberry Pi"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/raspberry_pi_5_uses_pcie_hat_dual_hat",last_update:{date:"12/24/2024",author:"Jiahaoli"}},sidebar:"ProductSidebar",previous:{title:"AWS IoT Core Intergate With reComputer R1000",permalink:"/recomputer_r1000_aws"},next:{title:"Benchmark of Multistream Inference on Raspberrypi with Hailo8",permalink:"/benchmark_of_multistream_inference_on_raspberrypi5_with_hailo8"}},g={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Start",id:"getting-start",level:2},{value:"Hardware Preparation",id:"hardware-preparation",level:3},{value:"Installation",id:"installation",level:3},{value:"Use SD Card Copier tool to flash OS onto the NVME SSD On Raspberry Pi OS",id:"use-sd-card-copier-tool-to-flash-os-onto-the-nvme-ssd-on-raspberry-pi-os",level:3},{value:"Setting the Raspberry Pi to boot from the NVMe SSD",id:"setting-the-raspberry-pi-to-boot-from-the-nvme-ssd",level:3},{value:"Modify PCIe",id:"modify-pcie",level:3},{value:"Speed Benchmark",id:"speed-benchmark",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],u={toc:d},c="wrapper";function h(e){let{components:t,...a}=e;return(0,r.yg)(c,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"introduction"},"Introduction"),(0,r.yg)("p",null,"This tutorial mainly introduces the hardware connection configuration of M.2 Hat/dual Hat and how to make the Raspberry Pi boot from the SSD.And introduces two installation methods, with and without casing."),(0,r.yg)("h2",{id:"getting-start"},"Getting Start"),(0,r.yg)("h3",{id:"hardware-preparation"},"Hardware Preparation"),(0,r.yg)("p",null,"For installation without a casing, you need to prepare the following materials:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u2460 Raspberry Pi 5"),(0,r.yg)("li",{parentName:"ul"},"\u2461 M.2 Hat/dual Hat"),(0,r.yg)("li",{parentName:"ul"},"\u2462 SSD/AI Kit PCIe devices"),(0,r.yg)("li",{parentName:"ul"},"\u2463 PCIe devices fixing screw"),(0,r.yg)("li",{parentName:"ul"},"\u2464 PCIe connection cable between M.2 Hat and Raspberry Pi "),(0,r.yg)("li",{parentName:"ul"},"\u2465 Screw sleeve\u3001long screws and nuts")),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/1.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"For installation with a casing, you need to prepare the following materials:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u2460 Raspberry Pi 5"),(0,r.yg)("li",{parentName:"ul"},"\u2461 M.2 Hat/dual Hat"),(0,r.yg)("li",{parentName:"ul"},"\u2462 SSD/AI Kit PCIe devices"),(0,r.yg)("li",{parentName:"ul"},"\u2463 PCIe devices fixing screw"),(0,r.yg)("li",{parentName:"ul"},"\u2464 PCIe connection cable between M.2 Hat and Raspberry Pi"),(0,r.yg)("li",{parentName:"ul"},"\u2465 Long screws and nuts "),(0,r.yg)("li",{parentName:"ul"},"\u2466 ",(0,r.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/M.2_Hat/Seeed%20M.2%20hat%20with%20Pi5%20case_sam-20240827.stp"},"outer casing"))),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/1_2.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("h3",{id:"installation"},"Installation"),(0,r.yg)(i.A,{mdxType:"Tabs"},(0,r.yg)(o.A,{value:"Method 1",label:"Installation without housing",mdxType:"TabItem"},(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/2.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Insert the PCIe connection cable into the M.2 Hat, paying attention to the insertion direction of the cable. Insert the PCIe interface of the M.2 Hat with the metal side facing downwards, as shown in the figure after insertion:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/3.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),": Insert the PCIe connection cable into Raspberry Pi 5."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/4.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Please pay attention to the insertion direction of the cable. Insert the PCIe interface of Raspberry Pi 5 with the metal side facing up, as shown in the figure after insertion:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/5.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3"),": Overlap the Raspberry Pi 5 with the M.2 Hat and insert the screw sleeve into the screw."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/6.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Then insert the screws into the screw holes of Raspberry Pi 5 and M.2 Hat, as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/7.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 4"),": Screw the stud into the screw and secure the screw to the circuit board, as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/8.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 5"),": Insert the SSD and AI Kit into M.2 dual Hat"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/10.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Then insert the fixing screws to secure the SSD and AI Kit in the M.2 Hat, as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/11.jpg",alt:"pir",width:"700",height:"auto"}))),(0,r.yg)(o.A,{value:"Method 2",label:"Installation with housing",mdxType:"TabItem"},(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/2.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Insert the PCIe connection cable into the M.2 Hat. Please pay attention to the insertion direction of the cable. Plug the metal side downward into the PCIe interface of the M.2 Hat. After insertion, as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/3.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),": Plug the PCIe connection cable into the Raspberry Pi 5."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/4.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Please pay attention to the insertion direction of the cable. Plug it into the PCIe interface of Raspberry Pi 5 with the metal side facing up. After insertion, it is as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/5.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3"),": Overlap the Raspberry Pi 5 and M.2 Hat, and prepare the shell, screws, nuts and PCIe devices"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/12.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Place the overlapping M.2 Hat and Raspberry Pi into the case, with the Raspberry Pi on top, as shown in the picture:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/13.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 4"),": Screw the screws into the reserved screw holes in the casing. This hole will connect the M.2 Hat and the Raspberry Pi, thereby fixing the M.2 Hat, Raspberry Pi 5 and the casing."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/14.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 5"),": Screw the studs into the screws to fix the M.2 Hat, Raspberry Pi 5 and case"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/15.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 6"),": Insert the SSD and AI Kit into the M.2 Hat, as shown in the figure:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/16.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 7"),": Screw in the fixing screws to fix the SSD in the M.2 Hat"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/17.jpg",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 8"),": Install the remaining shell"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/18.jpg",alt:"pir",width:"700",height:"auto"})))),(0,r.yg)("h3",{id:"use-sd-card-copier-tool-to-flash-os-onto-the-nvme-ssd-on-raspberry-pi-os"},"Use SD Card Copier tool to flash OS onto the NVME SSD On Raspberry Pi OS"),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"This method works if you have an SD card and have booted the device successfully. Please make sure your system is the latest Raspberry Pi system (Bookworm or later) and and your RPi 5 firmware is updated to 2023-12-06 (Dec 6th) or newer, otherwise it may not recognize the NVME-related configurations.")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),":Ensure that your Raspberry Pi system is up-to-date (Bookworm or later), enter the following command to update the RPi 5 firmware:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"  sudo apt update && sudo apt upgrade -y\n  sudo rpi-eeprom-update  # If it is not post-December 2023 type the following into a terminal to start the configuration tool\n  sudo raspi-config\n")),(0,r.yg)("p",null,"Scroll down to ",(0,r.yg)("inlineCode",{parentName:"p"},"Advanced Options")," and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_1.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Scroll down to ",(0,r.yg)("inlineCode",{parentName:"p"},"Bootloader Version")," and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_2.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"And finally choose ",(0,r.yg)("inlineCode",{parentName:"p"},"Latest"),", and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_3.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Select ",(0,r.yg)("inlineCode",{parentName:"p"},"No")," here - you want the ",(0,r.yg)("inlineCode",{parentName:"p"},"latest")," bootloader."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_4.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"And exit from the tool by selecting ",(0,r.yg)("inlineCode",{parentName:"p"},"Finish"),":"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_5.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"If asked to reboot, select ",(0,r.yg)("inlineCode",{parentName:"p"},"Yes"),"."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/g_6.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),"\uff1aCick ",(0,r.yg)("strong",{parentName:"p"},"Applications")," =>",(0,r.yg)("strong",{parentName:"p"},"Accessories")," =>",(0,r.yg)("strong",{parentName:"p"},"SD Card Copier")," on the main screen, run the ",(0,r.yg)("strong",{parentName:"p"},"SD Card Copier")," program, and copy the OS to the NVME ssd as shown in the figure below."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/copy.gif",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("h3",{id:"setting-the-raspberry-pi-to-boot-from-the-nvme-ssd"},"Setting the Raspberry Pi to boot from the NVMe SSD"),(0,r.yg)("p",null,"If you have easy access to your SD card slot you could turn off your Pi, pop out the SD card and (if everything's working as expected) it should automagically boot from your NVMe drive the next time you start it up. If you want to leave the SD card where it is and still boot from NVMe though, you'll need to change the boot order."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),":Enter the following command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"  sudo raspi-config\n")),(0,r.yg)("p",null,"Scroll down to ",(0,r.yg)("inlineCode",{parentName:"p"},"Advanced Options")," and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_1.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),":Scroll down to ",(0,r.yg)("inlineCode",{parentName:"p"},"Boot Order")," and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_2.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3"),":Choose ",(0,r.yg)("inlineCode",{parentName:"p"},"NVMe/USB Boot")," and press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_3.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"Configuration will be confirmed. Press Enter:"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_4.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 4"),":Return to the first screen by selecting ",(0,r.yg)("inlineCode",{parentName:"p"},"Back")," or pressing the Esc key. Then navigate to Finish using the right cursor key."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_5.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"You will be asked whether you want to reboot now. Click ",(0,r.yg)("inlineCode",{parentName:"p"},"Yes"),":"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/M.2_Hat/new/s_6.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("h3",{id:"modify-pcie"},"Modify PCIe"),(0,r.yg)(i.A,{mdxType:"Tabs"},(0,r.yg)(o.A,{value:"Method 1",label:"M.2 Hat",mdxType:"TabItem"},"M.2 Hat supports PCIe Gen 2 and PCIe Gen 3 modes",(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Enter the following command to open the ",(0,r.yg)("inlineCode",{parentName:"p"},"/boot/firmware/config.txt")," file"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo nano /boot/firmware/config.txt\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),":Add the following to the ","[all]"," section at the end of the ",(0,r.yg)("inlineCode",{parentName:"p"},"/boot/firmware/config.txt")," file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"dtparam=pciex1_gen=3\n")),(0,r.yg)("p",null,"Save the file and reboot again, you may see a speed increase!.")),(0,r.yg)(o.A,{value:"Method 2",label:"M.2 dual Hat",mdxType:"TabItem"},(0,r.yg)("p",null,"PCIe2.0 M.2 dual Hat supports PCIe Gen 2, and PCIe3.0 M.2 dual Hat supports PCIe Gen 2 and PCIe 3."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1"),": Enter the following command to open the ",(0,r.yg)("inlineCode",{parentName:"p"},"/boot/firmware/config.txt")," file"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"sudo nano /boot/firmware/config.txt\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2"),":Add the following to the ","[all]"," section at the end of the ",(0,r.yg)("inlineCode",{parentName:"p"},"/boot/firmware/config.txt")," file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"dtparam=pciex1_gen=3\ndtoverlay=pciex1-compat-pi5,no-mip\n\n")))),(0,r.yg)("h3",{id:"speed-benchmark"},"Speed Benchmark"),(0,r.yg)(i.A,{mdxType:"Tabs"},(0,r.yg)(o.A,{value:"Method 1",label:"M.2 hat",mdxType:"TabItem"},(0,r.yg)("p",null,"This test show that raspberrypi boot from the SD card and use the SSD as backup storage:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"# write speed command\nsudo dd if=/dev/zero of=/mnt/nvme/testfile bs=1M count=1024 oflag=direct\n\n# read speed command\nsudo dd if=/mnt/nvme/testfile of=/dev/null bs=1M iflag=direc\n")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"left"},"M.2 hat"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Read Speed"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Write Speed"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 3.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"822MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"716MB/s")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 2.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"431 MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"389MB/s"))))),(0,r.yg)(o.A,{value:"Method 2",label:"M.2 dual Hat",mdxType:"TabItem"},(0,r.yg)("p",null,"This test show that raspberrypi boot from the SSD and use another SSD as backup storage:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"# write speed command\ndd if=/dev/zero of=tempfile bs=1M count=1024 oflag=direct\n# read speed command\ndd if=/dev/zero of=tempfile bs=1M count=1024 \n")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"left"},"M.2 dual Hat"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Read & Read"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Write & Write"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Read & Write"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 3.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"average 454MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"average 407MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"697MB/s 663MB/s")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 2.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"average 234MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"average 214MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"414MB/s 324MB/s"))))),(0,r.yg)(o.A,{value:"Method 3",label:"M.2 dual Hat with hailo8",mdxType:"TabItem"},(0,r.yg)("p",null,"This test show that raspberrypi boot from the SSD and Hailo8 AI accelerator:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"# write speed command\ndd if=/dev/zero of=tempfile bs=1M count=1024 oflag=direct\n# read speed command\ndd if=/dev/zero of=tempfile bs=1M count=1024 \n")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"left"},"M.2 dual Hat with hailo8"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Read"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Read & Hailo8"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Write"),(0,r.yg)("th",{parentName:"tr",align:"right"},"Write & Hailo8"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 3.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"812MB/S"),(0,r.yg)("td",{parentName:"tr",align:"right"},"416MB/S 187FPS"),(0,r.yg)("td",{parentName:"tr",align:"right"},"701MB/s"),(0,r.yg)("td",{parentName:"tr",align:"right"},"340MB/s  188FPS")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"PCIe 2.0"),(0,r.yg)("td",{parentName:"tr",align:"center"},"429MB/S"),(0,r.yg)("td",{parentName:"tr",align:"right"},"233MB/S/s 128FPS"),(0,r.yg)("td",{parentName:"tr",align:"right"},"372MB/S"),(0,r.yg)("td",{parentName:"tr",align:"right"},"273MB/S 111FPS")))),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Note:")," To test Hailo8 please check this ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/hailo-ai/hailo-rpi5-examples"},"link")," and prepare a video with 240 FPS.")))),(0,r.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,r.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,r.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,r.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}h.isMDXComponent=!0}}]);