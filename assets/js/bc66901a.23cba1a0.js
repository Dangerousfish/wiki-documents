"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[77715],{15680:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>p});var o=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),m=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=m(e.components);return o.createElement(l.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),g=m(n),h=i,p=g["".concat(l,".").concat(h)]||g[h]||c[h]||r;return n?o.createElement(p,a(a({ref:t},d),{},{components:n})):o.createElement(p,a({ref:t},d))}));function p(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[g]="string"==typeof e?e:i,a[1]=s;for(var m=2;m<r;m++)a[m]=n[m];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},76295:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var o=n(9668),i=(n(96540),n(15680));const r={description:"Introduction of how the mmWave Sensor connect to HA.",title:"mmWave for XIAO to Home Assistant via Bluetooth or Wifi",keywords:["mmwave","radar"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/mmwave_for_xiao_to_ha_bt",last_update:{date:"09/14/2024",author:"Allen, Djair"}},a="mmWave for XIAO to Home Assistant via Bluetooth",s={unversionedId:"Sensor/mmWave_radar_sensor/mmwave-for-XIAO/mmwave-for-xiao-connect-to-HA",id:"Sensor/mmWave_radar_sensor/mmwave-for-XIAO/mmwave-for-xiao-connect-to-HA",title:"mmWave for XIAO to Home Assistant via Bluetooth or Wifi",description:"Introduction of how the mmWave Sensor connect to HA.",source:"@site/docs/Sensor/mmWave_radar_sensor/mmwave-for-XIAO/mmwave-for-xiao-connect-to-HA.md",sourceDirName:"Sensor/mmWave_radar_sensor/mmwave-for-XIAO",slug:"/mmwave_for_xiao_to_ha_bt",permalink:"/mmwave_for_xiao_to_ha_bt",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/mmWave_radar_sensor/mmwave-for-XIAO/mmwave-for-xiao-connect-to-HA.md",tags:[],version:"current",lastUpdatedBy:"Allen, Djair",lastUpdatedAt:1726272e3,formattedLastUpdatedAt:"Sep 14, 2024",frontMatter:{description:"Introduction of how the mmWave Sensor connect to HA.",title:"mmWave for XIAO to Home Assistant via Bluetooth or Wifi",keywords:["mmwave","radar"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/mmwave_for_xiao_to_ha_bt",last_update:{date:"09/14/2024",author:"Allen, Djair"}},sidebar:"ProductSidebar",previous:{title:"Development of 24GHz mmWave in XIAO and Arduino",permalink:"/mmwave_for_xiao_arduino"},next:{title:"mmWave Human Detection Sensor Kit",permalink:"/mmwave_human_detection_kit"}},l={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Hardware Preparations",id:"hardware-preparations",level:3},{value:"Software Preparations",id:"software-preparations",level:3},{value:"Procedures",id:"procedures",level:2},{value:"Step 1. Discovery Device",id:"step-1-discovery-device",level:3},{value:"Step 2. Configurate Device",id:"step-2-configurate-device",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],d={toc:m},g="wrapper";function c(e){let{components:t,...n}=e;return(0,i.yg)(g,(0,o.A)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"mmwave-for-xiao-to-home-assistant-via-bluetooth"},"mmWave for XIAO to Home Assistant via Bluetooth"),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/9.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("h2",{id:"introduction"},"Introduction"),(0,i.yg)("p",null,"24GHz mmWave Sensor for XIAO - Human Static Presence is a expansion board for Seeed Studio XIAO series. It is an antenna-integrated, high-sensitivity mmwave sensor that is based on the FMCW principle. Combined with sensor signal processing and accurate human body sensing algorithms, it can identify human bodies in motion and stationary states. "),(0,i.yg)("p",null,"This chapter primarily introduces how the 24GHz mmWave Sensor for XIAO connects to the HA via Bluetooth. For detailed functional features of the 24GHz mmWave Sensor for XIAO, you can refer to ",(0,i.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/mmwave_for_xiao/"},"here"),"."),(0,i.yg)("admonition",{type:"caution"},(0,i.yg)("p",{parentName:"admonition"},"All contents of this Wiki apply only to 24GHz mmWave for XIAO and may not be used on other millimetre wave sensors.")),(0,i.yg)("h2",{id:"getting-started"},"Getting Started"),(0,i.yg)("h3",{id:"hardware-preparations"},"Hardware Preparations"),(0,i.yg)("p",null,"In this article, we will use mmWave for XIAO in conjunction with the XIAO ESP32C3 to plug it into Home Assistant for the sake of aesthetics and ease of wiring. if you want to follow this tutorial to the letter, then you will need to prepare the following modules."),(0,i.yg)("table",{align:"center"},(0,i.yg)("tr",null,(0,i.yg)("th",null,"Seeed Studio XIAO ESP32C3"),(0,i.yg)("th",null,"24GHz mmWave for XIAO")),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/round_display_for_xiao/xiaoesp32c3.jpg",style:{width:200,height:"auto"}}))),(0,i.yg)("td",null,(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/1.png",style:{width:150,height:"auto"}})))),(0,i.yg)("tr",null,(0,i.yg)("td",null,(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/seeed-xiao-esp32c3-p-5431.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,i.yg)("td",null,(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeed-Studio-24GHz-mmWave-for-XIAO-p-5830.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))))),(0,i.yg)("p",null,"The sensor is designed for XIAO compatibility, so in general, if you want to use this sensor, you need to prepare an XIAO and install the female header row pin for the sensor. When connecting to the XIAO, please pay special attention to the installation direction of the sensor, please do not plug it in backwards, otherwise it is likely to burn the sensor or the XIAO."),(0,i.yg)("admonition",{type:"caution"},(0,i.yg)("p",{parentName:"admonition"},"The correct direction to follow is that the antenna of the sensor should face outwards.")),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/5.png",style:{width:800,height:"auto"}})),(0,i.yg)("p",null,"After confirming that the connection direction is correct, you can connect the USB-C type cable to the computer or 3.3V power supply, and the sensor will start to work."),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"If you don't have an XIAO on hand at the moment, then you have the option of powering the mmwave for XIAO separately by connecting TTL to its 3.3V pin and GND pin, which can also be done using the content of this tutorial. For this tutorial, there is no need to use the RX and TX pins."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/10.jpg",style:{width:300,height:"auto"}}))),(0,i.yg)("h3",{id:"software-preparations"},"Software Preparations"),(0,i.yg)("p",null,"If you haven't installed HomeAssistant yet, you can refer to the official HomeAssistant tutorial by clicking ",(0,i.yg)("a",{parentName:"p",href:"https://www.home-assistant.io/installation/"},"here"),"."),(0,i.yg)("h2",{id:"procedures"},"Procedures"),(0,i.yg)("h3",{id:"step-1-discovery-device"},"Step 1. Discovery Device"),(0,i.yg)("p",null,"In Home Assistant, click the ",(0,i.yg)("strong",{parentName:"p"},"setting")," in the lower left corner, select ",(0,i.yg)("strong",{parentName:"p"},"Devices&Services")," in the center."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/1.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"In the Discovered zone, there will be a sensor icon, click ",(0,i.yg)("strong",{parentName:"p"},"configure"),"."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/2.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"A popup window will appear, click ",(0,i.yg)("strong",{parentName:"p"},"submit"),"."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/3.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"You will see a successful configuration popup, click ",(0,i.yg)("strong",{parentName:"p"},"finish"),"."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/4.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("h3",{id:"step-2-configurate-device"},"Step 2. Configurate Device"),(0,i.yg)("p",null,"In the configured zone, click ",(0,i.yg)("strong",{parentName:"p"},"ld2410_ble"),"."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/5.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Once you are in the sensor settings page, click ",(0,i.yg)("strong",{parentName:"p"},"1 device"),"."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/6.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Add the sensor's return value to the dashboard."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/7.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Select ",(0,i.yg)("strong",{parentName:"p"},"ADD TO DASHBOARD")," in the popup window."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/8.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Finally, click ",(0,i.yg)("strong",{parentName:"p"},"overview")," in the upper left corner, you will see the mmwave-for-xiao sensor data successfully displayed on the dashboard. So far the mmwave for xiao sensor has been successfully connected to the Home Assistant."),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/mmwave-for-xiao/HA-HiLink/9.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Next, you can get creative with your automation!"),(0,i.yg)("h1",{id:"mmwave-for-xiao-to-home-assistant-via-wifi-using-esphome"},"mmWave for XIAO to Home Assistant via Wifi using ESPHome"),(0,i.yg)("p",null,"The following yaml file connects a Seeed XIAO ESP32S3 Sense with Radar module to Home Assistant, using the ESPHome firmware:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'# Configuration for ESPHome\nesphome:\n  # Name of the ESP32-S3 device\n  name: "seeed-xiao-esp32s3-cam"\n  \n  # PlatformIO build options\n  platformio_options:\n    build_flags: -DBOARD_HAS_PSRAM\n    board_build.arduino.memory_type: qio_opi\n    board_build.f_flash: 80000000L\n    board_build.flash_mode: qio \n\n# Configuration for ESP32 board\nesp32:\n  board: esp32-s3-devkitc-1\n  framework:\n    type: arduino\n\n# Enable logging\nlogger:\n\n# Enable Home Assistant API - use your api and password\napi:\n  encryption:\n    key: ""\n\nota:\n  - platform: esphome\n    password: ""\n\n# Wi-Fi configuration - fill with your data\nwifi:\n  ssid: ""\n  password: ""\n\n  # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: "Xiao-Esp32s3 Fallback Hotspot"\n    password: ""\n\n# Captive portal configuration\ncaptive_portal:\n\n# Configuration for the ESP32 Camera\nesp32_camera:\n  id: espcam\n  name: Xiao Cam\n  external_clock:\n    pin: GPIO10\n    frequency: 20MHz\n  i2c_pins:\n    sda: GPIO40\n    scl: GPIO39\n  data_pins: [GPIO15, GPIO17, GPIO18, GPIO16, GPIO14, GPIO12, GPIO11, GPIO48]\n  vsync_pin: GPIO38\n  href_pin: GPIO47\n  pixel_clock_pin: GPIO13\n  resolution: 800x600\n  \n# Configuration for the ESP32 Camera Web Server\nesp32_camera_web_server:\n  - port: 8080\n    mode: stream\n  - port: 8081\n    mode: snapshot\n\n# Configuration for the 24GHz mmwave XIAO Radar\nld2410:\n  id: ld2410_radar\n  \nuart:\n  tx_pin: GPIO4\n  rx_pin: GPIO3\n  baud_rate: 256000\n  parity: NONE\n  stop_bits: 1\n\nnumber:\n  - platform: ld2410\n    timeout:\n      name: Radar Timeout\n    max_move_distance_gate:\n      name: Radar Max Move Distance\n    max_still_distance_gate:\n      name: Radar Max Still Distance\n    g0:\n      move_threshold:\n        name: g0 move threshold\n      still_threshold:\n        name: g0 still threshold\n    g1:\n      move_threshold:\n        name: g1 move threshold\n      still_threshold:\n        name: g1 still threshold\n    g2:\n      move_threshold:\n        name: g2 move threshold\n      still_threshold:\n        name: g2 still threshold\n    g3:\n      move_threshold:\n        name: g3 move threshold\n      still_threshold:\n        name: g3 still threshold\n    g4:\n      move_threshold:\n        name: g4 move threshold\n      still_threshold:\n        name: g4 still threshold\n    g5:\n      move_threshold:\n        name: g5 move threshold\n      still_threshold:\n        name: g5 still threshold\n    g6:\n      move_threshold:\n        name: g6 move threshold\n      still_threshold:\n        name: g6 still threshold\n    g7:\n      move_threshold:\n        name: g7 move threshold\n      still_threshold:\n        name: g7 still threshold\n    g8:\n      move_threshold:\n        name: g8 move threshold\n      still_threshold:\n        name: g8 still threshold\n\nbinary_sensor:\n  - platform: ld2410\n    has_target:\n      name: Radar Target\n      id: radar_has_target\n    has_moving_target:\n      name: Radar Moving Target\n    has_still_target:\n      name: Radar Still Target\n\nsensor:\n  - platform: ld2410\n    moving_distance:\n      name: Radar Moving Distance\n      id: moving_distance\n    still_distance:\n      name: Radar Still Distance\n      id: still_distance\n    moving_energy:\n      name: Radar Move Energy\n    still_energy:\n      name: Radar Still Energy\n    detection_distance:\n      name: Radar Detection Distance\n      id: radar_detection_distance\n    g0:\n      move_energy:\n        name: g0 move energy\n      still_energy:\n        name: g0 still energy\n    g1:\n      move_energy:\n        name: g1 move energy\n      still_energy:\n        name: g1 still energy\n    g2:\n      move_energy:\n        name: g2 move energy\n      still_energy:\n        name: g2 still energy\n    g3:\n      move_energy:\n        name: g3 move energy\n      still_energy:\n        name: g3 still energy\n    g4:\n      move_energy:\n        name: g4 move energy\n      still_energy:\n        name: g4 still energy\n    g5:\n      move_energy:\n        name: g5 move energy\n      still_energy:\n        name: g5 still energy\n    g6:\n      move_energy:\n        name: g6 move energy\n      still_energy:\n        name: g6 still energy\n    g7:\n      move_energy:\n        name: g7 move energy\n      still_energy:\n        name: g7 still energy\n    g8:\n      move_energy:\n        name: g8 move energy\n      still_energy:\n        name: g8 still energy\n')),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"}))))}c.isMDXComponent=!0}}]);