"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4291],{15680:(e,t,n)=>{n.d(t,{xA:()=>s,yg:()=>c});var l=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},p=Object.keys(e);for(l=0;l<p.length;l++)n=p[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(l=0;l<p.length;l++)n=p[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=l.createContext({}),u=function(e){var t=l.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=u(e.components);return l.createElement(o.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},y=l.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=u(n),y=r,c=d["".concat(o,".").concat(y)]||d[y]||g[y]||p;return n?l.createElement(c,a(a({ref:t},s),{},{components:n})):l.createElement(c,a({ref:t},s))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,a=new Array(p);a[0]=y;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[d]="string"==typeof e?e:r,a[1]=i;for(var u=2;u<p;u++)a[u]=n[u];return l.createElement.apply(null,a)}return l.createElement.apply(null,n)}y.displayName="MDXCreateElement"},6559:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>g,frontMatter:()=>p,metadata:()=>i,toc:()=>u});var l=n(9668),r=(n(96540),n(15680));const p={description:"Seeed Studio XIAO RP2040 \u4e0e NuttX",title:"NuttX",keywords:["xiao"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/cn/xiao-rp2040-with-nuttx",last_update:{date:"11/13/2024",author:"Agnes"}},a="Seeed Studio XIAO RP2040 \u4e0e NuttX (RTOS)",i={unversionedId:"zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_RP2040/CN_XIAO-RP2040-with-NuttX-RTOS",id:"zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_RP2040/CN_XIAO-RP2040-with-NuttX-RTOS",title:"NuttX",description:"Seeed Studio XIAO RP2040 \u4e0e NuttX",source:"@site/docs/zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_RP2040/CN_XIAO-RP2040-with-NuttX-RTOS.md",sourceDirName:"zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_RP2040",slug:"/cn/xiao-rp2040-with-nuttx",permalink:"/cn/xiao-rp2040-with-nuttx",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_RP2040/CN_XIAO-RP2040-with-NuttX-RTOS.md",tags:[],version:"current",lastUpdatedBy:"Agnes",lastUpdatedAt:1731456e3,formattedLastUpdatedAt:"Nov 13, 2024",frontMatter:{description:"Seeed Studio XIAO RP2040 \u4e0e NuttX",title:"NuttX",keywords:["xiao"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/cn/xiao-rp2040-with-nuttx",last_update:{date:"11/13/2024",author:"Agnes"}},sidebar:"CNSidebar",previous:{title:"CircuitPython",permalink:"/cn/XIAO-RP2040-with-CircuitPython"},next:{title:"XIAO RP2040 \u4e0e Zephyr\uff08RTOS\uff09",permalink:"/cn/XIAO-RP2040-Zephyr-RTOS"}},o={},u=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u5de5\u5177\u8bbe\u7f6e",id:"\u5de5\u5177\u8bbe\u7f6e",level:2},{value:"\u5e94\u7528\u7a0b\u5e8f",id:"\u5e94\u7528\u7a0b\u5e8f",level:2},{value:"\u7f16\u7a0b",id:"\u7f16\u7a0b",level:2},{value:"\u5b9e\u8df5\u64cd\u4f5c",id:"\u5b9e\u8df5\u64cd\u4f5c",level:2},{value:"USBNSH",id:"usbnsh",level:3},{value:"GPIO \u9a71\u52a8",id:"gpio-\u9a71\u52a8",level:3},{value:"USERLED",id:"userled",level:3},{value:"WS2812 LED",id:"ws2812-led",level:2},{value:"\u6280\u672f\u652f\u6301\u4e0e\u4ea7\u54c1\u8ba8\u8bba",id:"\u6280\u672f\u652f\u6301\u4e0e\u4ea7\u54c1\u8ba8\u8bba",level:2}],s={toc:u},d="wrapper";function g(e){let{components:t,...n}=e;return(0,r.yg)(d,(0,l.A)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"seeed-studio-xiao-rp2040-\u4e0e-nuttx-rtos"},"Seeed Studio XIAO RP2040 \u4e0e NuttX (RTOS)"),(0,r.yg)("h2",{id:"\u4ecb\u7ecd"},"\u4ecb\u7ecd"),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/"},"NuttX")," \u662f\u4e00\u4e2a\u6210\u719f\u7684\u5b9e\u65f6\u64cd\u4f5c\u7cfb\u7edf\uff08RTOS\uff09\uff0c\u4ee5\u5176\u7b26\u5408\u6807\u51c6\u548c\u5c0f\u5de7\u7684\u4f53\u79ef\u5e7f\u6cdb\u53d7\u5230\u8ba4\u53ef\u3002NuttX \u7684\u4e3b\u8981\u7279\u70b9\u4e4b\u4e00\u662f\u5176\u53ef\u6269\u5c55\u6027\uff0c\u80fd\u591f\u5728\u4ece 8 \u4f4d\u5fae\u63a7\u5236\u5668\u5230 64 \u4f4d\u7cfb\u7edf\u7684\u4e0d\u540c\u73af\u5883\u4e2d\u4f7f\u7528\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u901a\u8fc7\u9075\u5faa POSIX \u548c ANSI \u6807\u51c6\u5b9e\u73b0\uff0c\u4f7f\u4f60\u80fd\u591f\u5728\u4e0d\u540c\u67b6\u6784\u3001\u7cfb\u5217\u548c\u534a\u5bfc\u4f53\u4f9b\u5e94\u5546\u7684\u591a\u79cd\u82af\u7247\u4e0a\u5c1d\u8bd5\u7c7b\u4f3c\u7684 NuttX \u7279\u6027\u3002"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:"{200}",src:"https://files.seeedstudio.com/wiki/XIAO-RP2040/img/NuttX/nuttx.svg"})),(0,r.yg)("p",null,"\u6b64\u5916\uff0cNuttX \u63d0\u4f9b\u4e86\u8bb8\u591a\u5148\u8fdb\u4e14\u5b9e\u7528\u7684\u529f\u80fd\uff0c\u5982 USB\u3001\u4ee5\u592a\u7f51\u3001\u97f3\u9891\u548c\u56fe\u5f62\u5b50\u7cfb\u7edf\u3002\u8fd9\u4e9b\u7279\u70b9\u4f7f NuttX \u6210\u4e3a\u5f00\u53d1\u4eba\u5458\u7684\u7406\u60f3\u9009\u62e9\uff0c\u7279\u522b\u9002\u5408\u90a3\u4e9b\u5e0c\u671b\u5728\u5404\u79cd\u786c\u4ef6\u4e0a\u8fd0\u884c\u7684\u591a\u529f\u80fd\u3001\u7a33\u5065\u7684 RTOS\u3002"),(0,r.yg)("p",null,"NuttX \u652f\u6301\u5927\u91cf\u4e14\u4e0d\u65ad\u6269\u5c55\u7684\u5f00\u53d1\u677f\u3002 ",(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/docs/latest/platforms/"},"\u5b98\u65b9\u6587\u6863")," \u63d0\u4f9b\u4e86\u6309\u67b6\u6784\u548c\u7cfb\u7edf\u82af\u7247\uff08SoC\uff09\u7cfb\u5217\u7ec4\u7ec7\u7684\u53d7\u652f\u6301\u5f00\u53d1\u677f\u7684\u5168\u9762\u5217\u8868\u3002"),(0,r.yg)("p",null,"\u4f8b\u5982\uff0cNuttX \u6587\u6863\u4e2d\u7684 ",(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/docs/latest/platforms/arm/rp2040/boards/seeed-xiao-rp2040/index.html"},"Seeed Studio Xiao RP2040")," \u9875\u9762\u63d0\u4f9b\u4e86\u6709\u5173\u6bcf\u4e2a\u53d7\u652f\u6301\u529f\u80fd\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u5e76\u63d0\u4f9b\u4e86\u5982\u4f55\u4f7f\u7528\u5b83\u4eec\u7684\u8bf4\u660e\u3002"),(0,r.yg)("h2",{id:"\u5de5\u5177\u8bbe\u7f6e"},"\u5de5\u5177\u8bbe\u7f6e"),(0,r.yg)("p",null,"\u5f00\u59cb\u4f7f\u7528 NuttX \u7684\u7b2c\u4e00\u6b65\u662f\u5b89\u88c5\u4e00\u7cfb\u5217\u6240\u9700\u7684\u5de5\u5177\uff0c\u5305\u62ec\u4f60\u5c06\u8981\u4f7f\u7528\u7684\u67b6\u6784\u7684\u5de5\u5177\u94fe\uff0c\u6700\u540e\u4e0b\u8f7d NuttX \u7684\u6e90\u4ee3\u7801\u3002NuttX \u63d0\u4f9b\u4e86\u9488\u5bf9\u4e0d\u540c\u5e73\u53f0\u7684 ",(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/docs/latest/quickstart/install.html"},"\u5b89\u88c5\u6307\u5357")," \u3002"),(0,r.yg)("p",null,"\u5b89\u88c5\u5e76\u8bbe\u7f6e\u73af\u5883\u540e\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"\u4e0b\u8f7d Raspberry Pi Pico SDK:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"git clone -b 1.1.2 https://github.com/raspberrypi/pico-sdk.git\n\n")),(0,r.yg)("ol",{start:3},(0,r.yg)("li",{parentName:"ol"},"\u8bbe\u7f6e PICO_SDK_PATH \u73af\u5883\u53d8\u91cf\uff1a")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"export PICO_SDK_PATH=<absolute_path_to_pico-sdk_directory>\n")),(0,r.yg)("ol",{start:2},(0,r.yg)("li",{parentName:"ol"},"\u521b\u5efa\u5de5\u4f5c\u7a7a\u95f4\uff1a")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"mkdir nuttxspace\n")),(0,r.yg)("ol",{start:3},(0,r.yg)("li",{parentName:"ol"},"\u514b\u9686\u4ed3\u5e93\uff1a")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"cd nuttxspace\ngit clone https://github.com/apache/nuttx.git nuttx\ngit clone https://github.com/apache/nuttx-apps apps\n")),(0,r.yg)("p",null,"Apache Nuttx \u5206\u4e3a\u4e24\u4e2a\u9879\u76ee\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Nuttx: \u5305\u542b\u5b9e\u73b0\u4e86\u5185\u6838\u3001\u9a71\u52a8\u7a0b\u5e8f\u548c\u5b50\u7cfb\u7edf\u3002"),(0,r.yg)("li",{parentName:"ul"},"Apps: \u5305\u542b\u4e00\u7ec4\u5de5\u5177\u3001shell\u3001\u7f51\u7edc\u5b9e\u7528\u7a0b\u5e8f\u3001\u5e93\u548c\u89e3\u91ca\u5668\u3002")),(0,r.yg)("h2",{id:"\u5e94\u7528\u7a0b\u5e8f"},"\u5e94\u7528\u7a0b\u5e8f"),(0,r.yg)("p",null,"\u8981\u542f\u52a8\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u9700\u8981\u5728 NuttX \u4e2d\u52a0\u8f7d\u4e00\u4e2a\u914d\u7f6e\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"./tools/configurate.sh board_name:your_application\n")),(0,r.yg)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u652f\u6301\u7684\u677f\u5b50\u5217\u8868\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"./tools/configurate.sh -L\n")),(0,r.yg)("p",null,"\u6267\u884c\u8be5\u811a\u672c\u540e\uff0cNuttX \u9700\u8981\u8fdb\u884c\u7f16\u8bd1\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/docs/latest/quickstart/compiling_make.html"},"Make")," \u6216 ",(0,r.yg)("a",{parentName:"p",href:"https://nuttx.apache.org/docs/latest/quickstart/compiling_cmake.html"},"CMake"),"\u8fdb\u884c\u7f16\u8bd1\u3002"),(0,r.yg)("h2",{id:"\u7f16\u7a0b"},"\u7f16\u7a0b"),(0,r.yg)("p",null,"\u7f16\u8bd1\u6210\u529f\u540e\uff0c\u63a5\u4e0b\u6765\u7684\u76ee\u6807\u662f\u4f7f\u7528 BOOTSEL \u7f16\u7a0b\u3002\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6b65\u9aa4 1"),": \u5728\u6309\u4f4f ",(0,r.yg)("inlineCode",{parentName:"p"},"B")," \u7684\u540c\u65f6\uff0c\u5c06 Seeed Studio XIAO RP2040 \u8fde\u63a5\u5230 USB \u7aef\u53e3\u3002\u6b64\u65f6\u5f00\u53d1\u677f\u5c06\u88ab\u8bc6\u522b\u4e3a USB \u5927\u5bb9\u91cf\u5b58\u50a8\u8bbe\u5907 ",(0,r.yg)("inlineCode",{parentName:"p"},"RPI-RP2"),"\u3002"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6b65\u9aa4 2"),": \u5728\u5de5\u4f5c\u7a7a\u95f4\u4e2d\uff0c\u8fdb\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"nuttx")," \u6587\u4ef6\u5939\uff0c\u5e76\u5c06 ",(0,r.yg)("inlineCode",{parentName:"p"},"nuttx.uf2")," \u6587\u4ef6\u590d\u5236\u5230 Seeed Studio XIAO RP2040 \u4e2d\u3002"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6b65\u9aa4 3"),": \u5728\u8ba1\u7b97\u673a\u4e0a\u67e5\u627e\u65b0\u7684 USB \u8bbe\u5907\u3002"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6b65\u9aa4 4"),": \u6253\u5f00\u4e0e Seeed Studio XIAO RP2040 \u7684\u4e32\u884c\u901a\u4fe1\u3002"),(0,r.yg)("h2",{id:"\u5b9e\u8df5\u64cd\u4f5c"},"\u5b9e\u8df5\u64cd\u4f5c"),(0,r.yg)("p",null,"\u73b0\u5728\u662f\u65f6\u5019\u5b9e\u9645\u64cd\u4f5c NuttX \u4e86\u3002\u5728\u672c\u6b21\u5b9e\u8df5\u4e2d\uff0c\u63d0\u4f9b\u4e86\u56db\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff1aUSB NSH\u3001GPIO\u3001USERLEDS \u548c WS2812 \u9a71\u52a8\u3002"),(0,r.yg)("h3",{id:"usbnsh"},"USBNSH"),(0,r.yg)("p",null,"NuttXShell (NSH) \u662f NuttX \u4e2d\u7684\u4e00\u4e2a shell \u7cfb\u7edf\uff0c\u7c7b\u4f3c\u4e8e bash \u548c\u5176\u4ed6\u7c7b\u4f3c\u7684\u9009\u9879\u3002\u5b83\u652f\u6301\u4e30\u5bcc\u7684\u547d\u4ee4\u96c6\u3001\u811a\u672c\u548c\u8fd0\u884c\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u4f5c\u4e3a\u201c\u5185\u5efa\u201d\uff08\u5373\u4f5c\u4e3a\u540c\u4e00 NuttX \u4e8c\u8fdb\u5236\u7684\u4e00\u90e8\u5206\uff09\u3002"),(0,r.yg)("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6e05\u9664\u5148\u524d\u7684\u914d\u7f6e\u6765\u5f00\u59cb\u6784\u5efa\u8fc7\u7a0b\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ cd ~/nuttxspace/nuttx\n$ make distclean\n")),(0,r.yg)("p",null,"\u63a5\u4e0b\u6765\uff0c\u9009\u62e9 USBNSH \u914d\u7f6e\uff0c\u9002\u7528\u4e8e seeed-xiao-rp2040 \u5f00\u53d1\u677f\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ./tools/configurate.sh seeed-xiao-rp2040:usbnsh\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u6e90\u4ee3\u7801\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$  make -j\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u8fdb\u884c\u7f16\u7a0b\u5e76\u6253\u5f00\u4e32\u884c\u901a\u4fe1\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"picocom -b 115200 /dev/ttyACM0\n")),(0,r.yg)("p",null,"\u4f60\u9700\u8981\u6309 Enter \u952e\u4e09\u6b21\uff0c\u7136\u540e\u7ec8\u7aef\u4e2d\u5c06\u663e\u793a\u4ee5\u4e0b\u4fe1\u606f\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"NuttShell (NSH) NuttX-12.5.1\nnsh> \n")),(0,r.yg)("p",null,"\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"?"),"\uff0c\u4f60\u5c06\u770b\u5230\u53ef\u7528\u7684\u547d\u4ee4\u548c\u5185\u5efa\u5e94\u7528\u7a0b\u5e8f\u5217\u8868\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> ?\nhelp usage: [-v] [<cmd>]\n\n    .           cp          exec        ls          reboot      truncate    \n    [           cmp         exit        mkdir       rm          uname       \n    ?           dirname     expr        mkrd        rmdir       umount      \n    alias       date        false       mount       set         unset       \n    unalias     dd          fdinfo      mv          sleep       uptime      \n    basename    df          free        pidof       source      usleep      \n    break       dmesg       help        printf      test        xd          \n    cat         echo        hexdump     ps          time        \n    cd          env         kill        pwd         true        \n\nBuiltin Apps:\n    getprime    hello       nsh         ostest      sh \n")),(0,r.yg)("p",null,"\u8ba9\u6211\u4eec\u7528 ",(0,r.yg)("inlineCode",{parentName:"p"},"hello")," \u5411 NuttX \u6253\u4e2a\u62db\u547c\uff0c\u7136\u540e\u6267\u884c\u8be5\u547d\u4ee4\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> hello\nHello, World!!\n")),(0,r.yg)("p",null,"\u606d\u559c\u4f60\uff0c\u5b8c\u6210\u4e86\u4e0e NuttX \u7684\u7b2c\u4e00\u6b21\u4e92\u52a8\u3002"),(0,r.yg)("h3",{id:"gpio-\u9a71\u52a8"},"GPIO \u9a71\u52a8"),(0,r.yg)("p",null,"\u901a\u7528\u8f93\u5165\u8f93\u51fa\uff08GPIO\uff09\u662f\u5fae\u63a7\u5236\u5668\u6700\u57fa\u672c\u7684\u90e8\u5206\uff0c\u4f7f\u5176\u80fd\u591f\u4e0e\u5916\u90e8\u4e16\u754c\u8fde\u63a5\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 NSH \u6765\u8bbf\u95ee\u548c\u914d\u7f6e\u8fd9\u4e9b\u5f15\u811a\u3002\u7136\u800c\uff0c\u5728\u6b64\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u6e05\u9664\u4e4b\u524d\u7684\u914d\u7f6e\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ cd ~/nuttxspace/nuttx\n$ make distclean\n")),(0,r.yg)("p",null,"\u9009\u62e9\u9002\u7528\u4e8e seeed-xiao-rp2040 \u5f00\u53d1\u677f\u7684 GPIO \u914d\u7f6e\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ./tools/configurate.sh seeed-xiao-rp2040:gpio\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u6e90\u4ee3\u7801\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$  make -j\n")),(0,r.yg)("p",null,"\u7f16\u7a0b\u540e\u5e76\u6253\u5f00\u4e32\u884c\u901a\u4fe1\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"picocom -b 115200 /dev/ttyACM0\n")),(0,r.yg)("p",null,"\u4f60\u9700\u8981\u6309 Enter \u952e\u4e09\u6b21\uff0c\u7136\u540e\u7ec8\u7aef\u5c06\u663e\u793a\u4ee5\u4e0b\u4fe1\u606f\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"NuttShell (NSH) NuttX-12.5.1\nnsh>\n")),(0,r.yg)("p",null,"\u8981\u67e5\u770b\u53ef\u4e0e\u6b64\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e92\u7684\u9009\u9879\uff0c\u8bf7\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"gpio -h"),"\uff0c\u5b83\u5c06\u8fd4\u56de\u4e00\u4e2a\u53c2\u6570\u5217\u8868\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"NuttShell (NSH) NuttX-12.5.1\nnsh> gpio -h\nUSAGE: gpio [-t <pintype>] [-w <signo>] [-o <value>] <driver-path>\n       gpio -h\nWhere:\n <driver-path>: The full path to the GPIO pin driver.\n -t <pintype>:  Change the pin to this pintype (0-10):\n -w <signo>:    Wait for a signal if this is an interrupt pin.\n -o <value>:    Write this value (0 or 1) if this is an output pin.\nmation and exit.\nPintypes:\n  0: GPIO_INPUT_PIN\n  1: GPIO_INPUT_PIN_PULLUP\nIO_INPUT_PIN_PULLDOWN\n  3: GPIO_OUTPUT_PIN\n  4: GPIO_OUTPUT_PIN_OPENDRAIN\n  5: GPIO_INTERRUPT_PIN\n  6: GPIO_INTERRUPT_HIGH_PIN\n  7: GPIO_INTERRUPT_LOW_PIN\n  8: GPIO_INTERRUPT_RISING_PIN\n  9: GPIO_INTERRUPT_FALLING_PIN\n 10: GPIO_INTERRUPT_BOTH_PIN\n")),(0,r.yg)("p",null,"\u8981\u786e\u8ba4 GPIO \u8bbe\u5907\u6587\u4ef6\u662f\u5426\u5df2\u521b\u5efa\uff0c\u53ef\u4ee5\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"ls /dev"),"\u3002\u6267\u884c\u540e\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e9b\u5df2\u5728 ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/nuttx/blob/9d5b9b7c056e59c2fcc81e7029c95a995140063c/boards/arm/rp2040/seeed-xiao-rp2040/src/rp2040_gpio.c#L49-L61"},"seed-studio-gpio.c"),"\u4e2d\u5b9a\u4e49\u7684 GPIO\uff0c\u5b83\u4eec\u5206\u522b\u4ee3\u8868\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"3 \u4e2a\u677f\u8f7d LED\uff08gpio 18\u3001gpio 17 \u548c gpio 16\uff09\u3002"),(0,r.yg)("li",{parentName:"ul"},"1 \u4e2a\u8f93\u5165\uff08gpio 6\uff09"),(0,r.yg)("li",{parentName:"ul"},"1 \u4e2a\u4e2d\u65ad\u8f93\u5165\uff08gpio 7\uff09")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> ls /dev\n/dev:\n console\n gpio16\n gpio17\n gpio18\n gpio6\n gpio7\n null\n ttyACM0\n")),(0,r.yg)("p",null,"\u6839\u636e Seeed Studio RP2040 \u7684\u539f\u7406\u56fe\uff0c\u5f53 GPIO \u7535\u5e73\u8bbe\u7f6e\u4e3a\u96f6\u65f6\uff0c\u5f00\u53d1\u677f\u7684 LED \u4f1a\u4eae\u8d77\u3002"),(0,r.yg)("p",null,"\u8981\u63a7\u5236 GPIO \u8f93\u51fa\uff0c\u4f60\u5fc5\u987b\u4f20\u9012\u53c2\u6570 -o\uff0c\u503c\u4e3a 0 \u6216 1\uff0c\u5e76\u6307\u5b9a\u8def\u5f84\uff08/dev/gpio\uff09\u3002"),(0,r.yg)("p",null,"\u6267\u884c\u4ee5\u4e0b\u4e24\u4e2a\u547d\u4ee4\uff0c\u4f60\u4f1a\u770b\u5230\u9ec4\u8272 LED \u95ea\u70c1\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> gpio -o 0 /dev/gpio17\nDriver: /dev/gpio17\n  Output pin:    Value=1\n  Writing:       Value=0\n  Verify:        Value=0\n\nnsh> gpio -o 1 /dev/gpio17\nDriver: /dev/gpio17\n  Output pin:    Value=1\n  Writing:       Value=1\n  Verify:        Value=1\n")),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:"{50}",src:"https://files.seeedstudio.com/wiki/XIAO-RP2040/img/NuttX/seeed-studio-rp2040-gpio-turn-on-led-green.jpg"})),(0,r.yg)("p",null,"\u540c\u6837\u7684\u65b9\u5f0f\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u7ea2\u8272 LED \u8fdb\u884c\u76f8\u540c\u7684\u64cd\u4f5c\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> gpio -o 0 /dev/gpio16\nDriver: /dev/gpio16\n  Output pin:    Value=1\n  Writing:       Value=0\n  Verify:        Value=0\n\nnsh> gpio -o 1 /dev/gpio16\nDriver: /dev/gpio16\n  Output pin:    Value=1\n  Writing:       Value=1\n  Verify:        Value=1\n")),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:"{50}",src:"https://files.seeedstudio.com/wiki/XIAO-RP2040/img/NuttX/seeed-studio-rp2040-gpio-turn-on-led-red.jpg"})),(0,r.yg)("h3",{id:"userled"},"USERLED"),(0,r.yg)("p",null,"USERLED \u662f\u4e00\u4e2a\u5b50\u7cfb\u7edf\uff0c\u5141\u8bb8\u901a\u8fc7\u5355\u4e00\u64cd\u4f5c\u6765\u63a7\u5236 LED\u3002\u4f60\u8fd8\u53ef\u4ee5\u50cf\u4f7f\u7528 printf \u4e00\u6837\u4f7f\u7528\u547d\u4ee4\u884c\u3002\u5728\u8fd9\u4e2a\u6f14\u793a\u4e2d\uff0c\u6211\u4eec\u5c06\u6bcf\u9694 1 \u79d2\u949f\u6253\u5f00\u548c\u5173\u95ed\u677f\u8f7d LED\u3002"),(0,r.yg)("p",null,"\u9996\u5148\uff0c\u6e05\u9664\u4e4b\u524d\u7684\u914d\u7f6e\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ cd ~/nuttxspace/nuttx\n$ make distclean\n")),(0,r.yg)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e3a\u7528\u6237 LED \u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u5f00\u53d1\u677f\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ./tools/configurate.sh seeed-xiao-rp2040:userleds\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u6e90\u4ee3\u7801\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$  make -j\n")),(0,r.yg)("p",null,"\u7f16\u7a0b\u540e\uff0c\u6253\u5f00\u4e32\u884c\u901a\u4fe1\u5e76\u6309 Enter \u952e\u4e09\u6b21\uff0c\u9075\u5faa\u4e4b\u524d\u5e94\u7528\u7a0b\u5e8f\u4e2d\u663e\u793a\u7684\u76f8\u540c\u6b65\u9aa4\u3002"),(0,r.yg)("p",null,"\u5982\u679c\u8f93\u5165\uff1a",(0,r.yg)("inlineCode",{parentName:"p"},"ls /dev/"),"\uff0c\u5c06\u663e\u793a\u8bbe\u5907\u5217\u8868\uff0c\u89c2\u5bdf\u5230 ",(0,r.yg)("inlineCode",{parentName:"p"},"userleds")," \u6587\u4ef6\u5df2\u88ab\u521b\u5efa\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> ls /dev/\n/dev:\n console\n userleds\n null\n ttyACM0\n ttyS0\n")),(0,r.yg)("p",null,"\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"leds"),"\uff0c\u4f60\u4f1a\u770b\u5230 LED \u540c\u65f6\u5f00\u59cb\u95ea\u70c1\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"NuttShell (NSH) NuttX-12.5.1\nnsh> leds\nleds_main: Starting the led_daemon\nleds_main: led_daemon started\n\nled_daemon (pid # 3): Running\nled_daemon: Opening /dev/userled\nled_daemon: Supported LEDs 0x07\nled_daemon: LED set 0x01\nled_daemon: LED set 0x00\nled_daemon: LED set 0x01\nled_daemon: LED set 0x00\n")),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO-RP2040/img/NuttX/seeed-studio-userleds.gif",style:{width:300,height:"auto"}})),(0,r.yg)("h2",{id:"ws2812-led"},"WS2812 LED"),(0,r.yg)("p",null,"WS2812 \u9a71\u52a8\u7a0b\u5e8f\u5141\u8bb8\u63a7\u5236\u4efb\u4f55\u4f7f\u7528 ws2812 \u534f\u8bae\u7684\u667a\u80fd\u50cf\u7d20\u3002\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7 NSH \u63d0\u4f9b\u4e00\u4e2a\u547d\u4ee4\u6765\u6267\u884c\u793a\u4f8b\u3002"),(0,r.yg)("p",null,"\u9996\u5148\uff0c\u6e05\u9664\u4e4b\u524d\u7684\u914d\u7f6e\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ cd ~/nuttxspace/nuttx\n$ make distclean\n")),(0,r.yg)("p",null,"\u9009\u62e9\u9002\u7528\u4e8e seeed-xiao-rp2040 \u5f00\u53d1\u677f\u7684 ws2812 \u914d\u7f6e\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ./tools/configurate.sh seeed-xiao-rp2040:ws2812\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u6e90\u4ee3\u7801\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$  make -j\n")),(0,r.yg)("p",null,"\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u7f16\u7a0b\u5f00\u53d1\u677f\uff0c\u6253\u5f00\u4e32\u884c\u901a\u4fe1\u5e76\u6309 Enter \u952e\u4e09\u6b21\uff0c\u9075\u5faa\u4e4b\u524d\u5e94\u7528\u7a0b\u5e8f\u4e2d\u663e\u793a\u7684\u76f8\u540c\u6b65\u9aa4\u3002\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"?"),"\uff0c\u53ef\u4ee5\u770b\u5230 ws2812 \u5e94\u7528\u7a0b\u5e8f\u53ef\u7528\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"NuttShell (NSH) NuttX-12.5.1\nnsh> ?\nhelp usage:  help [-v] [<cmd>]\n\n    .           cp          exit        mkdir       rm          uname       \n    [           cmp         expr        mkrd        rmdir       umount      \n    ?           dirname     false       mount       set         unset       \n    alias       dd          fdinfo      mv          sleep       uptime      \n    unalias     df          free        pidof       source      usleep      \n    basename    dmesg       help        printf      test        xd          \n    break       echo        hexdump     ps          time        \n    cat         env         kill        pwd         true        \n    cd          exec        ls          reboot      truncate    \n\nBuiltin Apps:\n    getprime    hello       nsh         ostest      sh          ws2812      \nnsh> \n\n")),(0,r.yg)("p",null,"\u5728\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\uff0c\u91cd\u8981\u7684\u662f\u8981\u786e\u8ba4\u6587\u4ef6\u5939 ",(0,r.yg)("inlineCode",{parentName:"p"},"ls /dev/")," \u4e2d\u5df2\u521b\u5efa ",(0,r.yg)("inlineCode",{parentName:"p"},"leds0")," \u6587\u4ef6\uff0c\u8fd9\u5c06\u7528\u4e8e ws2812 \u9a71\u52a8\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> ls /dev/\n/dev:\n console\n leds0\n null\n ttyACM0\n ttyS0\n\n")),(0,r.yg)("p",null,"\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"ws2812 -h")," \u5c06\u8fd4\u56de\u4e00\u5217\u8868\u683c\uff0c\u663e\u793a\u53ef\u4e0e\u6b64\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e92\u7684\u53c2\u6570\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'nsh> ws2812 -h\nUsage: ws2812 [OPTIONS]\n\nArguments are "sticky".  For example, once the device path is\nspecified, that path will be re-used until it is changed.\n  [-p path] selects the ws2812 device.  Default: /dev/leds0 Current: /dev/leds0\n  [-l leds] selects number of ws2812s in the chain.  Default: 1 Current: 1\n  [-r repeat] selects the number change cycles.  Default: 4 Current: 4\n  [-d delay] selects delay between updates.  Default: 20000 us Current: 20000 us\n\n')),(0,r.yg)("p",null,"\u8ba9\u6211\u4eec\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\uff0c\u8f93\u5165 ",(0,r.yg)("inlineCode",{parentName:"p"},"ws2812"),"\uff0c\u4f60\u5c06\u770b\u5230 LED \u989c\u8272\u53d8\u5316\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"nsh> ws2812\n")),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO-RP2040/img/NuttX/seeed-studio-rp2040-rgb.gif",style:{width:400,height:"auto"}})),(0,r.yg)("h2",{id:"\u6280\u672f\u652f\u6301\u4e0e\u4ea7\u54c1\u8ba8\u8bba"},"\u6280\u672f\u652f\u6301\u4e0e\u4ea7\u54c1\u8ba8\u8bba"),(0,r.yg)("p",null,"\u611f\u8c22\u60a8\u9009\u62e9\u6211\u4eec\u7684\u4ea7\u54c1\uff01\u6211\u4eec\u63d0\u4f9b\u4e0d\u540c\u7684\u652f\u6301\u6e20\u9053\uff0c\u786e\u4fdd\u60a8\u7684\u4ea7\u54c1\u4f53\u9a8c\u5c3d\u53ef\u80fd\u987a\u7545\u3002\u6211\u4eec\u63d0\u4f9b\u591a\u4e2a\u6c9f\u901a\u6e20\u9053\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u7684\u504f\u597d\u548c\u9700\u6c42\u3002"),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,r.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,r.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}g.isMDXComponent=!0}}]);