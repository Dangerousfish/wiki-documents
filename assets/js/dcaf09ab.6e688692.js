"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[84333],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>h});var o=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=o.createContext({}),d=function(e){var t=o.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},g=function(e){var t=d(e.components);return o.createElement(r.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),p=d(n),m=i,h=p["".concat(r,".").concat(m)]||p[m]||c[m]||a;return n?o.createElement(h,s(s({ref:t},g),{},{components:n})):o.createElement(h,s({ref:t},g))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=m;var l={};for(var r in t)hasOwnProperty.call(t,r)&&(l[r]=t[r]);l.originalType=e,l[p]="string"==typeof e?e:i,s[1]=l;for(var d=2;d<a;d++)s[d]=n[d];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},72918:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=n(9668),i=(n(96540),n(15680));const a={title:"Relay Add On Module For XIAO",description:"The Relay Add On Module For XIAO is a smart module from Seeed Studio designed to control AC-powered appliances.",image:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/relay_module.webp",slug:"/relay_add_on_module_for_xiao",keywords:["XIAO","Home Assistant","AC Relay","Smart Home"],sidebar_position:2,last_update:{author:"Allen",date:"12/02/2024"}},s=void 0,l={unversionedId:"Sensor/SeeedStudio_XIAO_Gadgets/Relay_add_on_module_for_xiao",id:"Sensor/SeeedStudio_XIAO_Gadgets/Relay_add_on_module_for_xiao",title:"Relay Add On Module For XIAO",description:"The Relay Add On Module For XIAO is a smart module from Seeed Studio designed to control AC-powered appliances.",source:"@site/docs/Sensor/SeeedStudio_XIAO_Gadgets/Relay_add_on_module_for_xiao.md",sourceDirName:"Sensor/SeeedStudio_XIAO_Gadgets",slug:"/relay_add_on_module_for_xiao",permalink:"/relay_add_on_module_for_xiao",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SeeedStudio_XIAO_Gadgets/Relay_add_on_module_for_xiao.md",tags:[],version:"current",lastUpdatedBy:"Allen",lastUpdatedAt:1733097600,formattedLastUpdatedAt:"Dec 2, 2024",sidebarPosition:2,frontMatter:{title:"Relay Add On Module For XIAO",description:"The Relay Add On Module For XIAO is a smart module from Seeed Studio designed to control AC-powered appliances.",image:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/relay_module.webp",slug:"/relay_add_on_module_for_xiao",keywords:["XIAO","Home Assistant","AC Relay","Smart Home"],sidebar_position:2,last_update:{author:"Allen",date:"12/02/2024"}},sidebar:"ProductSidebar",previous:{title:"2-Channel Wi-Fi AC Relay Module In Home Assistant",permalink:"/2_channel_wifi_ac_relay"},next:{title:"Wio Terminal Guide",permalink:"/Wio_Terminal_Intro"}},r={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Features and Specifications",id:"key-features-and-specifications",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Select your Home Assistant environment",id:"select-your-home-assistant-environment",level:2},{value:"Install ESPHome in Home Assistant",id:"install-esphome-in-home-assistant",level:2},{value:"Step 1. Install ESPHome",id:"step-1-install-esphome",level:3},{value:"Configure the XIAO ESP32C3 and ESPHome connection",id:"configure-the-xiao-esp32c3-and-esphome-connection",level:2},{value:"Step 2. Hardware connection",id:"step-2-hardware-connection",level:3},{value:"Step 3. Keep the XIAO ESP32C3 and Home Assistant on the same LAN",id:"step-3-keep-the-xiao-esp32c3-and-home-assistant-on-the-same-lan",level:3},{value:"Step 4. Change the XIAO ESP32C3 configuration yaml file",id:"step-4-change-the-xiao-esp32c3-configuration-yaml-file",level:3},{value:"Step 5. Upload firmware to XIAO ESP32C3",id:"step-5-upload-firmware-to-xiao-esp32c3",level:3},{value:"Add Relay Module to Home Assistant Dashboard",id:"add-relay-module-to-home-assistant-dashboard",level:2},{value:"Step 6. Add relay to dashboard",id:"step-6-add-relay-to-dashboard",level:3},{value:"Step 7. Use relay module to control a table lamp",id:"step-7-use-relay-module-to-control-a-table-lamp",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],g={toc:d},p="wrapper";function c(e){let{components:t,...n}=e;return(0,i.yg)(p,(0,o.A)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/relay_module.jpg"})),(0,i.yg)("h2",{id:"overview"},"Overview"),(0,i.yg)("p",null,"The Relay Add On Module For XIAO is a smart module from Seeed Studio designed to control AC-powered appliances. It is characterized by the combination of XIAO, through the ESPHome access Home Assistant to control a variety of appliances, so that your home smarter!"),(0,i.yg)("h3",{id:"key-features-and-specifications"},"Key Features and Specifications"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,i.yg)("th",{parentName:"tr",align:null},"Value"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Operating Voltage"),(0,i.yg)("td",{parentName:"tr",align:null},"5V")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Operating Current"),(0,i.yg)("td",{parentName:"tr",align:null},"1A")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Relay Life"),(0,i.yg)("td",{parentName:"tr",align:null},"100,000 Cycle")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Max Switching Voltage"),(0,i.yg)("td",{parentName:"tr",align:null},"250VAC")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Max Switching Current"),(0,i.yg)("td",{parentName:"tr",align:null},"10A")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Electrical endurance"),(0,i.yg)("td",{parentName:"tr",align:null},"1.5x10^4 OPS (10A 250VAC, Resistive load, at 85\xb0C, 1s on 9s off)")))),(0,i.yg)("p",null,"For more information, ",(0,i.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/relay_module.pdf"},"click here to download PDF file"),"."),(0,i.yg)("h2",{id:"getting-started"},"Getting Started"),(0,i.yg)("p",null,"If you want to follow this tutorial through everything, you will need to prepare the following. Except for XIAO ESP32 C3, you can also use other ESP32 series products, like XIAO ESP32 C6 and XIAO ESP32 S3. The ultimate goal of this project is to control relay module in the Home Assistant."),(0,i.yg)("table",{align:"center"},(0,i.yg)("tr",null,(0,i.yg)("th",null,"XIAO ESP32C3"),(0,i.yg)("th",null,"Relay Module")),(0,i.yg)("tr",null,(0,i.yg)("td",{align:"center"},(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:"130",src:"https://files.seeedstudio.com/wiki/XIAO_WiFi/board-pic.png"}))),(0,i.yg)("td",{align:"center"},(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:"260",src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/13.jpg"})))),(0,i.yg)("tr",null,(0,i.yg)("td",{align:"center"},(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeed-XIAO-ESP32C3-p-5431.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,i.yg)("td",{align:"center"},(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeed-XIAO-ESP32C3-p-5431.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))))),(0,i.yg)("p",null,"The content of this tutorial will broadly go through the following steps."),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"#select-your-home-assistant-environment"},"Select your Home Assistant environment")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"#install-and-configure-esphome-in-home-assistant"},"Install and cofigure ESPHome in Home Assistant")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"#configure-the-xiao-esp32c3-and-esphome-connection"},"Configure the XIAO ESP32C3 and ESPHome connection")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"#add-relay-module-to-home-assistant-dashboard"},"Add Relay Module to Home Assistant Dashboard"))),(0,i.yg)("h2",{id:"select-your-home-assistant-environment"},"Select your Home Assistant environment"),(0,i.yg)("p",null,"In this routine, we will not expand on how to install the Home Assistant environment, we will assume that you already have a working Home Assistant device."),(0,i.yg)("p",null,"If you wish to learn how to install Home Assistant, then you can refer to the ",(0,i.yg)("a",{parentName:"p",href:"https://www.home-assistant.io/installation/"},"official tutorial"),". We strongly recommend that you install Home Assistant using an x86 device as this is the most user friendly way for you to install Home Assistant with Supervised."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/77.png"})),(0,i.yg)("p",null,"According to the table above, it is most appropriate to install ",(0,i.yg)("strong",{parentName:"p"},"Home Assistant OS")," and ",(0,i.yg)("strong",{parentName:"p"},"Home Assistant Supervised"),", which will take a lot of hassle off your hands. If you are running Home Assistant on Docker with OpenWRT (e.g. using LinkStar H68K), please don't worry, we will also provide you with a detailed reference on how to do this."),(0,i.yg)("p",null,"We have also written how to install Home Assistant for some of Seeed Studio products, please refer to them."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/ODYSSEY-X86-Home-Assistant/"},"Getting Started with Home Assistant on ODYSSEY-X86")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/reTerminal_Home_Assistant/"},"Getting Started with Home Assistant on reTerminal")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/h68k-ha-esphome/"},"Getting Started with Home Assistant on LinkStar H68K/reRouter CM4"))),(0,i.yg)("h2",{id:"install-esphome-in-home-assistant"},"Install ESPHome in Home Assistant"),(0,i.yg)("h3",{id:"step-1-install-esphome"},"Step 1. Install ESPHome"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Scenario 1: ESPHome installation under Home Assistant OS (with Add-on Store)"))),(0,i.yg)("p",null,"If you have the Home Assistant OS installed, it has an Add-on Store, which makes it much easier to install ESPHome."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/79.png"})),(0,i.yg)("p",null,"In the Add-on Store, you can search for and install ESPHome."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/80.png"})),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Scenario 2: ESPHome installed under Home Assistant under OpenWRT Docker/Docker (without Add-on Store)"))),(0,i.yg)("p",null,"As we are installing the Home Assistant Container, we cannot simply download the ESPHome service via the Add-on Store, so a compromise is needed."),(0,i.yg)("p",null,"We need to download the ESPHome image."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"esphome/esphome:latest\n")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/17.png"})),(0,i.yg)("p",null,"On the page where the container is created, we need to make some simple settings."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Container Name: your container name"),(0,i.yg)("li",{parentName:"ul"},"Docker Image: choose just downloaded ",(0,i.yg)("strong",{parentName:"li"},"esphome")," image"),(0,i.yg)("li",{parentName:"ul"},"Network: choose ",(0,i.yg)("strong",{parentName:"li"},"host")," mode"),(0,i.yg)("li",{parentName:"ul"},"Environment Variables(-e): your environment variable")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/18.png"})),(0,i.yg)("p",null,"Once you have filled in the above, save and apply. You will see that the Container has been created. You also need to start it."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/19.png"})),(0,i.yg)("p",null,"In order to achieve the same effect as downloading ESPHome in Home Assistant, we need to modify the configuration file under Home Assistant."),(0,i.yg)("p",null,"Go to the Home Assistant Container."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/55.png"})),(0,i.yg)("p",null,"We go to the terminal in Home Assistant."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/56.png"})),(0,i.yg)("p",null,"Enter the following command in the terminal."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-sh"},"vi configuration.yaml\n")),(0,i.yg)("p",null,"Add following content to the end of ",(0,i.yg)("inlineCode",{parentName:"p"},"configuration.yaml"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'# Example configuration.yaml entry\npanel_iframe:\n  esphome:\n    title: "ESPHome"\n    url: "http://192.168.100.1:6052"\n    icon: mdi:chip\n')),(0,i.yg)("p",null,"Exit the docker container by type ",(0,i.yg)("inlineCode",{parentName:"p"},"exit")," in the Home Assistant Container shell. Once this is done, we restart the Home Assistant  container."),(0,i.yg)("p",null,"Create a new browser page, enter address ",(0,i.yg)("inlineCode",{parentName:"p"},"http://homeassistant:8123/")," and enter your Home Assistant account and you will see ESPHome appear in the toolbar on the left."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/57.png"})),(0,i.yg)("h2",{id:"configure-the-xiao-esp32c3-and-esphome-connection"},"Configure the XIAO ESP32C3 and ESPHome connection"),(0,i.yg)("h3",{id:"step-2-hardware-connection"},"Step 2. Hardware connection"),(0,i.yg)("p",null,"The goal of our tutorial is to control Relay Module in the Home Assistant dashboard. First we need to connect XIAO ESP32 C3 to the Relay Module like the following image."),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"Antenna of XIAO is necessary, otherwise you cann't communicate to Home Assistant. Remember to install it.")),(0,i.yg)("h3",{id:"step-3-keep-the-xiao-esp32c3-and-home-assistant-on-the-same-lan"},"Step 3. Keep the XIAO ESP32C3 and Home Assistant on the same LAN"),(0,i.yg)("p",null,"I am sure that your Home Assistant has already done the work of getting into the network, for example by connecting to your device via a network cable. All you need to do then is simply to turn on a local network (e.g. WiFi) so that the XIAO ESP32C3 can also connect to this network."),(0,i.yg)("p",null,"I will use the LinkStar H68K as an example below. My aim is to get the XIAO connected to the LinkStar H68K's hotspot."),(0,i.yg)("p",null,"In the ",(0,i.yg)("strong",{parentName:"p"},"Network")," tab in OpenWRT, select ",(0,i.yg)("strong",{parentName:"p"},"Wireless")," --\x3e ",(0,i.yg)("strong",{parentName:"p"},"ADD"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/58.png"})),(0,i.yg)("p",null,"For ",(0,i.yg)("strong",{parentName:"p"},"Transmit Power")," in ",(0,i.yg)("strong",{parentName:"p"},"Device Configuration"),", select ",(0,i.yg)("strong",{parentName:"p"},"auto"),"."),(0,i.yg)("p",null,"For the ",(0,i.yg)("strong",{parentName:"p"},"Interface Configuration")," settings, please fill in the following instructions."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"General Setup",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Mode: Depends on how LinkStar accesses the internet. If you are using a cable connection then select ",(0,i.yg)("strong",{parentName:"li"},"Client"),", if you are connected to WiFi then select ",(0,i.yg)("strong",{parentName:"li"},"Access Point"),"."),(0,i.yg)("li",{parentName:"ul"},"ESSID: Enter the name of your WiFi, please try not to have spaces or special characters."),(0,i.yg)("li",{parentName:"ul"},"Network: check ",(0,i.yg)("strong",{parentName:"li"},"lan"),".")))),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/23.png"})),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Wireless Security",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Encryption: WPA2-PSK"),(0,i.yg)("li",{parentName:"ul"},"Key: Enter the WiFi password you wish to set.")))),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/24.png"})),(0,i.yg)("p",null,"Once you have filled in the above information, click ",(0,i.yg)("strong",{parentName:"p"},"Save and Apply")," in the bottom right hand corner and wait a few moments for LinkStar to open a hotspot."),(0,i.yg)("p",null,"When no device is connected to this hotspot, it will be displayed as no signal."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/60.png"})),(0,i.yg)("p",null,"All things considered, let's return to the Home Assistant page."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/61.png"})),(0,i.yg)("p",null,"Click on the ",(0,i.yg)("strong",{parentName:"p"},"NEW DEVICE"),". Then click on ",(0,i.yg)("strong",{parentName:"p"},"Continue"),"."),(0,i.yg)("p",null,"Under the new pop-up window, please enter the name of the application you wish to set up, as well as the name and password of the hotspot you have set up in LinkStar (Or your own WiFi). Make sure that the XIAO ESP32C3 and Home Assistant on the ",(0,i.yg)("strong",{parentName:"p"},"same LAN"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/25.png"})),(0,i.yg)("p",null,"Then click ",(0,i.yg)("strong",{parentName:"p"},"Next"),"."),(0,i.yg)("p",null,"In the device type, please select ",(0,i.yg)("strong",{parentName:"p"},"ESP32-C3"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/26.png"})),(0,i.yg)("p",null,"Then click ",(0,i.yg)("strong",{parentName:"p"},"Next"),"."),(0,i.yg)("span",{id:"jump1"},"Click on the ",(0,i.yg)("strong",null,"Encryption key")," and save it in a secure location, we will use this key in a later step."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/27.png"})),(0,i.yg)("p",null,"Then click ",(0,i.yg)("strong",{parentName:"p"},"SKIP"),"."),(0,i.yg)("h3",{id:"step-4-change-the-xiao-esp32c3-configuration-yaml-file"},"Step 4. Change the XIAO ESP32C3 configuration yaml file"),(0,i.yg)("p",null,"Then, we click on the device tab we just created, with the ",(0,i.yg)("strong",{parentName:"p"},"EDIT")," button in the bottom left corner."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/28.png"})),(0,i.yg)("p",null,"Please note that we need to make changes to this yaml file. Focus on the red box area where we need to change in the below image."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/1.png"})),(0,i.yg)("p",null,"Please do not change the device name except the one you have configured, please refer to the code below for the rest of the content."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-css"},'esphome:\n  name: xiao-esp32c3\n  friendly_name: xiao_esp32c3\n\nesp32:\n  board: esp32-c3-devkitm-1\n  framework:\n    type: arduino\n\n# Enable logging\nlogger:\n\n# Enable Home Assistant API\napi:\n  encryption:\n    key: "XehWbrfoYMdE4buwcVMDWQC9c/PB73eA+xlzSMeVSNw="\n\nota:\n  - platform: esphome\n    password: "2a6ebf121477090bfb2ef3ebc9f7e40f"\n\nwifi:\n  ssid: "Your ssid"\n  password: "Your password"\n\n  # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: "Xiao-Esp32C3 Fallback Hotspot"\n    password: "9fpQ1nbukURw"\n\ncaptive_portal:\n\n# Define the relay switch\nswitch:\n  - platform: gpio\n    name: "Relay Control"\n    pin: GPIO3 # XIAO use D1 pin to control the relay module, XIAO ESP32 C3 D1 pin corresponds to GPIO3. XIAO ESP32 C6 is GPIO1; XIAO ESP32 S3 is GPIO2.\n')),(0,i.yg)("p",null,"Then, please click on the ",(0,i.yg)("strong",{parentName:"p"},"Save")," button in the top right corner."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/63.png"})),(0,i.yg)("h3",{id:"step-5-upload-firmware-to-xiao-esp32c3"},"Step 5. Upload firmware to XIAO ESP32C3"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Method 1: Compile and upload directly"))),(0,i.yg)("p",null,"If you are using an x86 device and can see XIAO on the device port, then you can compile and upload the program to XIAO."),(0,i.yg)("p",null,"Connect XIAO to your device."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/ESPHome/49.png",style:{width:700,height:"auto"}})),(0,i.yg)("p",null,"Click on the three dots in the bottom right corner of the device bar and select ",(0,i.yg)("strong",{parentName:"p"},"Install"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/84.png"})),(0,i.yg)("p",null,"Click ",(0,i.yg)("strong",{parentName:"p"},"Plug into the computer running ESPHome Dashboard"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/85.png"})),(0,i.yg)("p",null,"Select the connected port."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/ESPHome/18.png"})),(0,i.yg)("p",null,"Now it will download all the necessary board packages and flash the ESPHome firmware into the XIAO ESP32C3. If the flashing is successful, you will see the following output."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/ESPHome/19.png"})),(0,i.yg)("p",null,"If you are unable to find the port after connecting XIAO to your device, then you can try using the second method."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Method 2: Upload compiled firmware using the host"))),(0,i.yg)("p",null,"Soft routes like LinkStar H68K do not support recognition of external MCU devices, we need to download the compiled firmware first and then upload the firmware via another PC."),(0,i.yg)("p",null,"Click on the ",(0,i.yg)("strong",{parentName:"p"},"Install")," button in the top right hand corner. Then select the last item ",(0,i.yg)("strong",{parentName:"p"},"Manual download"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/30.png"})),(0,i.yg)("p",null,"Select ",(0,i.yg)("strong",{parentName:"p"},"Modern format"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/31.png"})),(0,i.yg)("p",null,"It will then take a long time to download and compile, so please be patient. Once everything is ready, the firmware will be automatically downloaded to your computer."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/33.png"})),(0,i.yg)("p",null,"To upload the firmware to XIAO ESP32C3 there are couple options here we show 2 ways of doing it:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Option 1: using the ",(0,i.yg)("a",{parentName:"li",href:"https://web.esphome.io/?dashboard_install"},"ESPhome Web tool")," to upload.")),(0,i.yg)("p",null,"Make sure you have the right drivers installed. Below are the drivers for common chips used in ESP devices."),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"CP2102 drivers: ",(0,i.yg)("a",{parentName:"p",href:"https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers"},"Windows & Mac"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"CH342, CH343, CH9102 drivers: ",(0,i.yg)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH343SER_ZIP.html"},"Windowns"),", ",(0,i.yg)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH34XSER_MAC_ZIP.html"},"Mac"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"CH340, CH341 drivers: ",(0,i.yg)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH341SER_ZIP.html"},"Windowns"),", ",(0,i.yg)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH341SER_MAC_ZIP.html"},"Mac")))),(0,i.yg)("p",null,"Open the ",(0,i.yg)("a",{parentName:"p",href:"https://web.esphome.io/?dashboard_install"},"ESPhome Web tool")," with Chrome or Edge web browser."),(0,i.yg)("p",null,"Click ",(0,i.yg)("strong",{parentName:"p"},"CONNECT"),"."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/34.png"})),(0,i.yg)("p",null,"select the XIAO ESP32 serial port in the popup window."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/64.png"})),(0,i.yg)("p",null,"Click ",(0,i.yg)("strong",{parentName:"p"},"INSTALL")," and then select the ",(0,i.yg)("inlineCode",{parentName:"p"},".bin")," file downloaded from above steps."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/35.png"})),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/38.png"})),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Option 2: Using the ",(0,i.yg)("a",{parentName:"li",href:"https://github.com/esphome/esphome-flasher"},"esphome-flasher tool"),".")),(0,i.yg)("p",null,"If you are still unable to upload firmware using method one after installing the driver and changing browsers, then you can try using method two. Please refer to the official tutorial for specific installation methods and instructions."),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"If you wish to observe the log messages of the XIAO ESP32C3, you can also view them through the View Logs button of this software."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/41.png"}))),(0,i.yg)("p",null,"Once the upload is complete, you can disconnect the XIAO ESP32C3 from the PC (unless you have a need to view the logs) and simply power the XIAO separately."),(0,i.yg)("p",null,"If all goes well, the XIAO ESP32C3 will search for and connect to the WiFi you have set up for it. "),(0,i.yg)("p",null,"Just like me, I use LinkStar H68K's network. You can find it in the network options and see the IP address assigned to it by LinkStar H68K."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/42.png"})),(0,i.yg)("p",null,"Normally, at this point in Home Assistant, the status of the device will also change from offline to online."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/65.png"})),(0,i.yg)("h2",{id:"add-relay-module-to-home-assistant-dashboard"},"Add Relay Module to Home Assistant Dashboard"),(0,i.yg)("h3",{id:"step-6-add-relay-to-dashboard"},"Step 6. Add relay to dashboard"),(0,i.yg)("p",null,"Go to ",(0,i.yg)("strong",{parentName:"p"},"setting"),", and ",(0,i.yg)("strong",{parentName:"p"},"Devices & services")," "),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/5.png"})),(0,i.yg)("p",null,"In the ",(0,i.yg)("strong",{parentName:"p"},"Discovered")," area, you will find XIAO, click ",(0,i.yg)("strong",{parentName:"p"},"CONGFIUGE")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/2.png"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Paste the key")," which from the yaml file you edit before."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/14.png"})),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/3.png"})),(0,i.yg)("p",null,"Select a area or leave it by default, click ",(0,i.yg)("strong",{parentName:"p"},"FINISH")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/4.png"})),(0,i.yg)("p",null,"After that, click ",(0,i.yg)("strong",{parentName:"p"},"Devices"),", find ",(0,i.yg)("strong",{parentName:"p"},"xiao_esp32c3"),"(you name it before) and click into it"),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/6.png"})),(0,i.yg)("p",null,"Here is ESPHome device page, you can add some automations and so on. Now we need to add it to dashboard, so click it."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/7.png"})),(0,i.yg)("p",null,"Click ",(0,i.yg)("strong",{parentName:"p"},"NEXT")," and click ",(0,i.yg)("strong",{parentName:"p"},"ADD TO DASHBOARD")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/8.png"})),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/9.png"})),(0,i.yg)("p",null,"Now, click ",(0,i.yg)("strong",{parentName:"p"},"Overview")," at left side"),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/10.png"})),(0,i.yg)("p",null,"You will see the Relay Control appear here"),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/11.png"})),(0,i.yg)("h3",{id:"step-7-use-relay-module-to-control-a-table-lamp"},"Step 7. Use relay module to control a table lamp"),(0,i.yg)("p",null,"We can click the switch to see if the relay work well. If you see the little green light on the board when you click the switch, it means work well! "),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("iframe",{width:"800",height:"450",src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/relay.mp4?autoplay=0",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"}," ")),(0,i.yg)("br",null),"I remodeled my little table lamp with this relay module. Cut the positive wire and plug it into each of the two ports of the relay module. You can see the affect in the below video. This relay module can't power XIAO, so please remember to use battery or USB cable to power XIAO.",(0,i.yg)("admonition",{type:"warning"},(0,i.yg)("p",{parentName:"admonition"},"Please pay attention to the safety of electricity and do not touch the relays during power-on.")),(0,i.yg)("div",{class:"table-center"},(0,i.yg)("iframe",{width:"800",height:"450",src:"https://files.seeedstudio.com/wiki/XIAO/Gadgets/relay_module_for_xiao/light.mp4?autoplay=0",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"}," ")),(0,i.yg)("div",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_MG24/Pin/6.png",style:{width:1e3,height:"auto"}})),(0,i.yg)("p",null,"Congratulations on successfully completing your journey on Relay Module For XIAO! Let's do more interesting remodels!"),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);