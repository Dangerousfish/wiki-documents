"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[68225],{15680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>g});var o=r(96540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var u=o.createContext({}),c=function(e){var t=o.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=c(e.components);return o.createElement(u.Provider,{value:t},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,u=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=c(r),m=n,g=l["".concat(u,".").concat(m)]||l[m]||d[m]||i;return r?o.createElement(g,a(a({ref:t},p),{},{components:r})):o.createElement(g,a({ref:t},p))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[l]="string"==typeof e?e:n,a[1]=s;for(var c=2;c<i;c++)a[c]=r[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},89142:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=r(9668),n=(r(96540),r(15680));const i={description:"This article mainly introduces how to use fuxa for MQTT communication.",title:"reComputer R1000 with fuxa to use mqtt client",keywords:["Edge Controller","reComputer R1000","fuxa","mqtt client"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",slug:"/reComputer_r1000_fuxa_mqtt_client",last_update:{date:"10/8/2024",author:"ShuishengPeng"}},a=void 0,s={unversionedId:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/fuxa/recomputer_r1000_with_fuxa_use_mqtt",id:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/fuxa/recomputer_r1000_with_fuxa_use_mqtt",title:"reComputer R1000 with fuxa to use mqtt client",description:"This article mainly introduces how to use fuxa for MQTT communication.",source:"@site/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/fuxa/recomputer_r1000_with_fuxa_use_mqtt.md",sourceDirName:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/fuxa",slug:"/reComputer_r1000_fuxa_mqtt_client",permalink:"/reComputer_r1000_fuxa_mqtt_client",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/fuxa/recomputer_r1000_with_fuxa_use_mqtt.md",tags:[],version:"current",lastUpdatedBy:"ShuishengPeng",lastUpdatedAt:1728345600,formattedLastUpdatedAt:"Oct 8, 2024",frontMatter:{description:"This article mainly introduces how to use fuxa for MQTT communication.",title:"reComputer R1000 with fuxa to use mqtt client",keywords:["Edge Controller","reComputer R1000","fuxa","mqtt client"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",slug:"/reComputer_r1000_fuxa_mqtt_client",last_update:{date:"10/8/2024",author:"ShuishengPeng"}},sidebar:"ProductSidebar",previous:{title:"reComputer R1000 with fuxa to use modbus RTU/TCP",permalink:"/reComputer_r1000_fuxa_modbus_rtu_and_tcp"},next:{title:"reComputer R1000 with fuxa to use OPC-UA",permalink:"/reComputer_r1000_fuxa_opc_ua"}},u={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Start",id:"getting-start",level:2},{value:"Hardware Preparation",id:"hardware-preparation",level:3},{value:"Software Preparation",id:"software-preparation",level:3},{value:"Hardware Configuration",id:"hardware-configuration",level:3},{value:"MQTT client communication steps",id:"mqtt-client-communication-steps",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:c},l="wrapper";function d(e){let{components:t,...r}=e;return(0,n.yg)(l,(0,o.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"FUXA is a web-based Process Visualization (SCADA/HMI/Dashboard) software. With FUXA you can create modern process visualizations with individual designs for your machines and real-time data display.It supports Modbus RTU/TCP, Siemens S7 Protocol, OPC-UA, BACnet IP, MQTT, and other protocols. "),(0,n.yg)("p",null,"This article mainly introduces how to use fuxa for mqtt communication on reComputerR1000. This article uses mosquitto as the MQTT server agent, fuxa and node-red as the MQTT client, and introduces a ModbusTCP slave as the source of data published by fuxa. fuxa subscribes to a topic named /dev/fromNode_red and publishes a topic named /dev/fromfuxa. The data of this topic comes from the ModbusTCP slave; node-red subscribes to a topic named /dev/fromfuxa and publishes a topic named /dev/fromfuxa. /dev/fromNode_red topic. The communication framework is shown in the figure:"),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/mqtt_global.png"})),(0,n.yg)("h2",{id:"getting-start"},"Getting Start"),(0,n.yg)("p",null,"Before you start this project, you may need to prepare your hardware and software in advance as described here."),(0,n.yg)("h3",{id:"hardware-preparation"},"Hardware Preparation"),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{class:"table-nobg"},(0,n.yg)("tr",{class:"table-trnobg"},(0,n.yg)("th",{class:"table-trnobg"},"reComputer R1000")),(0,n.yg)("tr",{class:"table-trnobg"}),(0,n.yg)("tr",{class:"table-trnobg"},(0,n.yg)("td",{class:"table-trnobg"},(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",style:{width:300,height:"auto"}})))),(0,n.yg)("tr",{class:"table-trnobg"}),(0,n.yg)("tr",{class:"table-trnobg"},(0,n.yg)("td",{class:"table-trnobg"},(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reComputer-R1025-10-p-5895.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,n.yg)("h3",{id:"software-preparation"},"Software Preparation"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Python 3.11 may be incompatible with fuxa. If your Python version is 3.11, please consider changing to a different Python version."),(0,n.yg)("li",{parentName:"ul"},"Using ",(0,n.yg)("a",{parentName:"li",href:"https://modbusmechanic.scifidryer.com/"},"modbusmechanic")," on W10 PC.You can also use other modbus testing tools"),(0,n.yg)("li",{parentName:"ul"},"Using ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/frangoteam/FUXA"},"fuxa")," on reComputer R1000.You can refer to the following steps to install fuxa on reComputer R1000",(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-shell"},"  ## You need to have installed Node Version 14 || 16 || 18.\n  wget https://nodejs.org/dist/v18.20.3/node-v18.20.3-linux-arm64.tar.xz\n  tar -xf node-v18.20.3-linux-arm64.tar.xz\n  cd node-v18.20.3-linux-arm64\n  sudo cp -R * /usr/local/\n  node -v\n  npm -v\n  ## Next install FUXA from npm\n  sudo npm install -g --unsafe-perm @frangoteam/fuxa\n  sudo fuxa\n"))),(0,n.yg)("li",{parentName:"ul"},"Regarding how to use the modbusTCP function in fuxa, you can refer to this ",(0,n.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/reComputer_r1000_fuxa_modbus_rtu_and_tcp/"},"wiki"),"."),(0,n.yg)("li",{parentName:"ul"},"Regarding how to download and configure mosquitto, you can refer to this ",(0,n.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/recomputer_r1000_nodered_mqtt/"},"tutorial"),".Here is also how to configure mqtt communication in node-red, you can also refer to it.")),(0,n.yg)("h3",{id:"hardware-configuration"},"Hardware Configuration"),(0,n.yg)("p",null,"For ModbusTCP, we use Ethernet cables to connect the W10 PC and reComputer R1000 to a switch to ensure that they are on the same network segment."),(0,n.yg)("div",{align:"center"},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/r1000_connection.png",alt:"pir",width:"500",height:"auto"})),(0,n.yg)("h2",{id:"mqtt-client-communication-steps"},"MQTT client communication steps"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 1"),": Refer to this ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/reComputer_r1000_fuxa_modbus_rtu_and_tcp/"},"tutorial")," and use ",(0,n.yg)("inlineCode",{parentName:"p"},"fuxa")," to establish a connection with ",(0,n.yg)("inlineCode",{parentName:"p"},"modbusmechanic"),".And refer to this ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Edge-Box-Node-Red-MQTT/"},"wiki")," to deploy ",(0,n.yg)("inlineCode",{parentName:"p"},"mosquitto")," and ",(0,n.yg)("inlineCode",{parentName:"p"},"Node-red"),"on reComputer R1000."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 2"),": Connect to the MQTT server. Click the ",(0,n.yg)("inlineCode",{parentName:"p"},"+")," button in the lower right corner of the ",(0,n.yg)("inlineCode",{parentName:"p"},"fuxa")," interface, enter ",(0,n.yg)("inlineCode",{parentName:"p"},"Name"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"Type"),", select ",(0,n.yg)("inlineCode",{parentName:"p"},"MQTTclient"),", and then enter the IP address and port number of the MQTT server. If your MQTT server requires security verification, you also need to enter ",(0,n.yg)("inlineCode",{parentName:"p"},"Client ID"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"Username"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"Password"),", etc. Our server does not require this verification, so it is not filled in. Finally click ",(0,n.yg)("inlineCode",{parentName:"p"},"OK")," and wait for a green dot to appear in the lower left corner of the module, indicating that the connection to the MQTT server is successful."),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/connect_mqtt_server.gif"})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 3"),": Subscribe to the topic. Enter the configuration interface, click the ",(0,n.yg)("inlineCode",{parentName:"p"},"+")," button in the upper left corner, enter the topic to be subscribed to in ",(0,n.yg)("inlineCode",{parentName:"p"},"Browser Topics on broker"),", here we subscribe to the ",(0,n.yg)("inlineCode",{parentName:"p"},"/dev/fromNode_red")," topic published by node-red, and then click the search button next to it , you can see the content of the corresponding topic. fuxa supports two display formats: ",(0,n.yg)("inlineCode",{parentName:"p"},"raw")," and ",(0,n.yg)("inlineCode",{parentName:"p"},"json"),". Here we choose ",(0,n.yg)("inlineCode",{parentName:"p"},"json"),", and finally click ",(0,n.yg)("inlineCode",{parentName:"p"},"subscribe")," to subscribe successfully."),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/sub_topic.gif"})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 4"),": Publish the topic. Enter the configuration interface, select the ",(0,n.yg)("inlineCode",{parentName:"p"},"Publish")," column, enter the topic name to be published in ",(0,n.yg)("inlineCode",{parentName:"p"},"Topic path"),", here we enter /dev/fromfuxa, and then click ",(0,n.yg)("inlineCode",{parentName:"p"},"Add attribute to payload"),", a line of data content that can be published will pop up, here we Select 4 data obtained from the ModbusTCP slave and a timestamp as the content of our publishing topic, and select the publishing format as ",(0,n.yg)("inlineCode",{parentName:"p"},"json"),", and finally click ",(0,n.yg)("inlineCode",{parentName:"p"},"Publish")," to publish successfully."),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/public_topic.gif"})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Step 5"),": After the above configuration is completed, we change the data on the Modbus slave side. You can see the real-time changes in the data in the debug window of node-red, indicating that fuxa successfully published the data through the /dev/fromfuxa topic. come out."),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/fuxa/mqtt_show_data.gif"})),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}d.isMDXComponent=!0}}]);