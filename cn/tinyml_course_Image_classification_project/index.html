<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32S3_Sense/Edgeimpulse/CN_Image_classification_project" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">图像分类 | Seeed Studio Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wiki.seeedstudio.com/cn/tinyml_course_Image_classification_project/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="图像分类 | Seeed Studio Wiki"><meta data-rh="true" name="description" content="对图像中的狗和猫进行分类。"><meta data-rh="true" property="og:description" content="对图像中的狗和猫进行分类。"><meta data-rh="true" name="keywords" content="tinyml course"><meta data-rh="true" property="og:image" content="https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png"><meta data-rh="true" name="twitter:image" content="https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png"><link data-rh="true" rel="icon" href="/img/S.png"><link data-rh="true" rel="canonical" href="https://wiki.seeedstudio.com/cn/tinyml_course_Image_classification_project/"><link data-rh="true" rel="alternate" href="https://wiki.seeedstudio.com/cn/tinyml_course_Image_classification_project/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://wiki.seeedstudio.com/cn/tinyml_course_Image_classification_project/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Seeed Studio Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Seeed Studio Wiki Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-M4JG2HVB",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>


<link rel="icon" href="/img/S.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<link rel="search" type="application/opensearchdescription+xml" title="Seeed Studio Wiki" href="/opensearch.xml">
<script src="https://viewer.altium.com/client/static/js/embed.js" async></script>
<script src="/js/custom.js" async></script><link rel="stylesheet" href="/assets/css/styles.e121acb0.css">
<link rel="preload" href="/assets/js/runtime~main.d4c033b7.js" as="script">
<link rel="preload" href="/assets/js/main.5b9c7403.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M4JG2HVB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#013949;color:#FFFFFF" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Collaborating with us! Join the Seeed Studio <a target="_blank" href="https://wiki.seeedstudio.com/ranger/">Ranger Program</a> or <a target="_blank" href="https://wiki.seeedstudio.com/contributors/">Contributor Program</a>!</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://files.seeedstudio.com/wiki/wiki-platform/SeeedStudio.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--light_HNdA navbar_logo_items"><img src="https://files.seeedstudio.com/wiki/wiki-platform/seeed_white_logo.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--dark_i4oU navbar_logo_items"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar_dorp_items js_getting_started" aria-haspopup="true" aria-expanded="false" role="button" href="/Getting_Started/">Quick Links</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Sensor_Network/">Sensor and Sensing</a></li><li><a class="dropdown__link" href="/Network/">Networking</a></li><li><a class="dropdown__link" href="/Edge_Computing/">Edge Computing</a></li><li><a class="dropdown__link" href="/Cloud/">Cloud</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar_dorp_items js_explore_learn" aria-haspopup="true" aria-expanded="false" role="button" href="/topicintroduction/">Explore with Topics</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tinyml_topic/">TinyML</a></li><li><a class="dropdown__link" href="/ModelAssistant_Introduce_Overview/">SenseCraft Model Assistant</a></li><li><a class="dropdown__link" href="/home_assistant_topic/">Home Assistant</a></li><li><a class="dropdown__link" href="/open_source_topic/">Open Source</a></li><li><a class="dropdown__link" href="/edge_ai_topic/">Edge AI</a></li><li><a class="dropdown__link" href="/cn/Getting_Started/">矽递科技 Wiki 文档平台</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar_dorp_items" aria-haspopup="true" aria-expanded="false" role="button" href="/knowledgebase/">FAQs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Jetson_FAQ/">NVIDIA Jetson Series</a></li><li><a class="dropdown__link" href="/XIAO_FAQ/">Seeed Studio XIAO Series</a></li><li><a class="dropdown__link" href="/reComputer_R1000_FAQ/">reComputer R1000 Series</a></li><li><a class="dropdown__link" href="/reTerminal-new_FAQ/">reTerminal</a></li><li><a class="dropdown__link" href="/FAQs_For_openWrt/">reRouter</a></li><li><a class="dropdown__link" href="/ODYSSEY_FAQ/">Odyssey</a></li><li><a class="dropdown__link" href="/wio_terminal_faq/">Wio Terminal</a></li><li><hr style="margin: 8px 0;"></li><li><a href="https://discord.com/invite/eWkprNDMU7" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.seeedstudio.com/contacts" target="_blank" rel="noopener noreferrer" class="dropdown__link">Email<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/Seeed-Studio/wiki-documents/discussions/69" target="_blank" rel="noopener noreferrer" class="dropdown__link">Have Suggestions?<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar_dorp_items" aria-haspopup="true" aria-expanded="false" role="button" href="/ranger/">Rangers</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ranger/">Rangers</a></li><li><a class="dropdown__link" href="/contributors/">Contributors</a></li><li><a href="https://docs.google.com/forms/d/e/1FAIpQLSdiAWHmRJqgVNTJyJDkzhufc1dygFyhWFyEtUTm-mrgSKaEgg/viewform" target="_blank" rel="noopener noreferrer" class="dropdown__link">Apply for Rangers<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/orgs/Seeed-Studio/projects/6" target="_blank" rel="noopener noreferrer" class="dropdown__link">Direct to Assignments<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.seeedstudio.com/blog/2023/09/15/join-the-seeed-ranger-program-empowering-developers-and-building-communities/" target="_blank" rel="noopener noreferrer" class="dropdown__link">More about Rangers<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://wiki.seeedstudio.com/Contributor" target="_blank" rel="noopener noreferrer" class="dropdown__link">More about Contributors<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://www.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_right_items">Bazaar 🛍️</a><a href="https://wiki-gpt.seeedstudio.com/chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_right_items">AI Bot 🤖️</a><a href="https://sensecraft.seeed.cc/ai/#/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_right_items">SenseCraft AI</a><a href="https://sensecraft.seeed.cc/ai/#/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-SSCMA"></a><a href="https://github.com/Seeed-Studio/wiki-documents" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Getting_Started/">矽递科技 Wiki 文档平台</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/Grove_System/">Grove 系列</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/grove_vision_ai_v2/">Grove 传感器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/Grove_Accessories_Intro/">Grove 配件</a><button aria-label="Toggle the collapsible sidebar category &#x27;Grove 配件&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/SeeedStudio_XIAO_Series_Introduction/">XIAO 拇指开发板</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/Seeeduino-XIAO/">XIAO SAMD21</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO SAMD21&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/getting_started_xiao_ra4m1/">XIAO RA4M1</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO RA4M1&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/xiao_mg24_getting_started/">XIAO MG24</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO MG24&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/XIAO-RP2040/">XIAO RP2040</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO RP2040&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/getting-started-xiao-rp2350/">XIAO RP2350</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO RP2350&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/XIAO_BLE/">XIAO nRF52840 (Sense)</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO nRF52840 (Sense)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/XIAO_ESP32C3_Getting_Started/">XIAO ESP32C3</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO ESP32C3&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/xiao_esp32c6_getting_started/">XIAO ESP32C6</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO ESP32C6&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/cn/xiao_esp32s3_getting_started/">XIAO ESP32S3 (Sense)</a><button aria-label="Toggle the collapsible sidebar category &#x27;XIAO ESP32S3 (Sense)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/xiao_esp32s3_pin_multiplexing/">串口硬件使用教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/XIAO_ESP32S3_Consumption/">XIAO ESP32S3 Sense 睡眠模式</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cn/xiao_esp32s3_wifi_usage/">无线通讯功能</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cn/XIAO-ESP32S3-Zephyr-RTOS/">编程语言</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cn/xiao_esp32s3_camera_usage/">硬件基础教学（Sense版本）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/cn/edgeimpulse/">实用教程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/cn/edgeimpulse/">Edgeimpulse</a><button aria-label="Toggle the collapsible sidebar category &#x27;Edgeimpulse&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/tinyml_course_Image_classification_project/">图像分类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/tinyml_course_Key_Word_Spotting/">关键词识别</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/xiao_esp32s3_speech2chatgpt/">基于 XIAO ESP32S3 Sense 的微型 ChatGPT 语音助手</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/xiao_esp32s3_edgelab/">SenseCraft 模型助手部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/geolocation_tracker_with_XIAO_ESP32S3/">基于 XIAO ESP32S3 的地理定位追踪器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/XIAO_ESP32S3_esphome/">Seeed Studio 上的 ESPHome 支持 XIAO ESP32S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/xiao_esp32s3_sscma/">将 Datasets 中的模型部署到 XIAO ESP32S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/xiao_esp32s3_keyword_spotting/">基于 Edge Impulse 的关键词识别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/voice_baidu_with_xiao_esp32s3/">ESP32S3 Sense接入百度在线语音识别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/voice_recognition_minimax_with_xiao_esp32s3/">ESP32S3 Sense接入语音识别+MiniMax模型对话</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/voice_recognition_minimax_tts_with_xiao_esp32s3/">ESP32S3 Sense接入语音识别+MiniMax模型+TTS模块语音播报</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/get_start_round_display/">XIAO 的兼容扩展板</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/xiao_idf/">XIAO + ESP-IDF + ESP- Matter</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/xiao_espnow/">ESP-NOW 登陆 XIAO ESP32 系列</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/PCB_Design_XIAO/">XIAO 的 PCB 设计</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/XIAO-Kit-Courses/">基于 XIAO 的初学者套件</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/xiao_topic_page/">XIAO 系列教程和项目合集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/XIAO_FAQ/">XIAO 开发板常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/reComputer_Intro/">NVIDIA Jetson 套件</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/reComputer_Intro/">reComputer 英伟达系列</a><button aria-label="Toggle the collapsible sidebar category &#x27;reComputer 英伟达系列&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cn/Generative_AI_Intro/">生成式人工智能应用</a><button aria-label="Toggle the collapsible sidebar category &#x27;生成式人工智能应用&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/How_to_Train_and_Deploy_YOLOv8_on_reComputer/">计算机视觉应用</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/Wio_Terminal_Intro/">Wio Terminal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Wio-Terminal-Getting-Started-test/">Wio Terminal入门教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Wio-Terminal-CircuitPython/">Wio Terminal上的CircuitPython</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Software-FreeRTOS/">Wio Terminal上的FreeRTOS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/wio_terminal_faq/">Wio Terminal 常见问题解答</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/Wio-Terminal-LCD-Overview/">硬件概述</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/Connect-Wio-Terminal-to-Microsoft-Azure-IoT-Central/">应用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/Wio-Terminal-Battery-Chassis/">扩展板</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/Wio-Terminal-TinyML-Kit-Course/">课程套件</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/Wio-Terminal-Firmware/">教程</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/Quantum-Mini-Linux-Development-Kit/">夸克(Quark)迷你开发者套件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sideboard_calss"><a class="menu__link" href="/cn/mmwave_radar_Intro/">毫米波雷达传感器</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/mmwave_for_xiao/">用于XIAO的毫米波</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cn/mmwave_human_detection_kit/">毫米波套件</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR24BSD1/">24GHz 毫米波传感器 - 睡眠呼吸监测</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR24FDB1/">24GHz毫米波传感器 - 人体跌倒检测传感器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR24HPB1/">24GHz 毫米波传感器 - 人体静态存在模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR24HPC1/">24GHz毫米波传感器 - 人体静态存在模块精简版</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR60BHA1/">60GHz毫米波传感器 - 人体静态睡眠呼吸监测</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/Radar_MR60FDA1/">60GHz毫米波传感器 - 跌倒检测模块专业版</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cn/xiao_esp32s3_getting_started/"><span itemprop="name">XIAO ESP32S3 (Sense)</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">实用教程</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cn/edgeimpulse/"><span itemprop="name">Edgeimpulse</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">图像分类</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>图像分类</h1><p>在这里，我们将使用 XIAO ESP32-S3-Sense 构建一个 tinyML 项目，用于分类狗和猫的照片。让我们开始吧。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="它是如何工作的">它是如何工作的<a href="#它是如何工作的" class="hash-link" aria-label="Direct link to 它是如何工作的" title="Direct link to 它是如何工作的">​</a></h3><p>我们将在 XIAO 上运行机器学习模型，并将相机流输入到模型中。然后，XIAO 会推理结果并进行预测，借助我们实现的板载神经网络。让我们来构建一个。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/digram.png?raw=true" style="width:1000px;height:auto" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="所需物品">所需物品<a href="#所需物品" class="hash-link" aria-label="Direct link to 所需物品" title="Direct link to 所需物品">​</a></h4><ul><li>XIAO ESP32-Sense</li><li>&lt;32GB MicroSD 卡</li><li>Type-C 数据线</li><li>Arduino IDE</li><li>Edgeimpulse 账户</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="第-1-步收集猫狗图像">第 1 步：收集猫狗图像<a href="#第-1-步收集猫狗图像" class="hash-link" aria-label="Direct link to 第 1 步：收集猫狗图像" title="Direct link to 第 1 步：收集猫狗图像">​</a></h2><p>机器学习项目的第一步是收集数据集，这里我们需要收集猫和狗的图像。我们可以通过两种方式收集图像：</p><ol><li>直接通过 XIAO-ESP32-S3-Sense 收集图像并保存到 SD 卡，之后上传到 EdgeImpulse。</li><li>直接通过手机、互联网或公开数据集收集图像，然后上传到 EdgeImpulse。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-方法-1通过-xiao-esp32-s3-sense-收集图像">1.1 方法 1：通过 XIAO-ESP32-S3-Sense 收集图像<a href="#11-方法-1通过-xiao-esp32-s3-sense-收集图像" class="hash-link" aria-label="Direct link to 1.1 方法 1：通过 XIAO-ESP32-S3-Sense 收集图像" title="Direct link to 1.1 方法 1：通过 XIAO-ESP32-S3-Sense 收集图像">​</a></h3><p>在这里，我们使用 Sense 相机模块收集图像并保存到 SD 卡，然后稍后上传到 EdgeImpulse。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="111-连接相机">1.1.1 连接相机<a href="#111-连接相机" class="hash-link" aria-label="Direct link to 1.1.1 连接相机" title="Direct link to 1.1.1 连接相机">​</a></h4><p>如果你正在购买 XIAO ESP32-S3-Sense，那么你应该还需要一个扩展板。这个扩展板配备了 1600*1200 分辨率的 OV2640 相机传感器，板载 SD 卡插槽和数字麦克风。</p><p>通过将扩展板安装到 XIAO ESP32-S3-Sense 上，你可以使用扩展板上的功能。</p><p>安装扩展板非常简单，只需要将扩展板上的连接器与 XIAO ESP32-S3 上的 B2B 连接器对齐，按下直到听到“咔哒”一声，安装完成。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/img/61.gif" style="width:500px;height:auto" class="img_ev3q"></div><p>现在，我们有了一款全新的、完全兼容 XIAO ESP32-S3-Sense 的强大相机——OV5640。如果你购买了它，可以将其替换为现有的相机。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/img/ov5640.gif" style="width:500px;height:auto" class="img_ev3q"></div><div class="get_one_now_container" style="text-align:center"><a href="https://www.seeedstudio.com/OV5640-Camera-for-XIAO-ESP32S3-Sense-With-Heat-Sink-p-5739.html" target="_blank" rel="noopener noreferrer" class="get_one_now_item"><strong><span><font color="FFFFFF" size="4"> 立即购买 🖱️</font></span></strong></a></div><ul><li><strong>第 1 步</strong>：根据你的操作系统下载并安装稳定版的 Arduino IDE。</li></ul><div class="download_arduino_container" style="text-align:center"><a href="https://www.arduino.cc/en/software" target="_blank" rel="noopener noreferrer" class="download_arduino_item"><strong><span><font color="FFFFFF" size="4">下载 Arduino IDE</font></span></strong></a></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="112-在-arduino-中安装-xiao-esp32-s3-sense">1.1.2 在 Arduino 中安装 XIAO-ESP32-S3-Sense<a href="#112-在-arduino-中安装-xiao-esp32-s3-sense" class="hash-link" aria-label="Direct link to 1.1.2 在 Arduino 中安装 XIAO-ESP32-S3-Sense" title="Direct link to 1.1.2 在 Arduino 中安装 XIAO-ESP32-S3-Sense">​</a></h4><ul><li><p><strong>第 1 步</strong>：将 ESP32 板包添加到 Arduino IDE 中。</p><p>  导航至 <strong>文件 &gt; 首选项</strong>，在 <strong>“附加开发板管理器网址”</strong> 中填入以下网址：
<em><a href="https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json" target="_blank" rel="noopener noreferrer">https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json</a></em></p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/img/6.png" style="width:800px;height:auto" class="img_ev3q"></div><p>  导航至 <strong>工具 &gt; 开发板 &gt; 开发板管理器...</strong>，在搜索框中输入关键字 <strong>esp32</strong>，选择最新版本的 <strong>esp32</strong>，并安装。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/img/9.png" style="width:1000px;height:auto" class="img_ev3q"></div></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>XIAO ESP32-S3 的板载包至少需要 <strong>2.0.8</strong> 版本才能使用。</p></div></div><ul><li><strong>第 2 步</strong>：选择开发板和端口。</li></ul><p>在 Arduino IDE 顶部，你可以直接选择端口，通常为 COM3 或更高版本（<strong>COM1</strong> 和 <strong>COM2</strong> 通常保留用于硬件串口）。</p><p>此外，在左侧的开发板列表中搜索 <strong>xiao</strong>，并选择 <strong>XIAO_ESP32S3</strong>。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/img/10.png" style="width:600px;height:auto" class="img_ev3q"></div><p>完成这些准备工作后，你可以开始为 XIAO ESP32S3 编写程序并进行编译和上传。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-上传可以拍照并保存到-sd-卡的-sketch">1.2 上传可以拍照并保存到 SD 卡的 Sketch<a href="#12-上传可以拍照并保存到-sd-卡的-sketch" class="hash-link" aria-label="Direct link to 1.2 上传可以拍照并保存到 SD 卡的 Sketch" title="Direct link to 1.2 上传可以拍照并保存到 SD 卡的 Sketch">​</a></h4><p>从 <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/take_photos_command.ino.zip" target="_blank" rel="noopener noreferrer">这里</a> 下载 Sketch 文件，解压到你的计算机并打开 &quot;take_photos_command.ino&quot; 文件。然后选择正确的端口和开发板，上传到 XIAO。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/img_CaptureSketch01.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><p>在拍照时，确保对准我们需要收集的图像或物体作为数据集。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/cat_image_snap.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><p>由于这是图像分类，我们需要收集尽可能多的图像，以使系统更加稳定。因此，收集更多可爱的狗狗和猫咪图像。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-方法-2直接将图像上传到-edgeimpulse">1.2 方法 2：直接将图像上传到 EdgeImpulse<a href="#12-方法-2直接将图像上传到-edgeimpulse" class="hash-link" aria-label="Direct link to 1.2 方法 2：直接将图像上传到 EdgeImpulse" title="Direct link to 1.2 方法 2：直接将图像上传到 EdgeImpulse">​</a></h3><p>对于这种方法，我们需要通过互联网或手机收集图像。幸运的是，我们有像 <a href="https://www.kaggle.com/" target="_blank" rel="noopener noreferrer">Kaggle</a> 这样的服务提供猫狗图像数据集，请 <a href="https://www.kaggle.com/datasets/tongpython/cat-and-dog" target="_blank" rel="noopener noreferrer">点击这里</a> 进行查看。</p><p>一旦收集到数据集，打开你的 EdgeImpulse 项目，进入 <strong>数据采集</strong>，然后选择 <strong>+ 添加数据</strong>，选择 <strong>上传数据</strong> 选项。</p><div style="text-align:center"><img loading="lazy" src="https://raw.githubusercontent.com/salmanfarisvp/TinyML/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/collectData1.png" style="width:600px;height:auto" class="img_ev3q"></div><p>在该页面中，选择上传模式为 <strong>&quot;选择文件夹&quot;</strong>，然后选择以下选项中的文件。确保选择 <strong>“自动拆分为训练和测试”</strong> 并将标签设置为 <strong>“从文件名推断”</strong>。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/DataCollection01.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><p>上传完成后，你将看到如下窗口。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/DataCollection02.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="第-2-步设计-impulse-并训练我们的神经网络">第 2 步：设计 Impulse 并训练我们的神经网络<a href="#第-2-步设计-impulse-并训练我们的神经网络" class="hash-link" aria-label="Direct link to 第 2 步：设计 Impulse 并训练我们的神经网络" title="Direct link to 第 2 步：设计 Impulse 并训练我们的神经网络">​</a></h2><p>在收集完项目的数据后，你现在可以创建你的 Impulse。一个完整的 Impulse 将由 3 个主要模块组成：输入模块、处理模块和学习模块。</p><ol><li>要设计 Impulse，选择 <strong>创建 Impulse</strong>，进入 <strong>Impulse 设计</strong>。</li><li><strong>输入模块</strong>：输入模块表示你用来</li></ol><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/train2.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><p>一旦训练完成，我们就可以下载我们创建的TinyML库了。前往<strong>部署选项</strong>，选择<strong>Arduino库</strong>作为部署方式，然后点击<strong>构建</strong>来生成库文件。</p><div style="text-align:center"><img loading="lazy" src="https://github.com/salmanfarisvp/TinyML/blob/main/XIAO-esp32-S3-Sense/Image%20Recognition/src/img/deployment1.png?raw=true" style="width:600px;height:auto" class="img_ev3q"></div><p>库文件将自动下载。下载完成后，打开Arduino IDE，点击<strong>草图</strong> &gt; <strong>包含库</strong> &gt; <strong>添加.ZIP库</strong>。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Get_Started_With_Arduino/img/Add_Zip.png" style="width:1000px;height:auto" class="img_ev3q"></div><p>选择刚才下载的zip文件，如果库安装成功，您会看到库已添加到您的库列表中，说明库已经成功安装。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Get_Started_With_Arduino/img/upload_complete.png" style="width:1000px;height:auto" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="第3步运行示例代码">第3步：运行示例代码<a href="#第3步运行示例代码" class="hash-link" aria-label="Direct link to 第3步：运行示例代码" title="Direct link to 第3步：运行示例代码">​</a></h2><p>尽管Edge Impulse尚未发布其用于ESP32S3并使用ESP NN加速器的SDK，但得益于Dmitry Maslov的工作，我们可以恢复并修复ESP32-S3的汇编优化。这个解决方案目前尚未官方发布，EI将在修复与其他开发板的冲突后将其纳入EI SDK中。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>目前，这只适用于非EON版本。因此，您还应确保未选中<strong>启用EON编译器</strong>选项。</p></div></div><p>当点击<strong>构建</strong>按钮时，系统会创建一个Zip文件并将其下载到您的计算机。</p><p>在使用下载的库之前，我们需要启用<strong>ESP NN</strong>加速器。为此，您可以从<a href="https://github.com/Mjrovai/XIAO-ESP32S3-Sense/blob/main/ESP-NN.zip" target="_blank" rel="noopener noreferrer">项目GitHub</a>下载预发布版本，解压后将ESP NN文件夹替换为<code>src/edge-impulse-sdk/porting/espressif/ESP-NN</code>，并将其放入您的Arduino库文件夹中。</p><div style="text-align:center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/xiaoesp32s3_kws/10.png" style="width:800px;height:auto" class="img_ev3q"></div><p>复制下面的推理代码并粘贴到您的Arduino IDE中：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Edge Impulse Arduino examples</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Copyright (c) 2022 EdgeImpulse Inc.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Permission is hereby granted, free of charge, to any person obtaining a copy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * of this software and associated documentation files (the &quot;Software&quot;), to deal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * in the Software without restriction, including without limitation the rights</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * copies of the Software, and to permit persons to whom the Software is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * furnished to do so, subject to the following conditions:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * The above copyright notice and this permission notice shall be included in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * all copies or substantial portions of the Software.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * SOFTWARE.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Includes ---------------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;XIAO_esp32S3_CatDog2_inferencing.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;edge-impulse-sdk/dsp/image/image.hpp&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;esp_camera.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 选择相机模型 - 更多相机模型可以在 camera_pins.h 文件中找到</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/Camera/CameraWebServer/camera_pins.h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define CAMERA_MODEL_XIAO_ESP32S3 // 支持PSRAM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define PWDN_GPIO_NUM     -1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define RESET_GPIO_NUM    -1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define XCLK_GPIO_NUM     10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define SIOD_GPIO_NUM     40</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define SIOC_GPIO_NUM     39</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y9_GPIO_NUM       48</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y8_GPIO_NUM       11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y7_GPIO_NUM       12</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y6_GPIO_NUM       14</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y5_GPIO_NUM       16</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y4_GPIO_NUM       18</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y3_GPIO_NUM       17</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define Y2_GPIO_NUM       15</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define VSYNC_GPIO_NUM    38</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define HREF_GPIO_NUM     47</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define PCLK_GPIO_NUM     13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define LED_GPIO_NUM      21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* 常量定义 -------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define EI_CAMERA_RAW_FRAME_BUFFER_COLS           320</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define EI_CAMERA_RAW_FRAME_BUFFER_ROWS           240</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#define EI_CAMERA_FRAME_BYTE_SIZE                 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* 私有变量 ------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static bool debug_nn = false; // 设置为true以查看例如从原始信号生成的特征</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static bool is_initialised = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uint8_t *snapshot_buf; // 指向捕获结果的输出</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static camera_config_t camera_config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_pwdn = PWDN_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_reset = RESET_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_xclk = XCLK_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_sscb_sda = SIOD_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_sscb_scl = SIOC_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d7 = Y9_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d6 = Y8_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d5 = Y7_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d4 = Y6_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d3 = Y5_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d2 = Y4_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d1 = Y3_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_d0 = Y2_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_vsync = VSYNC_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_href = HREF_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pin_pclk = PCLK_GPIO_NUM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // XCLK 20MHz或10MHz用于OV2640双倍帧率（实验性）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .xclk_freq_hz = 20000000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .ledc_timer = LEDC_TIMER_0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .ledc_channel = LEDC_CHANNEL_0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .pixel_format = PIXFORMAT_JPEG, // 支持YUV422, GRAYSCALE, RGB565, JPEG</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .frame_size = FRAMESIZE_QVGA,    // 支持QQVGA-UXGA，不建议使用大于QVG的分辨率，除非使用JPEG</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .jpeg_quality = 12, // 0-63，数值越低质量越高</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .fb_count = 1,       // 如果大于1，i2s将运行在连续模式下。仅在JPEG模式下使用</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .fb_location = CAMERA_FB_IN_PSRAM,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .grab_mode = CAMERA_GRAB_WHEN_EMPTY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* 函数定义 ------------------------------------------------------- */ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bool ei_camera_init(void);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void ei_camera_deinit(void);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bool ei_camera_capture(uint32_t img_width, uint32_t img_height, uint8_t *out_buf);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* @brief      Arduino 设置函数</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void setup()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 在此处写下设置代码，只会运行一次：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Serial.begin(115200);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 注释掉下面这一行，以便上传后立即开始推理</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (!Serial);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Serial.println(&quot;Edge Impulse 推理演示&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (ei_camera_init() == false) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;相机初始化失败!\r\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;相机初始化成功\r\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ei_printf(&quot;\n2秒后开始连续推理...\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ei_sleep(2000);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* @brief      获取数据并运行推理</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* @param[in]  debug  如果为true，获取调试信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void loop()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 替代wait_ms，我们将等待信号，这样允许线程取消我们...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (ei_sleep(5) != EI_IMPULSE_OK) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    snapshot_buf = (uint8_t*)malloc(EI_CAMERA_RAW_FRAME_BUFFER_COLS * EI_CAMERA_RAW_FRAME_BUFFER_ROWS * EI_CAMERA_FRAME_BYTE_SIZE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 检查内存分配是否成功</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if(snapshot_buf == nullptr) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;错误：内存分配快照缓冲区失败!\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ei::signal_t signal;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    signal.total_length = EI_CLASSIFIER_INPUT_WIDTH * EI_CLASSIFIER_INPUT_HEIGHT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    signal.get_data = &amp;ei_camera_get_data;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (ei_camera_capture((size_t)EI_CLASSIFIER_INPUT_WIDTH, (size_t)EI_CLASSIFIER_INPUT_HEIGHT, snapshot_buf) == false) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;获取图像失败\r\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        free(snapshot_buf);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 运行分类器</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ei_impulse_result_t result = { 0 };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    EI_IMPULSE_ERROR err = run_classifier(&amp;signal, &amp;result, debug_nn);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (err != EI_IMPULSE_OK) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;错误：运行分类器失败 (%d)\n&quot;, err);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 打印预测结果</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ei_printf(&quot;预测结果 (DSP: %d ms., 分类: %d ms., 异常: %d ms.): \n&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                result.timing.dsp, result.timing.classification, result.timing.anomaly);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#if EI_CLASSIFIER_OBJECT_DETECTION == 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    bool bb_found = result.bounding_boxes[0].value &gt; 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (size_t ix = 0; ix &lt; result.bounding_boxes_count; ix++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        auto bb = result.bounding_boxes[ix];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (bb.value == 0) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            continue;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;    %s (%f) [ x: %u, y: %u, 宽: %u, 高: %u ]\n&quot;, bb.label, bb.value, bb.x, bb.y, bb.width, bb.height);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!bb_found) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;    没有找到物体\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (size_t ix = 0; ix &lt; EI_CLASSIFIER_LABEL_COUNT; ix++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;    %s: %.5f\n&quot;, result.classification[ix].label,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    result.classification[ix].value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#if EI_CLASSIFIER_HAS_ANOMALY == 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;    异常分数: %.3f\n&quot;, result.anomaly);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    free(snapshot_buf);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/** </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @brief   设置图像传感器并开始流媒体传输</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @retval  如果初始化失败则返回 false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bool ei_camera_init(void) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (is_initialised) return true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#if defined(CAMERA_MODEL_ESP_EYE)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pinMode(13, INPUT_PULLUP);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pinMode(14, INPUT_PULLUP);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 初始化相机</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    esp_err_t err = esp_camera_init(&amp;camera_config);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (err != ESP_OK) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Serial.printf(&quot;相机初始化失败，错误代码 0x%x\n&quot;, err);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sensor_t * s = esp_camera_sensor_get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 初始传感器上下翻转，颜色稍微饱和</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (s-&gt;id.PID == OV3660_PID) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      s-&gt;set_vflip(s, 1); // 翻转回来</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      s-&gt;set_brightness(s, 1); // 稍微提高亮度</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      s-&gt;set_saturation(s, 0); // 降低饱和度</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#if defined(CAMERA_MODEL_M5STACK_WIDE)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s-&gt;set_vflip(s, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s-&gt;set_hmirror(s, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#elif defined(CAMERA_MODEL_ESP_EYE)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s-&gt;set_vflip(s, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s-&gt;set_hmirror(s, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s-&gt;set_awb_gain(s, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_initialised = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @brief      停止传感器数据流</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void ei_camera_deinit(void) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 反初始化相机</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    esp_err_t err = esp_camera_deinit();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (err != ESP_OK)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;相机反初始化失败\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_initialised = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @brief      捕获、重缩放并裁剪图像</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @param[in]  img_width     输出图像的宽度</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @param[in]  img_height    输出图像的高度</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @param[in]  out_buf       用于存储输出图像的指针，如果要使用ei_camera_frame_buffer进行捕获和重缩放/裁剪，out_buf可以为NULL。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * @retval     如果未初始化，或捕获、重缩放或裁剪图像失败则返回 false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bool ei_camera_capture(uint32_t img_width, uint32_t img_height, uint8_t *out_buf) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    bool do_resize = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!is_initialised) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;错误：相机未初始化\r\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    camera_fb_t *fb = esp_camera_fb_get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!fb) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei_printf(&quot;相机捕获失败\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   bool converted = fmt2rgb888(fb-&gt;buf, fb-&gt;len, PIXFORMAT_JPEG, snapshot_buf);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   esp_camera_fb_return(fb);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   if(!converted){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       ei_printf(&quot;转换失败\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if ((img_width != EI_CAMERA_RAW_FRAME_BUFFER_COLS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        || (img_height != EI_CAMERA_RAW_FRAME_BUFFER_ROWS)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        do_resize = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (do_resize) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ei::image::processing::crop_and_interpolate_rgb888(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        out_buf,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EI_CAMERA_RAW_FRAME_BUFFER_COLS,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EI_CAMERA_RAW_FRAME_BUFFER_ROWS,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        out_buf,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        img_width,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        img_height);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static int ei_camera_get_data(size_t offset, size_t length, float *out_ptr)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 我们已经有一个 RGB888 缓冲区，因此重新计算偏移量到像素索引</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size_t pixel_ix = offset * 3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size_t pixels_left = length;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size_t out_ptr_ix = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (pixels_left != 0) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        out_ptr[out_ptr_ix] = (snapshot_buf[pixel_ix] &lt;&lt; 16) + (snapshot_buf[pixel_ix + 1] &lt;&lt; 8) + snapshot_buf[pixel_ix + 2];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // 转到下一个像素</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        out_ptr_ix++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pixel_ix+=3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pixels_left--;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 完成！</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#if !defined(EI_CLASSIFIER_SENSOR) || EI_CLASSIFIER_SENSOR != EI_CLASSIFIER_SENSOR_CAMERA</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#error &quot;当前传感器的模型无效&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>确保将 <strong>&quot;#include &lt;XIAO_esp32S3_CatDog2_inferencing.h&gt;&quot;</strong> 替换为您生成的库。然后上传代码并指向猫或狗的图像或实际的猫狗，我们可以在串口监视器中看到结果。</p><p>恭喜您 🎉 完成了 tinyML 图像分类项目。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="资源">资源<a href="#资源" class="hash-link" aria-label="Direct link to 资源" title="Direct link to 资源">​</a></h2><p>[PDF]<!-- --> <strong><a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/esp32-s3_datasheet.pdf" target="_blank" rel="noopener noreferrer">ESP32-S3 数据手册</a></strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="适用于-seeed-studio-xiao-esp32s3">适用于 Seeed Studio XIAO ESP32S3<a href="#适用于-seeed-studio-xiao-esp32s3" class="hash-link" aria-label="Direct link to 适用于 Seeed Studio XIAO ESP32S3" title="Direct link to 适用于 Seeed Studio XIAO ESP32S3">​</a></h3><ul><li><p><strong>[PDF]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_SCH_v1.2.pdf" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 原理图</a></p></li><li><p><strong>[ZIP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_v1.1_SCH&amp;PCB_230327.zip" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Eagle 库</a></p></li><li><p><strong>[DXF]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_v1.1_Dimensioning.dxf" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 DXF 尺寸图</a></p></li><li><p><strong>[LBR]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/Seeed-Studio-XIAO-ESP32S3-footprint-eagle.lbr" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Eagle 封装库</a></p></li><li><p><strong>[ZIP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO-ESP32S3-firmware.zip" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 工厂固件</a></p></li><li><p><strong>[XLSX]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_Sense_Pinout.xlsx" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 引脚表</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="适用于-seeed-studio-xiao-esp32s3-sense">适用于 Seeed Studio XIAO ESP32S3 Sense<a href="#适用于-seeed-studio-xiao-esp32s3-sense" class="hash-link" aria-label="Direct link to 适用于 Seeed Studio XIAO ESP32S3 Sense" title="Direct link to 适用于 Seeed Studio XIAO ESP32S3 Sense">​</a></h3><ul><li><p><strong>[PDF]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_ExpBoard_v1.0_SCH.pdf" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense 原理图</a></p></li><li><p><strong>[ZIP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/Seeeduino-xiao-ESP32S3-KiCAD-Library.zip" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense KiCAD 库</a></p></li><li><p><strong>[ZIP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_ExpBoard_v1.0_SCH&amp;PCB_230324.zip" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense Eagle 库</a></p></li><li><p><strong>[DXF]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_ExpBoard_v1.0_top.dxf" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense DXF 尺寸图（顶部）</a></p></li><li><p><strong>[DXF]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_ExpBoard_v1.0_bot.dxf" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense DXF 尺寸图（底部）</a></p></li><li><p><strong>[ZIP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAOESP32S3-Sense-firmware.zip" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense 工厂固件</a></p></li><li><p><strong>[XLSX]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO_ESP32S3_Sense_Pinout.xlsx" target="_blank" rel="noopener noreferrer">Seeed Studio XIAO ESP32S3 Sense 引脚表</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a href="#其他" class="hash-link" aria-label="Direct link to 其他" title="Direct link to 其他">​</a></h3><ul><li><p><strong>[STP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO-ESP32S3-Sense-housing-design(top).stp" target="_blank" rel="noopener noreferrer">XIAO ESP32S3 Sense 外壳设计（顶部）</a></p></li><li><p><strong>[STP]</strong> <a href="https://files.seeedstudio.com/wiki/SeeedStudio-XIAO-ESP32S3/res/XIAO-ESP32S3-Sense-housing-design(bottom).stp" target="_blank" rel="noopener noreferrer">XIAO ESP32S3 Sense 外壳设计（底部）</a></p></li></ul><p><em>剩余的开源材料正在整理中，敬请期待！</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="技术支持与产品讨论">技术支持与产品讨论<a href="#技术支持与产品讨论" class="hash-link" aria-label="Direct link to 技术支持与产品讨论" title="Direct link to 技术支持与产品讨论">​</a></h2><p>感谢您选择我们的产品！我们为您提供各种支持，确保您使用我们产品的体验尽可能顺畅。我们提供多种沟通渠道，以满足不同的需求和偏好。</p><div class="button_tech_support_container"><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="button_forum"></a><a href="https://www.seeedstudio.com/contacts" target="_blank" rel="noopener noreferrer" class="button_email"></a></div><div class="button_tech_support_container"><a href="https://discord.gg/eWkprNDMU7" target="_blank" rel="noopener noreferrer" class="button_discord"></a><a href="https://github.com/Seeed-Studio/wiki-documents/discussions/69" target="_blank" rel="noopener noreferrer" class="button_discussion"></a></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32S3_Sense/Edgeimpulse/CN_Image_classification_project.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-11-27T00:00:00.000Z">Nov 27, 2024</time></b> by <b>Agnes</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cn/edgeimpulse/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Edgeimpulse</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cn/tinyml_course_Key_Word_Spotting/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">关键词识别</div></a></nav></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#它是如何工作的" class="table-of-contents__link toc-highlight">它是如何工作的</a><ul><li><a href="#所需物品" class="table-of-contents__link toc-highlight">所需物品</a></li></ul></li><li><a href="#第-1-步收集猫狗图像" class="table-of-contents__link toc-highlight">第 1 步：收集猫狗图像</a><ul><li><a href="#11-方法-1通过-xiao-esp32-s3-sense-收集图像" class="table-of-contents__link toc-highlight">1.1 方法 1：通过 XIAO-ESP32-S3-Sense 收集图像</a><ul><li><a href="#111-连接相机" class="table-of-contents__link toc-highlight">1.1.1 连接相机</a></li><li><a href="#112-在-arduino-中安装-xiao-esp32-s3-sense" class="table-of-contents__link toc-highlight">1.1.2 在 Arduino 中安装 XIAO-ESP32-S3-Sense</a></li><li><a href="#12-上传可以拍照并保存到-sd-卡的-sketch" class="table-of-contents__link toc-highlight">1.2 上传可以拍照并保存到 SD 卡的 Sketch</a></li></ul></li><li><a href="#12-方法-2直接将图像上传到-edgeimpulse" class="table-of-contents__link toc-highlight">1.2 方法 2：直接将图像上传到 EdgeImpulse</a></li></ul></li><li><a href="#第-2-步设计-impulse-并训练我们的神经网络" class="table-of-contents__link toc-highlight">第 2 步：设计 Impulse 并训练我们的神经网络</a></li><li><a href="#第3步运行示例代码" class="table-of-contents__link toc-highlight">第3步：运行示例代码</a></li><li><a href="#资源" class="table-of-contents__link toc-highlight">资源</a><ul><li><a href="#适用于-seeed-studio-xiao-esp32s3" class="table-of-contents__link toc-highlight">适用于 Seeed Studio XIAO ESP32S3</a></li><li><a href="#适用于-seeed-studio-xiao-esp32s3-sense" class="table-of-contents__link toc-highlight">适用于 Seeed Studio XIAO ESP32S3 Sense</a></li><li><a href="#其他" class="table-of-contents__link toc-highlight">其他</a></li></ul></li><li><a href="#技术支持与产品讨论" class="table-of-contents__link toc-highlight">技术支持与产品讨论</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Navigation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Getting_Started/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/Sensor_Network/">Sensor and Sensing</a></li><li class="footer__item"><a class="footer__link-item" href="/Network/">Network</a></li><li class="footer__item"><a class="footer__link-item" href="/Edge_Computing/">Edge Computing</a></li><li class="footer__item"><a class="footer__link-item" href="/Cloud/">Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/Solutions/">Solutions</a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/QqMgVwHT3X" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://project.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Hub</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/ecosystem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partners</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/distributors.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Distributors</a></li></ul></div><div class="col footer__col"><div class="footer__title">Quick Guide</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bazzar</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/HowToGetHelp" target="_blank" rel="noopener noreferrer" class="footer__link-item">How to get help</a></li><li class="footer__item"><a href="https://support.seeedstudio.com/knowledgebase" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQs</a></li><li class="footer__item"><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/TechnicalSupport" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technical Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/about-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Seeed</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/join-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Join us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/contacts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/blog/2020/04/22/seeed-in-the-news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Press</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Seeed Studio, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d4c033b7.js"></script>
<script src="/assets/js/main.5b9c7403.js"></script>
</body>
</html>